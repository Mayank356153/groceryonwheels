{"version":3,"file":"static/js/5222.0aeed4d8.chunk.js","mappings":"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","sources":["Loading.jsx","components/User/UserList.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nexport default function LoadingScreen() {\n    const[isSidebarOpen,setSidebarOpen]=useState(false)\n    return (\n        <div className='flex flex-col h-screen'>\n        {/* Navbar component with sidebar open state */}\n        <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\n        <div className='flex flex-grow mt-20'>\n          <div>\n            {/* Sidebar component with open state */}\n            <Sidebar isSidebarOpen={isSidebarOpen} />\n          </div>\n  \n          {/* Container for the entire component */}\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm\">\n          <div className=\"flex flex-col items-center\">\n            <div className=\"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin\"></div>\n            <p className=\"mt-3 text-lg font-semibold text-gray-700\">Loading...</p>\n          </div>\n        </div>\n          \n        </div>\n      </div>\n    );\n  }\n  ","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { Link, useNavigate, NavLink } from \"react-router-dom\";\r\nimport Navbar from \"../Navbar\";\r\nimport Sidebar from \"../Sidebar\";\r\nimport { BiChevronRight } from \"react-icons/bi\";\r\nimport { FaTachometerAlt } from \"react-icons/fa\";\r\nimport LoadingScreen from \"../../Loading\";\r\nimport axios from \"axios\";\r\n\r\nconst UserList = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage, setItemsPerPage] = useState(10);\r\n  const [actionMenu, setActionMenu] = useState(null); // Track open popup\r\n  const [popupPosition, setPopupPosition] = useState({ top: 0, left: 0 }); // Popup position\r\n  const navigate = useNavigate();\r\n  const [isSidebarOpen, setSidebarOpen] = useState(true);\r\n  const menuRef = useRef(null); // Ref for outside click detection\r\n  const buttonRefs = useRef({}); // Refs for action buttons\r\n  const menuRefs = useRef({});\r\n\r\n  // Close popup when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\r\n        setActionMenu(null);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  // Initial setup and fetch users\r\n  useEffect(() => {\r\n    if (window.innerWidth < 768) setSidebarOpen(false);\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const fetchUsers = async () => {\r\n    setLoading(true);\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      navigate(\"/\");\r\n      return;\r\n    }\r\n    try {\r\n      const res = await axios.get(\"/admiaddinguser/userlist\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setUsers(res.data);\r\n    } catch (err) {\r\n      console.error(\"Error fetching users:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const toggleStatus = async (id, currentStatus) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      await axios.patch(\r\n        `/admiaddinguser/${id}/status`,\r\n        { status: currentStatus === \"active\" ? \"inactive\" : \"active\" },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      fetchUsers();\r\n    } catch (err) {\r\n      console.error(\"Status update error:\", err);\r\n      alert(\"Failed to update status\");\r\n    }\r\n  };\r\n\r\n  const deleteUser = async (id) => {\r\n    if (!window.confirm(\"Delete this user?\")) return;\r\n    setLoading(true);\r\n    try {\r\n      await axios.delete(`/admiaddinguser/${id}`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n      fetchUsers();\r\n    } catch (err) {\r\n      console.error(\"Delete error:\", err);\r\n      alert(\"Failed to delete user\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Toggle action menu and calculate position\r\n  const toggleActionMenu = (userId, event) => {\r\n    if (actionMenu === userId) {\r\n      setActionMenu(null);\r\n      return;\r\n    }\r\n    setActionMenu(userId);\r\n\r\n    // Calculate popup position\r\n    const button = buttonRefs.current[userId];\r\n    if (button) {\r\n      const rect = button.getBoundingClientRect();\r\n      const popupWidth = 192; // w-48 in Tailwind (48 * 4px)\r\n      const popupHeight = 80; // Approximate height (2 items * ~40px)\r\n      const viewportWidth = window.innerWidth;\r\n      const viewportHeight = window.innerHeight;\r\n\r\n      let top = rect.bottom + 8; // 8px below button\r\n      let left = rect.right - popupWidth; // Align right edge with button's right\r\n\r\n      // Adjust if popup would go off-screen\r\n      if (left < 8) left = 8; // Keep 8px from left edge\r\n      if (top + popupHeight > viewportHeight - 8) {\r\n        top = rect.top - popupHeight - 8; // Move above button\r\n      }\r\n      if (top < 8) top = 8; // Keep 8px from top edge\r\n\r\n      setPopupPosition({ top, left });\r\n    }\r\n  };\r\n\r\n  // Filter + paginate\r\n  const filtered = users.filter((u) => {\r\n    const t = searchTerm.toLowerCase().trim();\r\n    return (\r\n      !t ||\r\n      u.userName?.toLowerCase().includes(t) ||\r\n      u.Email?.toLowerCase().includes(t) ||\r\n      `${u.FirstName} ${u.LastName}`.toLowerCase().includes(t)\r\n    );\r\n  });\r\n  const totalPages = Math.ceil(filtered.length / itemsPerPage);\r\n  const start = (currentPage - 1) * itemsPerPage;\r\n  const current = filtered.slice(start, start + itemsPerPage);\r\n\r\n  if (loading) return <LoadingScreen />;\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-screen\">\r\n      <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\r\n      <div className=\"flex flex-grow\">\r\n        <Sidebar isSidebarOpen={isSidebarOpen} />\r\n\r\n        <div className=\"flex flex-col flex-1 p-4\">\r\n          {/* Title + Breadcrumb */}\r\n          <header className=\"flex justify-between items-center mb-4 px-2 py-2 bg-gray-100 rounded shadow\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <h1 className=\"text-lg font-semibold\">User List</h1>\r\n              <span className=\"text-xs text-gray-600\">View/Search Users</span>\r\n            </div>\r\n            <nav className=\"flex items-center text-xs text-gray-500 gap-1\">\r\n              <NavLink to=\"/dashboard\" className=\"flex items-center hover:text-cyan-600\">\r\n                <FaTachometerAlt /> Home\r\n              </NavLink>\r\n              <BiChevronRight />\r\n              <NavLink to=\"/admin/user/list\" className=\"hover:text-cyan-600\">\r\n                User List\r\n              </NavLink>\r\n            </nav>\r\n          </header>\r\n\r\n          {/* Controls */}\r\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between mb-0 gap-2\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <span>Show</span>\r\n              <select\r\n                className=\"p-1 border rounded\"\r\n                value={itemsPerPage}\r\n                onChange={(e) => {\r\n                  setItemsPerPage(+e.target.value);\r\n                  setCurrentPage(1);\r\n                }}\r\n              >\r\n                {[10, 20, 50].map((n) => (\r\n                  <option key={n}>{n}</option>\r\n                ))}\r\n              </select>\r\n              <span>Entries</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <input\r\n                className=\"p-1 border rounded\"\r\n                placeholder=\"Search\"\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n              />\r\n              <Link to=\"/create-user\">\r\n                <button className=\"px-4 py-2 text-white bg-cyan-500 rounded\">\r\n                  + New User\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Table */}\r\n          <div className=\"relative\">\r\n            <table className=\"w-full border-collapse border\">\r\n              <thead className=\"bg-gray-200\">\r\n                <tr>\r\n                  {[\r\n                    \"#\",\r\n                    \"Store Name\",\r\n                    \"User Name\",\r\n                    \"Name\",\r\n                    \"Mobile\",\r\n                    \"Email\",\r\n                    \"Role\",\r\n                    \"Created On\",\r\n                    \"Status\",\r\n                    \"Action\",\r\n                  ].map((h) => (\r\n                    <th key={h} className=\"p-2 border text-left\">\r\n                      {h}\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {current.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan=\"10\" className=\"p-4 text-center\">\r\n                      No data Available\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  current.map((u, i) => (\r\n                    <tr key={u._id} className=\"text-sm\">\r\n                      <td className=\"p-2 border\">{start + i + 1}</td>\r\n                      <td className=\"p-2 border\">\r\n                        {Array.isArray(u.Store)\r\n                          ? u.Store.map((s) => s.StoreName).join(\", \")\r\n                          : u.Store?.StoreName || \"N/A\"}\r\n                      </td>\r\n                      <td className=\"p-2 border\">{u.userName}</td>\r\n                      <td className=\"p-2 border\">\r\n                        {u.FirstName} {u.LastName}\r\n                      </td>\r\n                      <td className=\"p-2 border\">{u.Mobile}</td>\r\n                      <td className=\"p-2 border\">{u.Email}</td>\r\n                      <td className=\"p-2 border\">{u.Role}</td>\r\n                      <td className=\"p-2 border\">{new Date(u.createdAt).toLocaleDateString()}</td>\r\n                      <td\r\n                        className=\"p-2 border text-center cursor-pointer\"\r\n                        onClick={() => toggleStatus(u._id, u.status)}\r\n                      >\r\n                        {u.status === \"active\" ? (\r\n                          <span className=\"px-2 py-1 bg-green-500 text-white rounded-full\">Active</span>\r\n                        ) : (\r\n                          <span className=\"px-2 py-1 bg-red-600 text-white rounded-full\">Inactive</span>\r\n                        )}\r\n                      </td>\r\n                      <td className=\"p-2 border\">\r\n  <div>\r\n    <button\r\n      ref={(el) => (buttonRefs.current[u._id] = el)}\r\n      className=\"px-3 py-1.5 font-semibold text-white bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\r\n      onClick={(e) => toggleActionMenu(u._id, e)}\r\n      aria-expanded={actionMenu === u._id}\r\n      aria-controls={`action-menu-${u._id}`}\r\n    >\r\n      Action\r\n    </button>\r\n    {actionMenu === u._id && (\r\n      <div\r\n        id={`action-menu-${u._id}`}\r\n        ref={(el) => (menuRefs.current[u._id] = el)} // Unique ref for each dropdown\r\n        className=\"fixed bg-white border border-gray-200 rounded-lg shadow-xl z-[100] w-48 animate-slide-in\"\r\n        style={{\r\n          top: `${popupPosition.top}px`,\r\n          left: `${popupPosition.left}px`,\r\n          animation: \"slideIn 0.15s ease-in-out forwards\",\r\n        }}\r\n      >\r\n        <button\r\n          className=\"w-full px-4 py-2 text-left text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors duration-150\"\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            setActionMenu(null);\r\n            navigate(`/create-user?id=${u._id}`);\r\n          }}\r\n        >\r\n          Edit\r\n        </button>\r\n        <button\r\n          className=\"w-full px-4 py-2 text-left text-red-600 hover:bg-red-50 hover:text-red-700 transition-colors duration-150\"\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            setActionMenu(null);\r\n            deleteUser(u._id);\r\n          }}\r\n        >\r\n          Delete\r\n        </button>\r\n      </div>\r\n    )}\r\n  </div>\r\n</td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          {/* Pagination */}\r\n          <div className=\"flex flex-col md:flex-row justify-between items-center mt-4\">\r\n            <span className=\"text-sm\">\r\n              Showing {start + 1} to {Math.min(start + itemsPerPage, filtered.length)} of {filtered.length} entries\r\n            </span>\r\n            <div className=\"flex gap-2 mt-2 md:mt-0\">\r\n              <button\r\n                className={`px-3 py-1 rounded ${currentPage === 1 ? \"bg-gray-300\" : \"bg-blue-500 text-white\"}`}\r\n                disabled={currentPage === 1}\r\n                onClick={() => setCurrentPage((p) => p - 1)}\r\n              >\r\n                Previous\r\n              </button>\r\n              <button\r\n                className={`px-3 py-1 rounded ${currentPage === totalPages ? \"bg-gray-300\" : \"bg-blue-500 text-white\"}`}\r\n                disabled={currentPage === totalPages}\r\n                onClick={() => setCurrentPage((p) => p + 1)}\r\n              >\r\n                Next\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserList;"],"names":["LoadingScreen","isSidebarOpen","setSidebarOpen","useState","_jsxs","className","children","_jsx","Navbar","Sidebar","UserList","loading","setLoading","users","setUsers","searchTerm","setSearchTerm","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","actionMenu","setActionMenu","popupPosition","setPopupPosition","top","left","navigate","useNavigate","menuRef","useRef","buttonRefs","menuRefs","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","window","innerWidth","fetchUsers","async","token","localStorage","getItem","res","axios","get","headers","Authorization","data","err","console","error","filtered","filter","u","_u$userName","_u$Email","t","toLowerCase","trim","userName","includes","Email","FirstName","LastName","totalPages","Math","ceil","length","start","slice","NavLink","to","FaTachometerAlt","BiChevronRight","value","onChange","e","map","n","placeholder","Link","h","colSpan","i","_u$Store","Array","isArray","Store","s","StoreName","join","Mobile","Role","Date","createdAt","toLocaleDateString","onClick","id","currentStatus","patch","status","alert","toggleStatus","_id","ref","el","toggleActionMenu","userId","button","rect","getBoundingClientRect","popupWidth","popupHeight","viewportHeight","innerHeight","bottom","right","style","animation","stopPropagation","confirm","delete","deleteUser","min","disabled","p"],"sourceRoot":""}