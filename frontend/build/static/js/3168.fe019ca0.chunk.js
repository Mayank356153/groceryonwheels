"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3168],{14840:(e,s,t)=>{t.d(s,{A:()=>n});var r=t(65043),l=t(21197),a=t(59255),d=t(70579);function n(){const[e,s]=(0,r.useState)(!1);return(0,d.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,d.jsx)(l.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,d.jsxs)("div",{className:"flex flex-grow mt-20",children:[(0,d.jsx)("div",{children:(0,d.jsx)(a.A,{isSidebarOpen:e})}),(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:(0,d.jsxs)("div",{className:"flex flex-col items-center",children:[(0,d.jsx)("div",{className:"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin"}),(0,d.jsx)("p",{className:"mt-3 text-lg font-semibold text-gray-700",children:"Loading..."})]})})]})]})}},63168:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var r=t(65043),l=t(60184),a=t(21197),d=t(59255),n=t(86213),i=t(14840),c=t(66727),o=t(70579);const x=()=>{const[e,s]=(0,r.useState)(!0),[t,x]=(0,r.useState)(!1),m=(0,c.Zp)(),[h,f]=(0,r.useState)([]),[p,b]=(0,r.useState)(null);(0,r.useEffect)((()=>{window.innerWidth<768&&s(!1)}),[window.innerWidth]);const y=async()=>{try{x(!0);const e=await n.A.get("/api/delivery/slot/all-slot",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("DAta"),console.log(e),f(e.data.data)}catch(e){console.error("Error fetching delivery slot:",e.message)}finally{x(!1)}};(0,r.useEffect)((()=>{y()}),[]);return t?(0,o.jsx)(i.A,{}):(0,o.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,o.jsx)(a.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,o.jsxs)("div",{className:"box-border flex",children:[(0,o.jsx)("div",{className:"w-auto",children:(0,o.jsx)(d.A,{isSidebarOpen:e})}),(0,o.jsxs)("div",{className:"overflow-x-auto  flex flex-col p-2 md:p-2 min-h-screen w-full",children:[(0,o.jsxs)("header",{className:"flex flex-col items-start justify-between p-0 mb-6 md:flex-row md:items-center",children:[(0,o.jsx)("h2",{className:"text-lg font-bold md:text-xl",children:"Delivery Slot List"}),(0,o.jsxs)("nav",{className:"flex flex-wrap gap-2 mt-2 text-sm text-gray-600 md:mt-0",children:[(0,o.jsxs)(c.k2,{to:"/dashboard",className:"flex items-center text-gray-700 no-underline hover:text-cyan-600",children:[(0,o.jsx)(l.$BV,{className:"mr-2 text-gray-500 hover:text-cyan-600"})," Home"]}),(0,o.jsx)(c.k2,{to:"/delivery-slot/view",className:"flex items-center text-gray-700 no-underline hover:text-cyan-600",children:"> Delivery Slot List"})]})]}),(0,o.jsxs)("div",{className:"p-4 mb-4 bg-white border-t-4 rounded shadow border-cyan-500",children:[(0,o.jsx)("div",{className:"flex flex-col items-center justify-end mb-4 md:flex-row md:items-center",children:(0,o.jsx)("button",{className:"px-4 py-1 mt-2 text-white rounded bg-cyan-400 hover:bg-cyan-600 md:mt-0",onClick:()=>m("/delivery-slot/create"),children:"+ Create Delivery Slot"})}),(0,o.jsx)("div",{className:"relative w-full overflow-x-auto ",children:(0,o.jsxs)("table",{className:"w-full bg-white border-collapse rounded-md shadow-lg",children:[(0,o.jsx)("thead",{className:"text-sm bg-gray-100",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"px-4 py-2 border",children:"ID"}),(0,o.jsx)("th",{className:"px-4 py-2 border",children:"Start Time"}),(0,o.jsx)("th",{className:"px-4 py-2 border",children:"End Time"}),(0,o.jsx)("th",{className:"px-4 py-2 border",children:"Fee"}),(0,o.jsx)("th",{className:"px-4 py-2 border",children:"Action"})]})}),(0,o.jsx)("tbody",{children:0===(null===h||void 0===h?void 0:h.length)?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"5",className:"py-4 text-sm text-center text-gray-500",children:"No data available in table"})}):null===h||void 0===h?void 0:h.map((e=>(0,o.jsxs)("tr",{className:"transition-colors border-t hover:bg-gray-50",children:[(0,o.jsx)("td",{className:"px-4 py-3 text-sm border",children:e._id}),(0,o.jsx)("td",{className:"px-4 py-3 text-sm border",children:e.startTime}),(0,o.jsx)("td",{className:"px-4 py-3 text-sm border",children:e.endTime}),(0,o.jsxs)("td",{className:"px-4 py-3 text-sm border",children:["$",e.fee]}),(0,o.jsxs)("td",{className:"relative px-4 py-3 text-sm border",children:[(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsxs)("button",{className:"flex items-center gap-1 px-3 py-1 text-sm font-medium text-white transition-colors rounded-md bg-cyan-600 hover:bg-cyan-700",onClick:s=>{var t;s.stopPropagation(),t=e._id,b(p===t?null:t)},children:["Actions",(0,o.jsx)("span",{className:"text-xs",children:"\u25bc"})]})}),p===e._id&&(0,o.jsx)("div",{className:"fixed z-50 mt-1 bg-white border border-gray-200 rounded-md shadow-lg w-44 animate-fadeIn",children:(0,o.jsxs)("button",{className:"flex items-center w-full gap-2 px-4 py-2 text-sm text-red-600 transition-colors hover:bg-red-50",onClick:()=>(async e=>{if(window.confirm("Do you want to delete this ?")){x(!0);try{await n.A.delete(`/api/delivery/slot/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),alert("Deleted Successfully")}catch(s){console.error("Error deleting advance payment:",s.message)}finally{y(),x(!1)}}})(e._id),children:[(0,o.jsx)(l.qbC,{className:"text-xs"}),"Delete"]})})]})]},e._id)))})]})})]})]})]})]})}}}]);
//# sourceMappingURL=3168.fe019ca0.chunk.js.map