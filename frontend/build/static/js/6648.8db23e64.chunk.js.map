{"version":3,"file":"static/js/6648.8db23e64.chunk.js","mappings":"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","sources":["components/Settings/UnitsList.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { FaTachometerAlt } from \"react-icons/fa\";\r\nimport { BiChevronRight } from \"react-icons/bi\";\r\nimport Navbar  from \"../Navbar.jsx\";\r\nimport Sidebar from \"../Sidebar.jsx\";\r\nimport axios   from \"axios\";\r\nimport { jsPDF } from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\nimport * as XLSX from \"xlsx\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst UnitsList = () => {\r\n  const navigate = useNavigate();\r\n\r\n  /* ─────────────── UI state ─────────────── */\r\n  const [isSidebarOpen, setSidebarOpen] = useState(true);\r\n  const [units,  setUnits]  = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [entries, setEntries]     = useState(10);\r\n  const [page,    setPage]        = useState(1);\r\n\r\n  /* ─────────────── permissions ───────────── */\r\n  const [localPerms, setLocalPerms] = useState([]);\r\n  const isAdmin =\r\n    (localStorage.getItem(\"role\") || \"guest\").toLowerCase() === \"admin\";\r\n\r\n  const hasPermissionFor = (module, action) =>\r\n    isAdmin ||\r\n    localPerms.some(\r\n      p =>\r\n        p.module.toLowerCase() === module.toLowerCase() &&\r\n        p.actions.map(a => a.toLowerCase()).includes(action.toLowerCase())\r\n    );\r\n\r\n  /* grab permissions once */\r\n  useEffect(() => {\r\n    try {\r\n      setLocalPerms(JSON.parse(localStorage.getItem(\"permissions\") || \"[]\"));\r\n    } catch {\r\n      setLocalPerms([]);\r\n    }\r\n  }, []);\r\n\r\n  /* collapse sidebar on small screens */\r\n  useEffect(() => {\r\n    if (window.innerWidth < 768) setSidebarOpen(false);\r\n  }, []);\r\n\r\n  /* ─────────────── data fetch ────────────── */\r\n  const fetchUnits = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const { data } = await axios.get(\r\n        \"api/units\",\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setUnits(data.data || []);\r\n    } catch (err) {\r\n      console.error(\"Fetch units:\", err.message);\r\n    }\r\n  };\r\n  useEffect(() => { fetchUnits(); }, []);\r\n\r\n  /* ─────────────── search & paging ───────── */\r\n  const filtered = units.filter(u =>\r\n    u.unitName.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n  const idxLast  = page * entries;\r\n  const idxFirst = idxLast - entries;\r\n  const rows     = filtered.slice(idxFirst, idxLast);\r\n  const pages    = Math.ceil(filtered.length / entries);\r\n\r\n  /* ─────────────── exports (copy / xls / …) ─ */\r\n  const copyToClipboard = () => {\r\n    navigator.clipboard.writeText(\r\n      filtered.map(u => `${u.unitName}, ${u.description}, ${u.status}`).join(\"\\n\")\r\n    );\r\n    alert(\"Data copied to clipboard!\");\r\n  };\r\n  const exportExcel = () => {\r\n    const ws = XLSX.utils.json_to_sheet(filtered);\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, \"Units\");\r\n    XLSX.writeFile(wb, \"units.xlsx\");\r\n  };\r\n  const exportPdf = () => {\r\n    const doc = new jsPDF();\r\n    doc.text(\"Units List\", 20, 20);\r\n    autoTable(doc, {\r\n      head: [[\"Unit Name\", \"Description\", \"Status\"]],\r\n      body: filtered.map(u => [u.unitName, u.description, u.status]),\r\n    });\r\n    doc.save(\"units.pdf\");\r\n  };\r\n  const exportCsv = () => {\r\n    const csv =\r\n      \"data:text/csv;charset=utf-8,\" +\r\n      filtered.map(u => [u.unitName, u.description, u.status].join(\",\")).join(\"\\n\");\r\n    const link = Object.assign(document.createElement(\"a\"), {\r\n      href: encodeURI(csv),\r\n      download: \"units.csv\",\r\n    });\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    link.remove();\r\n  };\r\n\r\n  /* ─────────────── CRUD helpers ──────────── */\r\n  const toggleStatus = async unit => {\r\n    if (!hasPermissionFor(\"Units\", \"Edit\")) return;\r\n\r\n    const newStatus = unit.status === \"active\" ? \"inactive\" : \"active\";\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      await axios.put(\r\n        `api/units/${unit._id}`,\r\n        { status: newStatus },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      fetchUnits();\r\n    } catch (err) {\r\n      console.error(\"Toggle status:\", err.message);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async id => {\r\n    if (!window.confirm(\"Delete this unit?\")) return;\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      await axios.delete(\r\n        `api/units/${id}`,\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      fetchUnits();\r\n    } catch (err) {\r\n      console.error(\"Delete unit:\", err.message);\r\n    }\r\n  };\r\n\r\n  /* ─────────────── render ────────────────── */\r\n  return (\r\n    <div className=\"flex flex-col h-screen\">\r\n      <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\r\n      <div className=\"flex flex-grow\">\r\n        <Sidebar isSidebarOpen={isSidebarOpen} />\r\n\r\n        <div className=\"flex-grow flex flex-col p-2 md:p-2\">\r\n          {/* page header */}\r\n          <header className=\"flex flex-col sm:flex-row items-center justify-between p-4 mb-2 bg-gray-100 rounded-md shadow\">\r\n            <div className=\"flex items-baseline gap-1\">\r\n              <h1 className=\"text-lg sm:text-xl font-semibold\">Units List</h1>\r\n              <span className=\"text-xs sm:text-sm text-gray-600\">View / Search</span>\r\n            </div>\r\n            <nav className=\"flex items-center text-xs sm:text-sm text-gray-500\">\r\n              <a href=\"/dashboard\" className=\"flex items-center hover:text-cyan-600\">\r\n                <FaTachometerAlt className=\"mr-2\" /> Home\r\n              </a>\r\n              <BiChevronRight className=\"mx-1 sm:mx-2\" />\r\n              <span>Units List</span>\r\n            </nav>\r\n          </header>\r\n\r\n          {/* card */}\r\n          <div className=\"p-4 bg-white border-t-4 border-cyan-500 rounded-lg shadow-md\">\r\n            <header className=\"flex items-center justify-between mb-4\">\r\n              <h2 className=\"text-lg font-semibold\">Units List</h2>\r\n\r\n              {hasPermissionFor(\"Units\", \"Add\") && (\r\n                <button\r\n                  className=\"px-4 py-2 rounded text-white bg-cyan-500\"\r\n                  onClick={() => navigate(\"/add-unit\")}\r\n                >\r\n                  + New Unit\r\n                </button>\r\n              )}\r\n            </header>\r\n\r\n            {/* controls */}\r\n            <div className=\"flex flex-col lg:flex-row lg:items-center gap-2 mb-4\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-sm\">Show</span>\r\n                <select\r\n                  value={entries}\r\n                  onChange={e => { setEntries(+e.target.value); setPage(1); }}\r\n                  className=\"p-2 text-sm border rounded-md\"\r\n                >\r\n                  <option>10</option><option>20</option><option>50</option>\r\n                </select>\r\n                <span className=\"text-sm\">Entries</span>\r\n              </div>\r\n\r\n              <div className=\"flex flex-1 gap-1\">\r\n                <button onClick={copyToClipboard} className=\"flex-1 px-3 py-2 text-sm text-white bg-cyan-500\">Copy</button>\r\n                <button onClick={exportExcel}     className=\"flex-1 px-3 py-2 text-sm text-white bg-cyan-500\">Excel</button>\r\n                <button onClick={exportPdf}       className=\"flex-1 px-3 py-2 text-sm text-white bg-cyan-500\">PDF</button>\r\n                <button onClick={() => window.print()} className=\"flex-1 px-3 py-2 text-sm text-white bg-cyan-500\">Print</button>\r\n                <button onClick={exportCsv}       className=\"flex-1 px-3 py-2 text-sm text-white bg-cyan-500\">CSV</button>\r\n              </div>\r\n\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search\"\r\n                className=\"p-2 text-sm border rounded-md lg:w-60\"\r\n                onChange={e => setSearch(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            {/* table */}\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full border-collapse rounded-lg shadow\">\r\n                <thead className=\"bg-gray-200\">\r\n                  <tr>\r\n                    <th className=\"px-4 py-2 border\">Unit Name</th>\r\n                    <th className=\"px-4 py-2 border\">Description</th>\r\n                    <th className=\"px-4 py-2 border\">Status</th>\r\n                    <th className=\"px-4 py-2 border text-center\">Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {rows.length === 0 ? (\r\n                    <tr>\r\n                      <td colSpan=\"4\" className=\"p-4 text-center text-gray-500\">\r\n                        No matching records found\r\n                      </td>\r\n                    </tr>\r\n                  ) : (\r\n                    rows.map(unit => (\r\n                      <tr key={unit._id} className=\"border-b\">\r\n                        <td className=\"px-4 py-2 border\">{unit.unitName}</td>\r\n                        <td className=\"px-4 py-2 border\">{unit.description}</td>\r\n                        <td className=\"px-4 py-2 border\">\r\n                          <span\r\n                            onClick={() => toggleStatus(unit)}\r\n                            className={`px-2 py-1 rounded-lg cursor-pointer ${\r\n                              unit.status === \"active\"\r\n                                ? \"bg-green-500 text-white\"\r\n                                : \"bg-red-500 text-white\"\r\n                            } ${hasPermissionFor(\"Units\",\"Edit\") ? \"\" : \"cursor-not-allowed opacity-60\"}`}\r\n                          >\r\n                            {unit.status}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"px-4 py-2 border text-center\">\r\n                          {hasPermissionFor(\"Units\", \"Edit\") && (\r\n                            <button\r\n                              className=\"px-2 py-1 mr-2 text-white rounded bg-cyan-600 hover:bg-cyan-500\"\r\n                              onClick={() => navigate(`/edit-unit/${unit._id}`)}\r\n                            >\r\n                              Edit\r\n                            </button>\r\n                          )}\r\n                          {hasPermissionFor(\"Units\", \"Delete\") && (\r\n                            <button\r\n                              className=\"px-2 py-1 text-white bg-red-600 rounded hover:bg-red-500\"\r\n                              onClick={() => handleDelete(unit._id)}\r\n                            >\r\n                              Delete\r\n                            </button>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            {/* pagination */}\r\n            <div className=\"flex justify-between mt-4 text-sm\">\r\n              <div>\r\n                Showing {idxFirst + 1} to {Math.min(idxLast, filtered.length)} of {filtered.length} entries\r\n              </div>\r\n              <div>\r\n                <button\r\n                  onClick={() => setPage(p => Math.max(1, p - 1))}\r\n                  disabled={page === 1}\r\n                  className=\"px-2 py-1 mr-2 bg-gray-300 rounded disabled:opacity-50\"\r\n                >\r\n                  Previous\r\n                </button>\r\n                <button\r\n                  onClick={() => setPage(p => (idxLast >= filtered.length ? p : p + 1))}\r\n                  disabled={idxLast >= filtered.length}\r\n                  className=\"px-2 py-1 bg-gray-300 rounded disabled:opacity-50\"\r\n                >\r\n                  Next\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UnitsList;\r\n"],"names":["UnitsList","navigate","useNavigate","isSidebarOpen","setSidebarOpen","useState","units","setUnits","search","setSearch","entries","setEntries","page","setPage","localPerms","setLocalPerms","isAdmin","localStorage","getItem","toLowerCase","hasPermissionFor","module","action","some","p","actions","map","a","includes","useEffect","JSON","parse","window","innerWidth","fetchUnits","async","token","data","axios","get","headers","Authorization","err","console","error","message","filtered","filter","u","unitName","idxLast","idxFirst","rows","slice","Math","ceil","length","_jsxs","className","children","_jsx","Navbar","Sidebar","href","FaTachometerAlt","BiChevronRight","onClick","value","onChange","e","target","copyToClipboard","navigator","clipboard","writeText","description","status","join","alert","exportExcel","ws","XLSX","json_to_sheet","wb","book_new","book_append_sheet","exportPdf","doc","jsPDF","text","autoTable","head","body","save","print","exportCsv","csv","link","Object","assign","document","createElement","encodeURI","download","appendChild","click","remove","type","placeholder","colSpan","unit","newStatus","put","_id","toggleStatus","confirm","delete","id","handleDelete","min","max","disabled"],"sourceRoot":""}