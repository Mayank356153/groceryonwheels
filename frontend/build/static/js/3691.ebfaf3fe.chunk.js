"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3691],{14840:(e,s,a)=>{a.d(s,{A:()=>o});var t=a(65043),r=a(21197),n=a(59255),l=a(70579);function o(){const[e,s]=(0,t.useState)(!1);return(0,l.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,l.jsx)(r.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,l.jsxs)("div",{className:"flex flex-grow mt-20",children:[(0,l.jsx)("div",{children:(0,l.jsx)(n.A,{isSidebarOpen:e})}),(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin"}),(0,l.jsx)("p",{className:"mt-3 text-lg font-semibold text-gray-700",children:"Loading..."})]})})]})]})}},53691:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var t=a(65043),r=a(59255),n=a(21197),l=a(49804),o=a(60184),d=a(86213),i=(a(14840),a(66727)),c=a(70579);const x=()=>{const[e,s]=(0,t.useState)(!0),[a,x]=(0,t.useState)(!1),m=(0,i.Zp)(),[u]=(0,i.ok)(),f=u.get("id"),[g,h]=(0,t.useState)({brandName:"",description:""});(0,t.useEffect)((()=>{window.innerWidth<768&&s(!1)}),[]);(0,t.useEffect)((()=>{f&&(async()=>{x(!0);try{const e=await d.A.get("api/brands",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log(e.data);const s=e.data.data.find((e=>e._id===f));h(s)}catch(e){console.log(e.message)}finally{x(!1)}})()}),[f]);const p=e=>{const{name:s,value:a}=e.target;h((e=>({...e,[s]:a})))};return(0,c.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,c.jsx)(n.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,c.jsxs)("div",{className:"flex flex-col flex-grow md:flex-row",children:[(0,c.jsx)(r.A,{isSidebarOpen:e}),(0,c.jsx)("div",{className:"flex-grow p-4  transition-all duration-30 bg-gray-100",children:(0,c.jsx)("div",{className:"w-full mt-14",children:(0,c.jsxs)("div",{className:"w-full",children:[(0,c.jsxs)("header",{className:"flex flex-col items-center justify-between mb-6 md:flex-row",children:[(0,c.jsxs)("div",{className:"flex items-baseline gap-1 text-center sm:flex-row sm:text-left",children:[(0,c.jsx)("h1",{className:"text-lg font-semibold truncate sm:text-xl",children:"Brand"}),(0,c.jsx)("span",{className:"text-xs text-gray-600 sm:text-sm",children:"Add/Update Brand"})]}),(0,c.jsxs)("nav",{className:"flex flex-wrap mt-2 text-sm text-gray-600",children:[(0,c.jsxs)("a",{href:"/dashboard",className:"flex items-center text-gray-400 no-underline hover:text-cyan-600",children:[(0,c.jsx)(o.$BV,{className:"mr-2 text-gray-500"})," Home"]}),(0,c.jsx)(l.XWt,{className:" text-gray-400 mt-1.5"}),(0,c.jsx)("a",{href:"/brands-list",className:"text-gray-400 no-underline hover:text-cyan-600",children:"Brand List"}),(0,c.jsx)(l.XWt,{className:" text-gray-400 mt-1.5"}),(0,c.jsx)("a",{href:"#",className:"text-gray-400 no-underline hover:text-cyan-600",children:"Brand"})]})]}),(0,c.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f?(async()=>{x(!0);try{const e=await d.A.put(`api/brands/${f}`,g,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Response:",e.data),alert(" Update Successfully")}catch(t){var e,s,a;console.error("Error:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),alert("Unsuccessful: "+((null===(s=t.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||t.message))}finally{x(!1),m("/brand-list")}})():(async()=>{try{console.log("Sending FormData:",g);const e=await d.A.post("api/brands",g,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Response:",e.data),alert("Brand Added Successfully")}catch(t){var e,s,a;console.error("Error:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),alert("Unsuccessful: "+((null===(s=t.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||t.message))}})(),h({brandName:"",description:""})},className:"p-2 border-t-4 rounded shadow border-cyan-500",children:[(0,c.jsx)("p",{className:"mb-3 text-lg font-medium text-gray-700",children:"Please Enter Valid Data"}),(0,c.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,c.jsxs)("label",{className:"block font-semibold text-gray-700",children:["Brand Name",(0,c.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,c.jsx)("input",{type:"text",value:g.brandName,onChange:p,name:"brandName",className:"w-full px-2 py-1 mt-1 border border-gray-300 rounded md:w-1/2 focus:ring-2 focus:ring-blue-400 focus:outline-none",required:!0})]}),(0,c.jsxs)("div",{className:"flex gap-3 mb-2",children:[(0,c.jsx)("label",{className:"block font-semibold text-gray-700",children:"Description"}),(0,c.jsx)("textarea",{value:g.description,name:"description",onChange:p,className:"w-full px-2 py-1 mt-1 border border-gray-300 rounded md:w-1/2 focus:ring-2 focus:ring-blue-400 focus:outline-none h-14",rows:"3"})]}),(0,c.jsxs)("div",{className:"flex justify-center gap-2 mt-6",children:[(0,c.jsx)("button",{type:"submit",className:"px-12 py-2 text-white bg-green-500 hover:bg-green-600",children:f?"Update":"Save"}),(0,c.jsx)("button",{type:"button",className:"px-12 py-2 text-white bg-orange-500 hover:bg-orange-600",children:"Close"})]})]})]})})})]})]})}}}]);
//# sourceMappingURL=3691.ebfaf3fe.chunk.js.map