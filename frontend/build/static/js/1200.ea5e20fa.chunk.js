"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1200],{61200:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(65043),n=s(60184),l=s(49804),r=s(21197),c=s(59255),i=s(86213),d=s(37762),o=s(64857),x=s(11238),m=s(66727),p=s(70579);const h=function(){const e=(0,m.Zp)(),[t,s]=(0,a.useState)(!0);(0,a.useEffect)((()=>{window.innerWidth<768&&s(!1)}),[]);const[h,y]=(0,a.useState)([]),[u,b]=(0,a.useState)(""),[g,f]=(0,a.useState)(10),[j,w]=(0,a.useState)(1),N=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("api/payment-types",{headers:{Authorization:`Bearer ${e}`}});y(t.data.data||[])}catch(e){console.error("Error fetching payment types:",e.message)}};(0,a.useEffect)((()=>{N()}),[]);const v=h.filter((e=>e.paymentTypeName.toLowerCase().includes(u.toLowerCase()))),C=j*g,k=C-g,S=v.slice(k,C),T=Math.ceil(v.length/g),A=e=>{e>=1&&e<=T&&w(e)};return(0,p.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,p.jsx)(r.A,{isSidebarOpen:t,setSidebarOpen:s}),(0,p.jsxs)("div",{className:"flex flex-grow",children:[(0,p.jsx)(c.A,{isSidebarOpen:t}),(0,p.jsxs)("div",{className:"flex-grow flex flex-col p-2 md:p-2 min-h-screen w-full",children:[(0,p.jsxs)("header",{className:"flex flex-col items-center justify-between p-4 mb-2 bg-gray-100 rounded-md shadow sm:flex-row",children:[(0,p.jsxs)("div",{className:"flex items-baseline gap-1 text-center sm:flex-row sm:text-left",children:[(0,p.jsx)("h1",{className:"text-lg font-semibold truncate sm:text-xl",children:"Payment Types"}),(0,p.jsx)("span",{className:"text-xs text-gray-600 sm:text-sm",children:"View/Search Records"})]}),(0,p.jsxs)("nav",{className:"flex flex-wrap items-center justify-center mt-2 text-xs text-gray-500 sm:justify-start sm:text-sm sm:mt-0",children:[(0,p.jsxs)("a",{href:"#",className:"flex items-center text-gray-700 no-underline hover:text-cyan-600",children:[(0,p.jsx)(n.$BV,{className:"mr-2 text-gray-500 hover:text-cyan-600"})," ","Home"]}),(0,p.jsx)(l.XWt,{className:"mx-1 sm:mx-2"}),(0,p.jsx)("a",{href:"#",className:"text-gray-700 no-underline hover:text-cyan-600",children:"Payment Types List"})]})]}),(0,p.jsxs)("div",{className:"p-4 bg-white border-t-4 rounded-lg shadow-md border-cyan-500",children:[(0,p.jsxs)("header",{className:"flex items-center justify-between mb-4",children:[(0,p.jsx)("h2",{className:"text-lg font-semibold",children:"Payment Types"}),(0,p.jsx)("button",{className:"px-4 py-2 text-white rounded bg-cyan-500",onClick:()=>e("/add-payment-type"),children:"+ Create New"})]}),(0,p.jsxs)("div",{className:"flex flex-col justify-between w-full mt-4 mb-4 space-y-2 lg:flex-row lg:space-y-0 lg:items-center",children:[(0,p.jsxs)("div",{className:"flex items-center px-2 space-x-2",children:[(0,p.jsx)("span",{className:"text-sm",children:"Show"}),(0,p.jsxs)("select",{className:"p-2 text-sm border border-gray-300 rounded-md",value:g,onChange:e=>{f(Number(e.target.value)),w(1)},children:[(0,p.jsx)("option",{children:"10"}),(0,p.jsx)("option",{children:"20"}),(0,p.jsx)("option",{children:"50"})]}),(0,p.jsx)("span",{className:"text-sm",children:"Entries"})]}),(0,p.jsxs)("div",{className:"flex flex-col justify-around w-full gap-2 lg:flex-row",children:[(0,p.jsxs)("div",{className:"flex items-center justify-around flex-1 w-full gap-1 px-2",children:[(0,p.jsx)("button",{onClick:()=>{const e=v.map((e=>`${e.paymentTypeName}, ${e.status}`)).join("\n");navigator.clipboard.writeText(e),alert("Data copied to clipboard!")},className:"w-full px-3 py-2 text-sm text-white bg-cyan-500",children:"Copy"}),(0,p.jsx)("button",{onClick:()=>{const e=x.utils.json_to_sheet(v),t=x.utils.book_new();x.utils.book_append_sheet(t,e,"PaymentTypes"),x.writeFile(t,"payment_types.xlsx")},className:"w-full px-3 py-2 text-sm text-white bg-cyan-500",children:"Excel"}),(0,p.jsx)("button",{onClick:()=>{const e=new d.uE;e.text("Payment Types List",20,20);const t=v.map((e=>[e.paymentTypeName,e.status]));(0,o.Ay)(e,{head:[["Payment Type Name","Status"]],body:t}),e.save("payment_types.pdf")},className:"w-full px-3 py-2 text-sm text-white bg-cyan-500",children:"PDF"}),(0,p.jsx)("button",{onClick:()=>{window.print()},className:"w-full px-3 py-2 text-sm text-white bg-cyan-500",children:"Print"}),(0,p.jsx)("button",{onClick:()=>{const e="data:text/csv;charset=utf-8,"+v.map((e=>`${e.paymentTypeName},${e.status}`)).join("\n"),t=encodeURI(e),s=document.createElement("a");s.setAttribute("href",t),s.setAttribute("download","payment_types.csv"),document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"w-full px-3 py-2 text-sm text-white bg-cyan-500",children:"CSV"})]}),(0,p.jsx)("input",{type:"text",placeholder:"Search",className:"w-full p-2 text-sm border border-gray-300 rounded-sm md:w-auto",onChange:e=>b(e.target.value)})]})]}),(0,p.jsxs)("table",{className:"min-w-full bg-white border-collapse rounded-lg shadow-lg",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{className:"bg-gray-200",children:[(0,p.jsx)("th",{className:"px-4 py-2 border",children:"Payment Type Name"}),(0,p.jsx)("th",{className:"px-4 py-2 border",children:"Status"}),(0,p.jsx)("th",{className:"px-4 py-2 border",children:"Action"})]})}),(0,p.jsx)("tbody",{children:0===S.length?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:"3",className:"p-4 text-center text-gray-500 border",children:"No matching records found"})}):S.map((t=>(0,p.jsxs)("tr",{className:"border-b",children:[(0,p.jsx)("td",{className:"px-4 py-2 border",children:t.paymentTypeName}),(0,p.jsx)("td",{className:"px-4 py-2 border",children:(0,p.jsx)("button",{className:"px-2 py-1 rounded-lg "+("active"===t.status?"bg-green-500 text-white":"bg-red-500 text-white"),onClick:()=>(async e=>{try{const t="active"===e.status?"inactive":"active",s=localStorage.getItem("token");await i.A.put(`api/payment-types/${e._id}`,{status:t},{headers:{Authorization:`Bearer ${s}`}}),N()}catch(t){console.error("Error toggling status:",t.message)}})(t),children:t.status})}),(0,p.jsxs)("td",{className:"px-4 py-2 text-center border",children:[(0,p.jsx)("button",{className:"px-2 py-1 mr-2 text-white rounded bg-cyan-600 hover:bg-cyan-500 focus:outline-none",onClick:()=>e(`/edit-payment-type/${t._id}`),children:"Edit"}),(0,p.jsx)("button",{className:"px-2 py-1 text-white bg-red-600 rounded hover:bg-red-500 focus:outline-none",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this payment type?"))try{const t=localStorage.getItem("token");await i.A.delete(`api/payment-types/${e}`,{headers:{Authorization:`Bearer ${t}`}}),alert("Payment Type deleted successfully!"),N()}catch(t){console.error("Error deleting payment type:",t.message)}})(t._id),children:"Delete"})]})]},t._id)))})]}),(0,p.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,p.jsxs)("div",{children:["Showing ",k+1," to"," ",Math.min(C,v.length)," of"," ",v.length," entries"]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{onClick:()=>A(j-1),disabled:1===j,className:"px-2 py-1 mr-2 text-gray-700 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,p.jsx)("button",{onClick:()=>A(j+1),disabled:C>=v.length,className:"px-2 py-1 ml-2 text-gray-700 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]})]})]})]})}}}]);
//# sourceMappingURL=1200.ea5e20fa.chunk.js.map