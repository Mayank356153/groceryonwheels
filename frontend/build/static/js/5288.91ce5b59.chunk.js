"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5288],{15288:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(65043),n=a(66727),r=a(21197),l=a(59255),i=a(86213),c=a(70579);const d=function(){const e=(0,n.Zp)(),{paymentTypeId:t}=(0,n.g)(),[a,d]=(0,s.useState)(!0),[o,p]=(0,s.useState)(!1);(0,s.useEffect)((()=>{window.innerWidth<768&&d(!1)}),[]);const[m,y]=(0,s.useState)({paymentTypeName:"",status:"active"});(0,s.useEffect)((()=>{t&&u(t)}),[t]);const u=async e=>{p(!0);try{const t=localStorage.getItem("token"),a=(await i.A.get(`api/payment-types/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data.data;y({paymentTypeName:a.paymentTypeName||"",status:a.status||"active"})}catch(t){console.error("Error fetching payment type:",t.message),alert("Error fetching payment type data.")}finally{p(!1)}},h=e=>{y((t=>({...t,[e.target.name]:e.target.value})))};return o?(0,c.jsx)("div",{children:"Loading..."}):(0,c.jsxs)("div",{className:"flex flex-col h-screen bg-gray-100",children:[(0,c.jsx)(r.A,{isSidebarOpen:a,setSidebarOpen:d}),(0,c.jsxs)("div",{className:"flex flex-grow",children:[(0,c.jsx)(l.A,{isSidebarOpen:a}),(0,c.jsxs)("div",{className:"flex-grow p-4 mt-24 transition-all duration-300 "+(a?"ml-64":"ml-0"),children:[(0,c.jsx)("h1",{className:"mb-4 text-2xl font-bold",children:t?"Edit Payment Type":"Add Payment Type"}),(0,c.jsx)("div",{className:"max-w-lg p-6 bg-white rounded shadow-md",children:(0,c.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),p(!0);try{const a={Authorization:`Bearer ${localStorage.getItem("token")}`};t?(await i.A.put(`api/payment-types/${t}`,m,{headers:a}),alert("Payment Type updated successfully!")):(await i.A.post("api/payment-types",m,{headers:a}),alert("Payment Type created successfully!")),e("/payment-types-list")}catch(s){console.error("Error submitting payment type:",s.message),alert("Error submitting payment type.")}finally{p(!1)}},children:[(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{className:"block mb-1 font-semibold",children:"Payment Type Name"}),(0,c.jsx)("input",{type:"text",name:"paymentTypeName",value:m.paymentTypeName,onChange:h,className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{className:"block mb-1 font-semibold",children:"Status"}),(0,c.jsxs)("select",{name:"status",value:m.status,onChange:h,className:"w-full p-2 border border-gray-300 rounded",children:[(0,c.jsx)("option",{value:"active",children:"Active"}),(0,c.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,c.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,c.jsx)("button",{type:"submit",className:"px-4 py-2 text-white bg-green-500 rounded hover:bg-green-600",disabled:o,children:t?"Update":"Save"}),(0,c.jsx)("button",{type:"button",onClick:()=>{e("/payment-types-list")},className:"px-4 py-2 text-white bg-orange-500 rounded hover:bg-orange-600",children:"Close"})]})]})})]})]})]})}}}]);
//# sourceMappingURL=5288.91ce5b59.chunk.js.map