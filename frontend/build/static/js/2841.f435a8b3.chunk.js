"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2841],{14840:(e,s,a)=>{a.d(s,{A:()=>o});var t=a(65043),l=a(21197),r=a(59255),n=a(70579);function o(){const[e,s]=(0,t.useState)(!1);return(0,n.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,n.jsx)(l.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,n.jsxs)("div",{className:"flex flex-grow mt-20",children:[(0,n.jsx)("div",{children:(0,n.jsx)(r.A,{isSidebarOpen:e})}),(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin"}),(0,n.jsx)("p",{className:"mt-3 text-lg font-semibold text-gray-700",children:"Loading..."})]})})]})]})}},85222:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var t=a(65043),l=a(59255),r=a(21197),n=a(60184),o=a(66727),i=a(86213),c=a(14840),d=a(70579);const x=()=>{const[e,s]=(0,t.useState)(!1),a=(0,o.Zp)(),[x,m]=(0,t.useState)(!0),[u]=(0,o.ok)(),g=u.get("id"),[f,p]=(0,t.useState)({name:"",description:"",subCategories:[]});(0,t.useEffect)((()=>{window.innerWidth<768&&m(!1)}),[]);(0,t.useEffect)((()=>{g&&(async()=>{s(!0);try{const e=await i.A.get("api/categories",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log(e.data);const s=e.data.find((e=>e._id===g));p(s)}catch(e){console.log(e.message)}finally{s(!1)}})()}),[g]);const h=e=>{const{name:s,value:a}=e.target;p((e=>({...e,[s]:a})))};return e?(0,d.jsx)(c.A,{}):(0,d.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,d.jsx)(r.A,{isSidebarOpen:x,setSidebarOpen:m}),(0,d.jsxs)("div",{className:"flex flex-col ",children:[(0,d.jsx)("div",{className:"w-auto",children:(0,d.jsx)(l.A,{isSidebarOpen:x})}),(0,d.jsx)("div",{className:"w-full overflow-x-auto p-4  transition-all duration-300 bg-gray-100",children:(0,d.jsx)("div",{className:"w-full ",children:(0,d.jsxs)("div",{className:"w-full",children:[(0,d.jsxs)("header",{className:"flex flex-col items-center justify-between mb-6 md:flex-row",children:[(0,d.jsxs)("div",{className:"flex items-baseline gap-1 text-center sm:flex-row sm:text-left",children:[(0,d.jsx)("h1",{className:"text-lg font-semibold truncate sm:text-xl",children:"Category"}),(0,d.jsx)("span",{className:"text-xs text-gray-600 sm:text-sm",children:"Add/Update Category"})]}),(0,d.jsxs)("nav",{className:"flex flex-wrap mt-2 text-sm text-gray-600",children:[(0,d.jsxs)(o.k2,{to:"/dashboard",className:"flex items-center text-gray-700 no-underline",children:[(0,d.jsx)(n.$BV,{})," Home "]}),(0,d.jsx)(o.k2,{to:"/categories-list",className:"items-center text-gray-700 no-underline tflex",children:">Category List"})]})]}),(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g?(async()=>{s(!0);try{const e=await i.A.put(`api/categories/${g}`,f,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Response:",e.data),alert(" Update Successfully")}catch(r){var e,t,l;console.error("Error:",(null===(e=r.response)||void 0===e?void 0:e.data)||r.message),alert("Unsuccessful: "+((null===(t=r.response)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.message)||r.message))}finally{s(!1),a("/categories-list")}})():(async()=>{try{console.log("Sending FormData:",f);const e=await i.A.post("api/categories",f,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Response:",e.data),alert("Category Added Successfully")}catch(t){var e,s,a;console.error("Error:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),alert("Unsuccessful: "+((null===(s=t.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||t.message))}})(),p({name:"",description:"",status:"Active",subCategories:[]})},className:"p-2 border-t-4 rounded shadow border-cyan-500",children:[(0,d.jsx)("p",{className:"mb-3 text-lg font-medium text-gray-700",children:"Please Enter Valid Data"}),(0,d.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,d.jsxs)("label",{className:"block font-semibold text-gray-700",children:["Category Name",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",name:"name",value:f.name,onChange:h,className:"w-full px-2 py-1 mt-1 border border-gray-300 rounded md:w-1/2 focus:ring-2 focus:ring-blue-400 focus:outline-none",required:!0})]}),(0,d.jsxs)("div",{className:"flex gap-3 mb-2",children:[(0,d.jsx)("label",{className:"block font-semibold text-gray-700",children:"Description"}),(0,d.jsx)("textarea",{value:f.description,name:"description",onChange:h,className:"w-full px-2 py-1 mt-1 border border-gray-300 rounded md:w-1/2 focus:ring-2 focus:ring-blue-400 focus:outline-none h-14",rows:"3"})]}),(0,d.jsxs)("div",{className:"flex justify-center gap-2 mt-6",children:[(0,d.jsx)("button",{type:"submit",className:"px-12 py-2 text-white bg-green-500 hover:bg-green-600",children:g?"Update":"Save"}),(0,d.jsx)("button",{type:"button",className:"px-12 py-2 text-white bg-orange-500 hover:bg-orange-600",children:"Close"})]})]})]})})})]})]})}}}]);
//# sourceMappingURL=2841.f435a8b3.chunk.js.map