"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6794],{14840:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(65043),r=s(21197),l=s(59255),n=s(70579);function i(){const[e,t]=(0,a.useState)(!1);return(0,n.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,n.jsx)(r.A,{isSidebarOpen:e,setSidebarOpen:t}),(0,n.jsxs)("div",{className:"flex flex-grow mt-20",children:[(0,n.jsx)("div",{children:(0,n.jsx)(l.A,{isSidebarOpen:e})}),(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin"}),(0,n.jsx)("p",{className:"mt-3 text-lg font-semibold text-gray-700",children:"Loading..."})]})})]})]})}},16794:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(65043),r=s(60184),l=s(49804),n=s(21197),i=s(59255),c=s(86213),d=s(14840),o=s(66727),x=s(70579);const h=function(){const e=(0,o.Zp)(),[t,s]=(0,a.useState)(!0),[h,m]=(0,a.useState)([]),[u,b]=(0,a.useState)(!1),[p,f]=(0,a.useState)(null),[g,j]=(0,a.useState)(1);(0,a.useEffect)((()=>{window.innerWidth<768&&s(!1)}),[]);const N=async()=>{try{b(!0);const e=await c.A.get("api/variants",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});m(e.data.data)}catch(e){console.error("Error fetching variants:",e.message)}finally{b(!1)}};(0,a.useEffect)((()=>{N()}),[]);const y=10*g,v=y-10,w=Math.ceil(h.length/10),S=h.slice(v,y);return u?(0,x.jsx)(d.A,{}):(0,x.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,x.jsx)(n.A,{isSidebarOpen:t,setSidebarOpen:s}),(0,x.jsxs)("div",{className:"flex flex-grow bg-gray-200 md:flex-row",children:[(0,x.jsx)(i.A,{isSidebarOpen:t}),(0,x.jsxs)("div",{className:"flex-grow p-4 transition-all duration-300 bg-white",children:[(0,x.jsxs)("header",{className:"flex flex-col items-center justify-between mb-6 md:flex-row",children:[(0,x.jsx)("h2",{className:"text-lg font-bold md:text-xl",children:"Variants List"}),(0,x.jsxs)("nav",{className:"flex items-center text-sm text-gray-500",children:[(0,x.jsxs)("a",{href:"/dashboard",className:"flex items-center text-gray-700 no-underline hover:text-cyan-600",children:[(0,x.jsx)(r.$BV,{className:"mr-2 text-gray-500"})," Home"]}),(0,x.jsx)(l.XWt,{className:"mx-2 text-gray-400"}),(0,x.jsx)("a",{href:"#",className:"text-gray-700 no-underline hover:text-cyan-600",children:"Variants List"})]})]}),(0,x.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,x.jsx)("h2",{className:"text-lg font-semibold text-gray-700",children:"Variants List"}),(0,x.jsx)("button",{className:"px-4 py-2 font-bold text-white rounded bg-cyan-500 hover:bg-cyan-700 focus:outline-none focus:shadow-outline",onClick:()=>e("/variant-add"),children:"+ Create Variant"})]}),(0,x.jsx)("div",{className:"overflow-x-auto",children:(0,x.jsxs)("table",{className:"w-full text-sm border border-collapse border-gray-300 md:text-base",children:[(0,x.jsx)("thead",{className:"bg-gray-200",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"px-2 py-1 border",children:"#"}),(0,x.jsx)("th",{className:"px-2 py-1 border",children:"Variant Name"}),(0,x.jsx)("th",{className:"px-2 py-1 border",children:"Description"}),(0,x.jsx)("th",{className:"px-2 py-1 border",children:"Status"}),(0,x.jsx)("th",{className:"px-2 py-1 border",children:"Action"})]})}),(0,x.jsx)("tbody",{children:S.length<=0?(0,x.jsx)("tr",{className:"text-lg",children:(0,x.jsx)("td",{className:"p-1 text-center border",colSpan:"5",children:"No data available"})}):S.map(((t,s)=>(0,x.jsxs)("tr",{className:"text-sm",children:[(0,x.jsx)("td",{className:"px-2 py-1 border",children:v+s+1}),(0,x.jsx)("td",{className:"px-2 py-1 border",children:t.variantName}),(0,x.jsx)("td",{className:"px-2 py-1 border",children:t.description||"NA"}),(0,x.jsx)("td",{className:"px-2 py-1 border",children:(0,x.jsx)("button",{className:"px-2 py-1 rounded-lg "+("ACTIVE"===t.status.toUpperCase()?"bg-green-500 text-white":"bg-red-500 text-white"),onClick:()=>(async(e,t)=>{const s=localStorage.getItem("token"),a="active"===t?"inactive":"active";try{await c.A.put(`api/variants/${e}`,{status:a},{headers:{Authorization:`Bearer ${s}`}}),N()}catch(r){console.error("Error toggling status:",r.message),alert("Error updating status")}})(t._id,t.status),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})}),(0,x.jsxs)("td",{className:"relative p-2 border",children:[(0,x.jsx)("button",{className:"px-2 py-1 text-white rounded bg-cyan-500",onClick:()=>f(p===t._id?null:t._id),children:"Action \u25bc"}),p===t._id&&(0,x.jsxs)("div",{className:"absolute left-0 z-40 mt-1 bg-white border shadow-lg top-full w-28",children:[(0,x.jsxs)("button",{className:"flex items-center w-full px-2 py-1 hover:bg-gray-100",onClick:()=>e(`/variant-add?variantId=${t._id}`),children:[(0,x.jsx)(r.uO9,{className:"mr-2"})," Edit"]}),(0,x.jsxs)("button",{className:"flex items-center w-full px-2 py-1 text-red-500 hover:bg-gray-100",onClick:()=>(async e=>{if(window.confirm("Do you want to delete this variant?"))try{await c.A.delete(`api/variants/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),alert("Deleted Successfully"),N()}catch(t){console.error("Error deleting variant:",t),alert("Error deleting variant")}})(t._id),children:[(0,x.jsx)(r.qbC,{className:"mr-2"})," Delete"]})]})]})]},t._id)))})]})}),(0,x.jsx)("div",{className:"flex flex-col items-center justify-between mt-4 md:flex-row",children:(0,x.jsxs)("div",{className:"flex gap-1",children:[(0,x.jsx)("button",{className:"px-2 py-1 rounded "+(1===g?"bg-gray-300 cursor-not-allowed":"bg-blue-500 text-white"),disabled:1===g,onClick:()=>j(g-1),children:"Previous"}),(0,x.jsx)("button",{className:"px-2 py-1 rounded "+(g===w?"bg-gray-300 cursor-not-allowed":"bg-blue-500 text-white"),disabled:g===w,onClick:()=>j(g+1),children:"Next"})]})})]})]})]})}}}]);
//# sourceMappingURL=6794.5ebfe899.chunk.js.map