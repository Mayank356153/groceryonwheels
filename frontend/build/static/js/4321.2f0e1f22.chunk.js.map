{"version":3,"file":"static/js/4321.2f0e1f22.chunk.js","mappings":"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","sources":["components/purchase/PurchaseDetail.jsx","Loading.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport LoadingScreen from '../../Loading.jsx';\n\nconst PurchaseDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [purchase, setPurchase] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchPurchaseDetail = async () => {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        console.log(\"No token found redirecting...\");\n        navigate(\"/\");\n        return;\n      }\n      try {\n        const response = await axios.get(`/api/purchases/${id}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        console.log(\"API Response:\", response.data);\n        if (response.data.success) {\n          setPurchase(response.data.data);\n        } else {\n          setError(\"Failed to fetch purchase details: \" + response.data.message);\n        }\n      } catch (err) {\n        console.error(\"API Error:\", err);\n        setError(err.message || \"An error occurred while fetching purchase details\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPurchaseDetail();\n  }, [id, navigate]);\n\n  if (loading) return <LoadingScreen />;\n  if (error) return <div className=\"p-4 text-red-500\">{error}</div>;\n  if (!purchase) return <div className=\"p-4\">No purchase data available</div>;\n\n  return (\n    <div className=\"flex flex-col h-screen p-4\">\n      <h1 className=\"text-2xl font-semibold mb-4\">Purchase Details - {purchase.purchaseCode || \"N/A\"}</h1>\n      <div className=\"bg-white shadow-md rounded-lg p-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n          <div>\n            <p><strong>Purchase Date:</strong> {new Date(purchase.purchaseDate).toLocaleDateString()}</p>\n            <p><strong>Status:</strong> {purchase.status || \"N/A\"}</p>\n            <p><strong>Reference No:</strong> {purchase.referenceNo || \"N/A\"}</p>\n            <p><strong>Warehouse:</strong> {purchase.warehouse?.warehouseName || \"N/A\"}</p>\n            <p><strong>Supplier:</strong> {purchase.supplier?.supplierName || purchase.supplier?.email || \"No supplier\"}</p>\n            <p><strong>Created By:</strong> {purchase.createdByModel} {purchase.createdBy?.name || `${purchase.createdBy?.FirstName} ${purchase.createdBy?.LastName}` || \"N/A\"}</p>\n            <p><strong>Note:</strong> {purchase.note || \"N/A\"}</p>\n          </div>\n          <div>\n            <p><strong>Grand Total:</strong> ₹{(purchase.grandTotal || 0).toFixed(2)}</p>\n            <p><strong>Other Charges:</strong> ₹{(purchase.otherCharges || 0).toFixed(2)}</p>\n            <p><strong>Discount on All:</strong> ₹{(purchase.discountOnAll || 0).toFixed(2)}</p>\n            <p><strong>Paid Amount:</strong> ₹{(purchase.payments?.length > 0 ? purchase.payments[0].amount : 0).toFixed(2)}</p>\n            <p><strong>Payment Status:</strong> {purchase.payments?.length > 0\n              ? (purchase.grandTotal || 0) === (purchase.payments[0].amount || 0) ? \"Paid\"\n              : (purchase.grandTotal || 0) > (purchase.payments[0].amount || 0) ? \"Pending\"\n              : \"Overpaid\"\n              : \"Pending\"}</p>\n            <p><strong>Payment Note:</strong> {purchase.payments?.[0]?.paymentNote || \"N/A\"}</p>\n          </div>\n        </div>\n\n        <h2 className=\"text-xl font-semibold mb-2\">Items</h2>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full bg-white border border-gray-300 shadow-sm\">\n            <thead className=\"bg-gray-200\">\n              <tr>\n                {['Item Name', 'Quantity', 'Purchase Price', 'MRP', 'Discount', 'Total Amount'].map((header) => (\n                  <th key={header} className=\"px-4 py-2 font-medium text-left border\">{header}</th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {purchase.items?.map((item, index) => (\n                <tr key={index} className=\"bg-gray-100\">\n                  <td className=\"px-4 py-2 border\">{item.item?.itemName || item.item?.name || \"N/A\"}</td>\n{/*<td className=\"px-4 py-2 border\">{item.variant ? \"Yes\" : \"N/A\"}</td>*/}\n                  <td className=\"px-4 py-2 border\">{item.quantity || \"N/A\"}</td>\n                  <td className=\"px-4 py-2 border\">₹{(item.purchasePrice || 0).toFixed(2)}</td>\n                  <td className=\"px-4 py-2 border\">₹{(item.mrp || 0).toFixed(2)}</td>\n                  <td className=\"px-4 py-2 border\">₹{(item.discount || 0).toFixed(2)}</td>\n                  <td className=\"px-4 py-2 border\">₹{(item.totalAmount || 0).toFixed(2)}</td>\n                </tr>\n              )) || <tr><td colSpan=\"7\" className=\"px-4 py-2 text-center border\">No items available</td></tr>}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"mt-6 text-right\">\n          <button\n            className=\"px-4 py-2 text-white bg-cyan-500 rounded hover:bg-cyan-600\"\n            onClick={() => navigate(-1)}\n          >\n            Back\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PurchaseDetail;","import React, { useState } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nexport default function LoadingScreen() {\n    const[isSidebarOpen,setSidebarOpen]=useState(false)\n    return (\n        <div className='flex flex-col h-screen'>\n        {/* Navbar component with sidebar open state */}\n        <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\n        <div className='flex flex-grow mt-20'>\n          <div>\n            {/* Sidebar component with open state */}\n            <Sidebar isSidebarOpen={isSidebarOpen} />\n          </div>\n  \n          {/* Container for the entire component */}\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm\">\n          <div className=\"flex flex-col items-center\">\n            <div className=\"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin\"></div>\n            <p className=\"mt-3 text-lg font-semibold text-gray-700\">Loading...</p>\n          </div>\n        </div>\n          \n        </div>\n      </div>\n    );\n  }\n  "],"names":["PurchaseDetail","_purchase$warehouse","_purchase$supplier","_purchase$supplier2","_purchase$createdBy","_purchase$createdBy2","_purchase$createdBy3","_purchase$payments","_purchase$payments2","_purchase$payments3","_purchase$payments3$","_purchase$items","id","useParams","navigate","useNavigate","purchase","setPurchase","useState","loading","setLoading","error","setError","useEffect","async","token","localStorage","getItem","console","log","response","axios","get","headers","Authorization","data","success","message","err","fetchPurchaseDetail","_jsx","LoadingScreen","className","children","_jsxs","purchaseCode","Date","purchaseDate","toLocaleDateString","status","referenceNo","warehouse","warehouseName","supplier","supplierName","email","createdByModel","createdBy","name","FirstName","LastName","note","grandTotal","toFixed","otherCharges","discountOnAll","payments","length","amount","paymentNote","map","header","items","item","index","_item$item","_item$item2","itemName","quantity","purchasePrice","mrp","discount","totalAmount","colSpan","onClick","isSidebarOpen","setSidebarOpen","Navbar","Sidebar"],"sourceRoot":""}