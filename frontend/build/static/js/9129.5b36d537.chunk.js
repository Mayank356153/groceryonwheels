"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9129],{14840:(e,s,t)=>{t.d(s,{A:()=>n});var a=t(65043),l=t(21197),r=t(59255),i=t(70579);function n(){const[e,s]=(0,a.useState)(!1);return(0,i.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,i.jsx)(l.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,i.jsxs)("div",{className:"flex flex-grow mt-20",children:[(0,i.jsx)("div",{children:(0,i.jsx)(r.A,{isSidebarOpen:e})}),(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin"}),(0,i.jsx)("p",{className:"mt-3 text-lg font-semibold text-gray-700",children:"Loading..."})]})})]})]})}},39129:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(65043),l=t(59255),r=t(21197),i=t(66727),n=t(60184),o=t(26873),c=t(86213),d=(t(14840),t(37762)),x=t(64857),h=t(11238),m=t(70579);function u(){const[e,s]=(0,a.useState)(!1),[t,u]=(0,a.useState)(!0),[p,g]=(0,a.useState)(!0),[b,f]=(0,a.useState)([]),[j,y]=(0,a.useState)({warehouses:[]});(0,a.useEffect)((()=>{window.innerWidth<768&&u(!1)}),[]);const N=(0,i.Zp)(),[w,v]=(0,a.useState)(""),[S,k]=(0,a.useState)(""),[_,I]=(0,a.useState)([]),[A,W]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{g(!0);const e=(await c.A.get("api/warehouses",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.data.map((e=>({label:e.warehouseName,value:e._id})));y((s=>({...s,warehouses:e})))}catch(e){console.log(e.message)}finally{g(!1)}})(),(async()=>{try{g(!0);const e=await c.A.get("api/items",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});f(e.data.data)}catch(e){console.log(e.message)}finally{g(!1)}})()}),[]);const z=b.filter((e=>{const{warehouse:s}=e;return s&&s._id===w})),C=b.filter((e=>{const{warehouse:s}=e;return s&&s._id===S})),E=(e,s)=>{new Set(e.map((e=>e._id.toString())));const t=new Set(s.map((e=>e._id.toString())));return e.filter((e=>!t.has(e._id.toString())))};(0,a.useEffect)((()=>console.log(z)),[z]),(0,a.useEffect)((()=>console.log(C)),[C]);return(0,m.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,m.jsx)(r.A,{isSidebarOpen:t,setSidebarOpen:u}),(0,m.jsxs)("div",{className:"flex flex-grow",children:[(0,m.jsx)(l.A,{isSidebarOpen:t}),(0,m.jsxs)("div",{className:"relative flex flex-col flex-grow w-full px-4 py-6 bg-gray-100",children:[(0,m.jsxs)("header",{className:"flex flex-col items-center justify-between sm:flex-row",children:[(0,m.jsx)("div",{className:"flex items-center gap-1 text-center sm:flex-row sm:text-left",children:(0,m.jsx)("h1",{className:"text-lg font-semibold truncate sm:text-xl",children:"Item Compare"})}),(0,m.jsxs)("nav",{className:"flex flex-wrap items-center justify-center mt-2 text-xs text-gray-500 sm:justify-start sm:text-sm sm:mt-0",children:[(0,m.jsxs)(i.k2,{to:"/dashboard",className:"flex items-center text-gray-700 no-underline hover:text-cyan-600",children:[(0,m.jsx)(n.$BV,{className:"mr-2 text-gray-500 hover:text-cyan-600"})," Home"]}),(0,m.jsx)(i.k2,{to:"/reports/sale-item",className:"text-gray-700 no-underline hover:text-cyan-600",children:"> sale item Report"})]})]}),(0,m.jsxs)("div",{className:"flex flex-col w-full mx-auto mt-4 bg-white border-t-4 rounded-lg shadow-md border-cyan-600",children:[(0,m.jsx)("div",{className:"w-full h-auto px-2 border-b-2 border-gray-200",children:(0,m.jsx)("h4",{className:"text-gray-700",children:"Please Enter Valid Information"})}),(0,m.jsxs)("div",{className:"py-4 ",children:[(0,m.jsxs)("div",{className:"flex flex-col w-full gap-4 px-4 mb-4 md:flex-row md:gap-5",children:[(0,m.jsxs)("div",{className:"flex flex-col w-full",children:[(0,m.jsx)("label",{htmlFor:"",children:"Warehouse1"}),(0,m.jsx)(o.Ay,{className:"w-full",options:j.warehouses,onChange:e=>{W(!1),v(e.value),I([])},value:j.warehouses.find((e=>e.value===w))})]}),(0,m.jsxs)("div",{className:"flex flex-col w-full",children:[(0,m.jsx)("label",{htmlFor:"",children:"Warehouse 2"}),(0,m.jsx)(o.Ay,{className:"w-full",options:j.warehouses,onChange:e=>{W(!1),k(e.value),I([])},value:j.warehouses.find((e=>e.value===S))})]})]}),(0,m.jsxs)("div",{className:"flex flex-col justify-around w-full gap-4 px-2 md:justify-center md:flex-row",children:[(0,m.jsx)("button",{className:"px-6 py-2 text-white transition-colors duration-300 bg-blue-600 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",onClick:e=>{e.preventDefault();try{if(g(!0),W(!1),!v||!S)return void alert("one of the warehouse is not selected");if(I(E(z,C)),E(z,C)==[])return void alert("No item is unique")}catch(s){console.log("Error in comparing",s.message)}finally{v&&S&&W(!0),g(!1)}},disabled:!w&&!S,type:"button",children:"Compare Warehouses"}),(0,m.jsx)("button",{className:"px-6 py-2 text-white transition-colors duration-300 bg-gray-600 rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50",onClick:()=>N("/dashboard"),type:"button",children:"Back to Dashboard"})]})]})]}),(0,m.jsxs)("div",{className:"flex flex-col w-full mt-5 border-t-4 border-gray-400",children:[(0,m.jsxs)("div",{className:"flex w-full px-2 py-2 bg-white",children:[(0,m.jsx)("div",{className:"w-full",children:(0,m.jsx)("h4",{className:"text-gray-700",children:"Records Table"})}),(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsxs)("button",{onClick:()=>s(!e),className:"flex items-center px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:[(0,m.jsx)(n.OXb,{className:"mr-2"}),"Export",(0,m.jsx)("span",{className:"ml-2 text-sm",children:"\u25bc"})]}),e&&(0,m.jsx)("div",{className:"absolute right-0 z-10 w-40 mt-2 bg-white rounded-md shadow-lg",onMouseLeave:()=>s(!1),children:(0,m.jsxs)("div",{className:"py-1",children:[(0,m.jsxs)("button",{onClick:()=>{(()=>{const e=h.utils.book_new(),s=h.utils.aoa_to_sheet([]);h.utils.sheet_add_aoa(s,[["Warehouse 1 Items"]],{origin:-1}),h.utils.sheet_add_aoa(s,[["#","Item Name","Quantity"]],{origin:-1}),z.forEach(((e,t)=>{h.utils.sheet_add_aoa(s,[[t+1,e.itemName,e.openingStock]],{origin:-1})})),h.utils.sheet_add_aoa(s,[[""]],{origin:-1}),h.utils.sheet_add_aoa(s,[["Warehouse 2 Items"]],{origin:-1}),h.utils.sheet_add_aoa(s,[["#","Item Name","Quantity"]],{origin:-1}),C.forEach(((e,t)=>{h.utils.sheet_add_aoa(s,[[t+1,e.itemName,e.openingStock]],{origin:-1})})),h.utils.sheet_add_aoa(s,[[""]],{origin:-1}),h.utils.sheet_add_aoa(s,[["Unique Items"]],{origin:-1}),h.utils.sheet_add_aoa(s,[["#","Item Name","Warehouse","Quantity"]],{origin:-1}),_.forEach(((e,t)=>{var a;h.utils.sheet_add_aoa(s,[[t+1,e.itemName,null===(a=e.warehouse)||void 0===a?void 0:a.warehouseName,e.openingStock]],{origin:-1})})),h.utils.book_append_sheet(e,s,"InventoryData"),h.writeFile(e,"Inventory_Report.xlsx")})(),s(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,m.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Excel"]}),(0,m.jsxs)("button",{onClick:()=>{(()=>{const e=new d.Ay;let s=10;e.setFontSize(18),e.text("Inventory Report",105,s,{align:"center"}),s+=15,e.setFontSize(14),e.text("Warehouse 1 Items",14,s),s+=8,(0,x.Ay)(e,{startY:s,head:[["#","Item Name","Quantity"]],body:z.map(((e,s)=>[s+1,e.itemName,e.openingStock])),margin:{top:10},styles:{fontSize:10}}),s=e.lastAutoTable.finalY+10,e.setFontSize(14),e.text("Warehouse 2 Items",14,s),s+=8,(0,x.Ay)(e,{startY:s,head:[["#","Item Name","Quantity"]],body:C.map(((e,s)=>[s+1,e.itemName,e.openingStock])),margin:{top:10},styles:{fontSize:10}}),s=e.lastAutoTable.finalY+10,e.setFontSize(14),e.text("Unique Items",14,s),s+=8,(0,x.Ay)(e,{startY:s,head:[["#","Item Name","Warehouse","Quantity"]],body:_.map(((e,s)=>{var t;return[s+1,e.itemName,(null===(t=e.warehouse)||void 0===t?void 0:t.warehouseName)||"",e.openingStock]})),margin:{top:10},styles:{fontSize:10}}),e.save("Inventory_Report.pdf")})(),s(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,m.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"PDF"]})]})})]})]}),(0,m.jsxs)("div",{className:"flex flex-col justify-between w-full gap-2 px-2 py-2 overflow-x-auto md:flex-row",children:[(0,m.jsxs)("div",{className:"w-full h-auto bg-white border-2",children:[(0,m.jsx)("h5",{className:"text-center",children:"Item in Warehouse1"}),(0,m.jsxs)("table",{className:"min-w-full gap-2 border-separate",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"px-4 py-2 text-sm text-white bg-blue-500",children:"#"}),(0,m.jsx)("th",{className:"px-4 py-2 text-sm text-white bg-blue-500",children:"Item Name"}),(0,m.jsx)("th",{className:"px-4 py-2 text-sm text-white bg-blue-500",children:"Quantity"})]})}),(0,m.jsxs)("tbody",{children:[A&&z.length>0&&z.map(((e,s)=>(0,m.jsxs)("tr",{className:"bg-gray-100 border-2 border-black",children:[(0,m.jsx)("td",{className:"px-4 py-2",children:s+1}),(0,m.jsx)("td",{className:"px-4 py-2",children:e.itemName}),(0,m.jsx)("td",{className:"px-4 py-2",children:e.openingStock})]},s))),A&&0===z.length&&A&&(0,m.jsx)("tr",{className:"bg-gray-100 border-2 border-black",children:(0,m.jsx)("td",{className:"px-4 py-2 text-center",colSpan:"10",children:(0,m.jsx)("h5",{children:"No Data Found"})})})]})]})]}),(0,m.jsxs)("div",{className:"w-full h-auto bg-white border-2",children:[(0,m.jsx)("h5",{className:"text-center",children:"Item in Warehouse2"}),(0,m.jsxs)("table",{className:"min-w-full gap-2 border-separate",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"px-4 py-2 text-sm text-white bg-blue-500",children:"#"}),(0,m.jsx)("th",{className:"px-4 py-2 text-sm text-white bg-blue-500",children:"Item Name"}),(0,m.jsx)("th",{className:"px-4 py-2 text-sm text-white bg-blue-500",children:"Quantity"})]})}),(0,m.jsxs)("tbody",{children:[A&&C.length>0&&C.map(((e,s)=>(0,m.jsxs)("tr",{className:"bg-gray-100 border-2 border-black",children:[(0,m.jsx)("td",{className:"px-4 py-2",children:s+1}),(0,m.jsx)("td",{className:"px-4 py-2",children:e.itemName}),(0,m.jsx)("td",{className:"px-4 py-2",children:e.openingStock})]},s))),A&&0===C.length&&A&&(0,m.jsx)("tr",{className:"bg-gray-100 border-2 border-black",children:(0,m.jsx)("td",{className:"px-4 py-2 text-center",colSpan:"10",children:(0,m.jsx)("h5",{children:"No Data Found"})})})]})]})]}),(0,m.jsxs)("div",{className:"w-full overflow-x-scroll bg-white border-2",children:[(0,m.jsx)("h5",{className:"text-center",children:"Item Unique"}),(0,m.jsxs)("table",{className:"min-w-full gap-2 border-separate",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"px-4 py-2 text-sm text-white bg-blue-500",children:"#"}),(0,m.jsx)("th",{className:"px-4 py-2 text-sm text-white bg-blue-500",children:"Item Name"}),(0,m.jsx)("th",{className:"px-4 py-2 text-sm text-white bg-blue-500",children:"Warehouse"}),(0,m.jsx)("th",{className:"px-4 py-2 text-sm text-white bg-blue-500",children:"Quantity"})]})}),(0,m.jsxs)("tbody",{children:[_.length>0&&_.map(((e,s)=>{var t;return(0,m.jsxs)("tr",{className:"bg-gray-100 border-2 border-black",children:[(0,m.jsx)("td",{className:"px-4 py-2",children:s+1}),(0,m.jsx)("td",{className:"px-4 py-2",children:e.itemName}),(0,m.jsx)("td",{className:"px-4 py-2",children:null===(t=e.warehouse)||void 0===t?void 0:t.warehouseName}),(0,m.jsx)("td",{className:"px-4 py-2",children:e.openingStock})]},s)})),A&&0===_.length&&(0,m.jsx)("tr",{className:"bg-gray-100 border-2 border-black",children:(0,m.jsx)("td",{className:"px-4 py-2 text-center",colSpan:"4",children:"No item is unique"})})]})]})]})]})]})]})]})]})}}}]);
//# sourceMappingURL=9129.5b36d537.chunk.js.map