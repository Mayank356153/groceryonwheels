"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3450],{43450:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var a=s(65043),n=s(66727),i=s(21197),r=s(59255),l=s(86213),d=s(70579);const o=function(){const e=(0,n.Zp)(),{unitId:t}=(0,n.g)(),[s,o]=(0,a.useState)(!0),[c,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)({unitName:"",description:"",status:"active"});(0,a.useEffect)((()=>{window.innerWidth<768&&o(!1)}),[]),(0,a.useEffect)((()=>{t&&b(t)}),[t]);const b=async e=>{u(!0);try{const t=localStorage.getItem("token"),s=(await l.A.get(`api/units/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data.data;h({unitName:s.unitName||"",description:s.description||"",status:s.status||"active"})}catch(t){console.error("Error fetching unit:",t.message),alert("Error fetching unit data.")}finally{u(!1)}},x=e=>{h({...m,[e.target.name]:e.target.value})};return c?(0,d.jsx)("div",{children:"Loading..."}):(0,d.jsxs)("div",{className:"flex flex-col h-screen bg-gray-100",children:[(0,d.jsx)(i.A,{isSidebarOpen:s,setSidebarOpen:o}),(0,d.jsxs)("div",{className:"flex flex-grow",children:[(0,d.jsx)(r.A,{isSidebarOpen:s}),(0,d.jsxs)("div",{className:"flex-grow p-4 w-full transition-all duration-300 ",children:[(0,d.jsx)("h1",{className:"mb-4 text-2xl font-bold",children:t?"Edit Unit":"Add Unit"}),(0,d.jsx)("div",{className:"p-6 bg-white rounded shadow-md ",children:(0,d.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),u(!0);try{const s={Authorization:`Bearer ${localStorage.getItem("token")}`};t?(await l.A.put(`api/units/${t}`,m,{headers:s}),alert("Unit updated successfully!")):(await l.A.post("api/units",m,{headers:s}),alert("Unit created successfully!")),e("/units-list")}catch(a){console.error("Error submitting unit:",a.message),alert("Error submitting unit.")}finally{u(!1)}},children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block mb-1 font-semibold",children:"Unit Name"}),(0,d.jsx)("input",{type:"text",name:"unitName",value:m.unitName,onChange:x,className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block mb-1 font-semibold",children:"Description"}),(0,d.jsx)("textarea",{name:"description",value:m.description,onChange:x,className:"w-full p-2 border border-gray-300 rounded",rows:"3"})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block mb-1 font-semibold",children:"Status"}),(0,d.jsxs)("select",{name:"status",value:m.status,onChange:x,className:"w-full p-2 border border-gray-300 rounded",children:[(0,d.jsx)("option",{value:"active",children:"Active"}),(0,d.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,d.jsx)("button",{type:"submit",className:"px-4 py-2 text-white bg-green-500 rounded hover:bg-green-600",disabled:c,children:t?"Update":"Save"}),(0,d.jsx)("button",{type:"button",onClick:()=>{e("/units-list")},className:"px-4 py-2 text-white bg-orange-500 rounded hover:bg-orange-600",children:"Close"})]})]})})]})]})]})}}}]);
//# sourceMappingURL=3450.4c4007c7.chunk.js.map