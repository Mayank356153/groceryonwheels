"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8802],{38421:()=>{},38802:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});var t=a(65043),r=a(86213),d=(a(38421),a(21197)),l=a(59255),c=a(70579);const n=()=>{const[e,s]=(0,t.useState)(""),[a,n]=(0,t.useState)(""),[i,h]=(0,t.useState)([]),[x,o]=(0,t.useState)(!1),[m,j]=(0,t.useState)(""),[u,N]=(0,t.useState)(!0);(0,t.useEffect)((()=>{window.innerWidth<768&&N(!1)}),[]);const b=async()=>{try{o(!0),j("");const s=await r.A.get("api/orders",{params:{customerName:e||void 0,tillDate:a||void 0}});h(s.data)}catch(s){j("Failed to fetch orders. Please try again.")}finally{o(!1)}};return(0,t.useEffect)((()=>{b()}),[]),(0,c.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,c.jsx)(d.A,{isSidebarOpen:u,setSidebarOpen:N}),(0,c.jsxs)("div",{className:"flex flex-grow",children:[(0,c.jsx)("div",{className:"w-64",children:(0,c.jsx)(l.A,{isSidebarOpen:u})}),(0,c.jsxs)("div",{className:"p-3 container-fluid",children:[(0,c.jsx)("h4",{className:"fw-bold",children:"Customer Orders"}),(0,c.jsxs)("div",{className:"shadow-sm card",children:[(0,c.jsx)("div",{className:"text-white card-header bg-primary",children:(0,c.jsx)("b",{children:"Please Enter Valid Information"})}),(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-md-6",children:[(0,c.jsx)("label",{className:"fw-bold",children:"Customer Name"}),(0,c.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Name/Mobile",value:e,onChange:e=>s(e.target.value)})]}),(0,c.jsxs)("div",{className:"col-md-6",children:[(0,c.jsx)("label",{className:"fw-bold",children:"Till Date"}),(0,c.jsx)("input",{type:"date",className:"form-control",value:a,onChange:e=>n(e.target.value)})]})]}),(0,c.jsxs)("div",{className:"gap-3 mt-3 d-flex",children:[(0,c.jsx)("button",{className:"px-4 btn btn-success",onClick:b,children:"Show"}),(0,c.jsx)("button",{className:"px-4 btn btn-warning",children:"Close"})]})]})]}),m&&(0,c.jsx)("div",{className:"mt-3 alert alert-danger",children:m}),(0,c.jsx)("div",{className:"mt-3 card",children:(0,c.jsx)("div",{className:"p-0 card-body",children:(0,c.jsxs)("table",{className:"table text-center table-bordered",children:[(0,c.jsx)("thead",{className:"text-white bg-primary",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"#"}),(0,c.jsx)("th",{children:"Customer Name"}),(0,c.jsx)("th",{children:"Last Order Date"}),(0,c.jsx)("th",{children:"Order ID"}),(0,c.jsx)("th",{children:"Last Order (in Days)"})]})}),(0,c.jsx)("tbody",{children:x?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:"5",className:"text-center text-muted",children:"Loading..."})}):i.length>0?i.map(((e,s)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:s+1}),(0,c.jsx)("td",{children:e.customerName}),(0,c.jsx)("td",{children:e.lastOrderDate}),(0,c.jsx)("td",{children:e.orderId}),(0,c.jsx)("td",{children:e.lastOrderInDays})]},e.orderId))):(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:"5",className:"text-center text-muted",children:"No orders found"})})})]})})}),(0,c.jsx)("div",{className:"mt-2 text-end",children:(0,c.jsx)("button",{className:"btn btn-primary",children:"Export"})})]})]})]})}}}]);
//# sourceMappingURL=8802.cc9531e8.chunk.js.map