"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3209],{13209:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var a=s(65043),d=s(86213),r=s(66727),i=s(21197),l=s(59255),n=(s(53888),s(60184)),c=s(70579);function x(e){let{audit:t,onClose:s,sidebarOpen:a=!0}=e;return(0,c.jsx)("div",{className:`fixed inset-0 w-full h-full overflow-y-auto ${a&&"lg:pl-10"}`,children:(0,c.jsxs)("div",{className:"relative w-full p-4 mx-auto bg-gray-300 border rounded-md shadow-lg lg:w-3/4 lg:p-5 top-4 lg:top-20",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Audit Items View"}),(0,c.jsxs)("button",{onClick:s,className:"text-gray-400 hover:text-gray-500",children:[(0,c.jsx)("span",{className:"sr-only",children:"Close"}),(0,c.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,c.jsx)("div",{className:"mb-4 space-y-3 lg:hidden",children:t.finalUnit.map((e=>(0,c.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow",children:[(0,c.jsxs)("div",{className:"flex items-start justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-medium text-gray-900",children:e.itemName}),(0,c.jsxs)("p",{className:"text-sm text-gray-500",children:["ID: ",e.itemId]})]}),(0,c.jsxs)("span",{className:"text-sm "+(e.scannedQty>=e.expectedQty?"text-green-600":"text-red-600"),children:["Diff: ",e.scannedQty-e.expectedQty]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-gray-500",children:"Scanned"}),(0,c.jsx)("p",{className:"text-sm",children:e.scannedQty})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-gray-500",children:"Expected"}),(0,c.jsx)("p",{className:"text-sm",children:e.expectedQty})]})]})]},e.itemId)))}),(0,c.jsx)("div",{className:"hidden mb-4 overflow-x-auto lg:block",children:(0,c.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,c.jsx)("thead",{className:"bg-gray-50",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Item ID"}),(0,c.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Name"}),(0,c.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Scanned Qty"}),(0,c.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Expected Qty"}),(0,c.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Difference"})]})}),(0,c.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.finalUnit.map((e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:e.itemId}),(0,c.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:e.itemName}),(0,c.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:e.scannedQty}),(0,c.jsx)("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:e.expectedQty}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm "+(e.scannedQty>=e.expectedQty?"text-green-600":"text-red-600"),children:e.scannedQty-e.expectedQty})]},e.itemId)))})]})})]})})}const m=()=>{const[e,t]=(0,a.useState)(!0),[s,m]=(0,a.useState)(!1),[o,h]=(0,a.useState)([]),[p,u]=(0,a.useState)([]);(0,a.useEffect)((()=>{window.innerWidth<768&&t(!1)}),[window.innerWidth]);(0,r.Zp)();(0,a.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await d.A.get("/api/audit/all",{headers:{Authorization:`Bearer ${e}`}});console.log(t.data.data),u(t.data.data)}catch(e){console.error("Fetch audit error:",e.message)}})()}),[]);const y=async e=>{if(window.confirm("Do u want to delete audit"))try{const t=await d.A.delete(`/api/audit/delete/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log(t),alert("Deleted Successfully")}catch(t){console.error(t.message)}finally{(async()=>{try{const e=localStorage.getItem("token"),t=await d.A.get("/api/audit/all",{headers:{Authorization:`Bearer ${e}`}});console.log(t.data.data),u(t.data.data)}catch(e){console.error("Fetch audit error:",e.message)}})()}};return(0,c.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,c.jsx)(i.A,{isSidebarOpen:e,setSidebarOpen:t}),(0,c.jsxs)("div",{className:"flex w-full",children:[(0,c.jsx)("div",{children:(0,c.jsx)(l.A,{isSidebarOpen:e})}),(0,c.jsxs)("div",{className:"w-full flex flex-col p-2 md:p-2  ",children:[(0,c.jsxs)("header",{className:"flex flex-col items-center justify-between p-4 rounded-md shadow sm:flex-row",children:[(0,c.jsx)("div",{className:"flex items-center gap-1 text-center sm:flex-row sm:text-left",children:(0,c.jsx)("h1",{className:"text-lg font-semibold truncate sm:text-xl",children:"Audit List"})}),(0,c.jsxs)("nav",{className:"flex flex-wrap items-center justify-center mt-2 text-xs text-gray-500 sm:justify-start sm:text-sm sm:mt-0",children:[(0,c.jsxs)(r.k2,{to:"/dashboard",className:"flex items-center text-gray-700 no-underline hover:text-cyan-600",children:[(0,c.jsx)(n.$BV,{className:"mr-2 text-gray-500 hover:text-cyan-600"})," Home"]}),(0,c.jsx)(r.k2,{to:"/banners/view",className:"flex items-center text-gray-700 no-underline hover:text-cyan-600",children:"> Start Audit"}),(0,c.jsx)(r.k2,{to:"/banners/add",className:"text-gray-700 no-underline hover:text-cyan-600",children:"> Audit List"})]})]}),s&&(0,c.jsx)(x,{audit:o,onClose:()=>{m(!1)},sidebarOpen:e}),(0,c.jsx)("div",{className:"p-4 mt-1 bg-white border-t-4 rounded-lg shadow-md border-cyan-500",children:(0,c.jsxs)("div",{className:"overflow-x-auto border border-gray-200 rounded-lg shadow-sm",children:[(0,c.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 ",children:[(0,c.jsx)("thead",{className:"bg-gray-50",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Audit ID"}),(0,c.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Total Items"}),(0,c.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Actions"})]})}),(0,c.jsx)("tbody",{className:"hidden bg-white divide-y divide-gray-200 md:table",children:p.map((e=>{var t;return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:e._id}),(0,c.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:[(null===(t=e.finalUnit)||void 0===t?void 0:t.length)||0," items"]}),(0,c.jsxs)("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:[(0,c.jsx)("button",{className:"mr-4 text-indigo-600 hover:text-indigo-900",onClick:()=>{h(e),m(!0)},children:"View Comparison"}),(0,c.jsx)("button",{className:"text-red-600 hover:text-red-900",onClick:()=>y(e._id),children:"Delete"})]})]},e._id)}))})]}),(0,c.jsx)("div",{className:"p-4 space-y-4 md:hidden",children:p.map((e=>{var t;return(0,c.jsxs)("div",{className:"p-4 bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,c.jsx)("div",{className:"mb-2 text-sm font-medium text-gray-700",children:"Audit ID:"}),(0,c.jsx)("div",{className:"mb-1 text-base font-semibold text-gray-900 break-all",children:e._id}),(0,c.jsxs)("div",{className:"mb-3 text-sm text-gray-600",children:["Total Items: ",(null===(t=e.finalUnit)||void 0===t?void 0:t.length)||0]}),(0,c.jsxs)("div",{className:"flex justify-start space-x-4",children:[(0,c.jsx)("button",{className:"text-sm text-indigo-600 hover:text-indigo-900",onClick:()=>{h(e),m(!0)},children:"View"}),(0,c.jsx)("button",{className:"text-sm text-red-600 hover:text-red-900",onClick:()=>y(e._id),children:"Delete"})]})]},e._id)}))})]})})]})]})]})}},53888:(e,t,s)=>{s.d(t,{A:()=>d});s(65043);var a=s(70579);function d(e){let{text:t,type:s="button",className:d,...r}=e;return(0,a.jsx)("button",{className:`${d}`,...r,children:t})}}}]);
//# sourceMappingURL=3209.c1b6dae2.chunk.js.map