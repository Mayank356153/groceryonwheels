{"version":3,"file":"static/js/3094.8e83f24f.chunk.js","mappings":"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","sources":["Loading.jsx","components/Banners/AddMarketingItems.jsx","components/contact/Button.jsx","../node_modules/@heroicons/react/outline/esm/CameraIcon.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nexport default function LoadingScreen() {\n    const[isSidebarOpen,setSidebarOpen]=useState(false)\n    return (\n        <div className='flex flex-col h-screen'>\n        {/* Navbar component with sidebar open state */}\n        <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\n        <div className='flex flex-grow mt-20'>\n          <div>\n            {/* Sidebar component with open state */}\n            <Sidebar isSidebarOpen={isSidebarOpen} />\n          </div>\n  \n          {/* Container for the entire component */}\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm\">\n          <div className=\"flex flex-col items-center\">\n            <div className=\"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin\"></div>\n            <p className=\"mt-3 text-lg font-semibold text-gray-700\">Loading...</p>\n          </div>\n        </div>\n          \n        </div>\n      </div>\n    );\n  }\n  ","import React, { useEffect, useState,useRef } from \"react\";\r\nimport { CameraIcon } from \"@heroicons/react/outline\";\r\nimport { FaTachometerAlt } from \"react-icons/fa\";\r\nimport Navbar from \"../Navbar.jsx\";\r\nimport Sidebar from \"../Sidebar.jsx\";\r\nimport axios from \"axios\";\r\nimport Select from 'react-select'\r\nimport { useSearchParams,NavLink } from 'react-router-dom';\r\nimport LoadingScreen from \"../../Loading.jsx\";\r\nimport Button from \"../contact/Button.jsx\";\r\nimport { BrowserMultiFormatReader } from \"@zxing/browser\";\r\nconst AddMarketingItems = () => {\r\n  const[searchParams]=useSearchParams()\r\n  const id=searchParams.get(\"id\")\r\n  const[isSidebarOpen,setSidebarOpen]=useState(true)\r\n  const[loading,setLoading]=useState(false)\r\n  const[items,setItems]=useState([])\r\n  const[selecteditemname,setSelecteditemName]=useState(\"\")\r\n  const[result,setResult]=useState(\"\")\r\n  const[formData,setFormData]=useState({\r\n    type:\"\",\r\n    item:\"\" \r\n  })\r\n  useEffect(()=>{\r\n    if(window.innerWidth < 768){\r\n      setSidebarOpen(false)\r\n    }\r\n  },[window.innerWidth])\r\n\r\n   const fetchItems=async()=>{\r\n    try {\r\n      setLoading(true)\r\n      const response = await axios.get(\"api/items\", {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      });\r\n     console.log(response.data)\r\n   \r\n     setItems(response.data.data)\r\n    } catch (error) {\r\n      console.error(\"Error fetching item code:\", error);\r\n    }\r\n    finally{\r\n      setLoading(false)\r\n    }\r\n   }\r\n\r\n   \r\n   const fetchMarketingItem=async()=>{\r\n    try {\r\n      setLoading(true)\r\n      const response = await axios.get(`api/marketing-item/all`, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      });\r\n        console.log(response.data.data)\r\n        const types=Object.keys(response.data.data)\r\n        for (const type of types) {\r\n          const dataArray = response.data.data[type].filter((item) => item._id === id);\r\n          \r\n          if (dataArray.length > 0) {\r\n            const data = dataArray[0]; // since filter returns an array\r\n        \r\n            setFormData({\r\n              type: data.type, // use the current type from the loop\r\n              items: data.item?._id, // assuming this is the item id\r\n            });\r\n        \r\n            setSelecteditemName(data.item?.itemName); // assuming `data` has a name field\r\n          \r\n            break; // stop the loop once a match is found\r\n          }\r\n        }\r\n        \r\n      \r\n    } catch (error) {\r\n      console.error(\"Error fetching :\", error);\r\n    }\r\n    finally{\r\n      setLoading(false)\r\n    }\r\n   }\r\n   \r\n   useEffect(()=>{\r\n    fetchItems();\r\n    if(id) fetchMarketingItem()\r\n   },[])\r\n  \r\n     const filteredItems = result\r\n       ? items.filter((item) => {\r\n           const q = result.toLowerCase();\r\n           return (\r\n             item.itemName?.toLowerCase().includes(q) ||\r\n             item.itemCode?.toLowerCase().includes(q) ||\r\n             (item.barcode && item.barcode.toLowerCase().includes(q))\r\n           );\r\n         })\r\n       : [];\r\n       useEffect(()=>{\r\n         const filteredItems = result\r\n         ? items.filter((item) => {\r\n             const q = result.toLowerCase();\r\n             return (\r\n               item.itemName?.toLowerCase().includes(q) ||\r\n               item.itemCode?.toLowerCase().includes(q) ||\r\n               (item.barcode && item.barcode.toLowerCase().includes(q))\r\n             );\r\n           })\r\n         : [];\r\n       },[result])\r\n\r\n       \r\n \r\n const[scanning,setScanning]=useState(false)\r\n     const videoRef = useRef(null);\r\n      const codeReaderRef = useRef(null);\r\n    \r\n      useEffect(() => {\r\n        if (!scanning) return;\r\n    \r\n        const startScanner = async () => {\r\n          if (!videoRef.current) return;\r\n    \r\n          const codeReader = new BrowserMultiFormatReader();\r\n          codeReaderRef.current = codeReader;\r\n    \r\n          const tryDecode = async (facingMode) => {\r\n            const constraints = {\r\n              video: {\r\n                facingMode,\r\n                advanced: [\r\n                  { width: 1920 },\r\n                  { height: 1080 },\r\n                  { zoom: 2 }, // not all devices support this\r\n                ],\r\n              },\r\n            };\r\n    \r\n            return codeReader.decodeFromConstraints(\r\n              constraints,\r\n              videoRef.current,\r\n              (result, error) => {\r\n                if (result) {\r\n                  const text = result.getText();\r\n                  alert(text);\r\n                  setResult(text)  \r\n                  window.navigator.vibrate?.(200);\r\n                  const beep = new Audio(\"/beep.mp3\");\r\n                  beep.play();\r\n    \r\n                  const stream = videoRef.current?.srcObject;\r\n                  stream?.getTracks().forEach((track) => track.stop());\r\n    \r\n                  if (codeReaderRef.current?.reset && typeof codeReaderRef.current.reset === \"function\") {\r\n                    codeReaderRef.current.reset();\r\n                  }\r\n    \r\n                  setScanning(false);\r\n                }\r\n    \r\n                if (error && error.name !== \"NotFoundException\") {\r\n                  console.error(\"Scan error:\", error);\r\n                }\r\n              }\r\n            );\r\n          };\r\n    \r\n          try {\r\n            await tryDecode({ exact: \"environment\" });\r\n          } catch (error) {\r\n            if (error.name === \"OverconstrainedError\" || error.name === \"NotFoundError\") {\r\n              console.warn(\"Back camera not found. Trying front camera...\");\r\n              try {\r\n                await tryDecode(\"user\");\r\n              } catch (fallbackError) {\r\n                console.error(\"Front camera also failed:\", fallbackError);\r\n                alert(\"No camera found or accessible.\");\r\n                setScanning(false);\r\n              }\r\n            } else {\r\n              console.error(\"Camera access error:\", error);\r\n              alert(\"Camera access error: \" + error.message);\r\n              setScanning(false);\r\n            }\r\n          }\r\n        };\r\n    \r\n        startScanner();\r\n    \r\n        return () => {\r\n          const stream = videoRef.current?.srcObject;\r\n          stream?.getTracks().forEach((track) => track.stop());\r\n    \r\n          if (codeReaderRef.current?.reset && typeof codeReaderRef.current.reset === \"function\") {\r\n            codeReaderRef.current.reset();\r\n          }\r\n        };\r\n      }, [scanning]);\r\n\r\n   const handleSubmit=async(e)=>{\r\n    e.preventDefault()\r\n    try {\r\n      setLoading(true)\r\n      console.log(formData)\r\n\r\n      if(!id){\r\n        const response = await axios.post(\"api/marketing-item/add\",formData, {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        });\r\n       console.log(response)\r\n      alert(\"marketing item successfully\")\r\n      setFormData({\r\n        type:\"\",\r\n        item:\"\" \r\n      })\r\n      }\r\n      else{\r\n        const response = await axios.put(`api/marketing-item/${id}`,formData, {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        });\r\n       console.log(response)\r\n      alert(\"marketing item update successfully\")\r\n      }\r\n     \r\n   \r\n    } catch (error) {\r\n      console.error(\"Error\", error);\r\n    }\r\n    finally{\r\n      setLoading(false)\r\n    }\r\n   }\r\n   if(loading) return (<LoadingScreen />)\r\n  return (\r\n    <div className=\"flex flex-col h-screen\">\r\n      <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\r\n      <div className=\"flex flex-grow \">\r\n\r\n        <Sidebar isSidebarOpen={isSidebarOpen} />\r\n          \r\n           {/* Content */}\r\n         <div className={`flex-grow flex flex-col p-2 md:p-2  `}>\r\n          <header className=\"flex flex-col items-center justify-between p-4 rounded-md shadow sm:flex-row\">\r\n            <div className=\"flex items-center gap-1 text-center sm:flex-row sm:text-left\">\r\n              <h1 className=\"text-lg font-semibold truncate sm:text-xl\">New Marketing Item</h1>\r\n              <span className=\"text-xs text-gray-600 sm:text-sm\">Add/Update marketingitem</span>\r\n            </div>\r\n\r\n            <nav className=\"flex flex-wrap items-center justify-center mt-2 text-xs text-gray-500 sm:justify-start sm:text-sm sm:mt-0\">\r\n   <NavLink to=\"/dashboard\" className=\"flex items-center text-gray-700 no-underline hover:text-cyan-600\">\r\n                            <FaTachometerAlt className=\"mr-2 text-gray-500 hover:text-cyan-600\" /> Home\r\n                          </NavLink>     \r\n                          <NavLink to=\"/marketingitem/view\" className=\"flex items-center text-gray-700 no-underline hover:text-cyan-600\">\r\n                           &gt; Marketing Item List\r\n                          </NavLink>    \r\n                          <NavLink to=\"/marketingitem/add\" className=\"text-gray-700 no-underline hover:text-cyan-600\">\r\n                           &gt; Add Marketing Item\r\n                          </NavLink>\r\n              \r\n            </nav>\r\n          </header>\r\n\r\n          <div className=\"p-4 mt-1 bg-white border-t-4 rounded-lg shadow-md border-cyan-500\">\r\n            \r\n              \r\n            \r\n               <form onSubmit={handleSubmit}>\r\n                 <div className=\"flex flex-col gap-2\">\r\n                  <div className=\"flex flex-col w-full\">\r\n                    <label htmlFor=\"\"> Type</label>\r\n                     <input type=\"text\" name=\"type\" className=\"px-2 py-1 border-2 rounded-md\"  value={formData.type} onChange={(e)=>setFormData((prev) => ({...prev,type:e.target.value}))}/>\r\n                  </div>\r\n                  <div className=\"relative flex flex-col w-full py-2\">\r\n                    <label htmlFor=\"\">Items</label>\r\n                    <label htmlFor=\"\" className=\"flex\">\r\n                    <input type=\"text\" name=\"type\" className=\"w-full px-2 py-1 border-2 rounded-md\"  value={selecteditemname} onChange={(e)=>{setResult(e.target.value) ; setSelecteditemName(e.target.value)}}/>\r\n                    <button type=\"button\"\r\n        className=\"p-2 ml-2 text-white rounded-full hover:bg-blue-600\" \r\n        onClick={() => setScanning(true)}\r\n      >\r\n        <CameraIcon className=\"w-6 h-6 text-gray-500\" />\r\n      </button>\r\n                    </label>\r\n                    {result !== \"\" && (\r\n  <div\r\n    className=\"absolute z-50 w-full overflow-y-auto bg-white border rounded-lg shadow-lg top-20 sm:w-96 max-h-60 touch-auto\"\r\n    style={{ WebkitOverflowScrolling: 'touch' }} // enables momentum scrolling on iOS\r\n  >\r\n    <ul>\r\n      {filteredItems.map((list) => (\r\n        <li\r\n          key={list.itemCode}\r\n          onClick={() => {setSelecteditemName(list.itemName);setFormData((prev)=>({...prev,item:list._id}));setResult(\"\")}}\r\n          className=\"p-2 cursor-pointer hover:bg-gray-100\"\r\n        >\r\n          <strong>{list.itemCode}</strong> - {list.itemName} - {list.barcode}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </div>\r\n)}\r\n  {scanning && (\r\n  <div className=\"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black bg-opacity-50\">\r\n    <div className=\"relative overflow-hidden border-4 border-white rounded-lg shadow-xl w-72 h-72\">\r\n      <video\r\n        ref={videoRef}\r\n        className=\"absolute object-cover w-full h-full\"\r\n        autoPlay\r\n        muted\r\n        playsInline\r\n      />\r\n      <div className=\"absolute w-full h-1 bg-red-500 animate-scan\" />\r\n    </div>\r\n    <button\r\n      onClick={() => {\r\n        const stream = videoRef.current?.srcObject;\r\n        stream?.getTracks().forEach((track) => track.stop());\r\n\r\n        if (codeReaderRef.current?.reset && typeof codeReaderRef.current.reset === \"function\") {\r\n          codeReaderRef.current.reset();\r\n        }\r\n\r\n        setScanning(false);\r\n      }}\r\n      className=\"px-4 py-2 mt-6 text-white bg-red-600 rounded hover:bg-red-700\"\r\n    >\r\n      Cancel\r\n    </button>\r\n  </div>\r\n)}\r\n\r\n                    </div>\r\n                 </div>\r\n                               <div className='flex flex-col items-center justify-around w-full gap-2 mx-auto sm:flex-row'>\r\n                                 <Button className=\"w-full text-white bg-green-500 rounded cursor-pointer hover:bg-green-600\" type='submit' text={id?\"Update\":\"Save\"} /> {/* Save button */}\r\n                                 <Button className=\"w-full text-white bg-orange-500 rounded cursor-pointer hover:bg-orange-600\" text=\"Close\" /> {/* Close button */}\r\n                               </div>\r\n          \r\n            </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    \r\n  );\r\n};\r\n\r\nexport default AddMarketingItems;\r\n","import React from 'react'\r\n\r\nexport default function Button({\r\n    text,\r\n    type=\"button\",\r\n    className,\r\n    ...props\r\n}) {\r\n  return (\r\n    <button  className={`${className}`} {...props}>{text}</button>\r\n  )\r\n}\r\n","import * as React from \"react\";\n\nfunction CameraIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(CameraIcon);\nexport default ForwardRef;"],"names":["LoadingScreen","isSidebarOpen","setSidebarOpen","useState","_jsxs","className","children","_jsx","Navbar","Sidebar","AddMarketingItems","searchParams","useSearchParams","id","get","loading","setLoading","items","setItems","selecteditemname","setSelecteditemName","result","setResult","formData","setFormData","type","item","useEffect","window","innerWidth","async","response","axios","headers","Authorization","localStorage","getItem","console","log","data","error","fetchItems","types","Object","keys","dataArray","filter","_id","length","_data$item","_data$item2","itemName","fetchMarketingItem","filteredItems","_item$itemName","_item$itemCode","q","toLowerCase","includes","itemCode","barcode","_item$itemName2","_item$itemCode2","scanning","setScanning","videoRef","useRef","codeReaderRef","current","codeReader","BrowserMultiFormatReader","tryDecode","constraints","video","facingMode","advanced","width","height","zoom","decodeFromConstraints","_window$navigator$vib","_window$navigator","_videoRef$current","_codeReaderRef$curren","text","getText","alert","navigator","vibrate","call","Audio","play","stream","srcObject","getTracks","forEach","track","stop","reset","name","exact","warn","fallbackError","message","startScanner","_videoRef$current2","_codeReaderRef$curren2","NavLink","to","FaTachometerAlt","onSubmit","e","preventDefault","put","post","htmlFor","value","onChange","prev","target","onClick","CameraIcon","style","WebkitOverflowScrolling","map","list","ref","autoPlay","muted","playsInline","_videoRef$current3","_codeReaderRef$curren3","Button","_ref","props","React","svgRef","assign","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d"],"sourceRoot":""}