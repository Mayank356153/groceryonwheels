{"version":3,"file":"static/js/5665.08cc0502.chunk.js","mappings":"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","sources":["components/Accounts/AddVanCash.jsx"],"sourcesContent":["// src/components/Ledger/AddVanCash.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Navbar from \"../Navbar.jsx\";\r\nimport Sidebar from \"../Sidebar.jsx\";\r\n\r\nconst API_BASE = \"api\";\r\n\r\nexport default function AddVanCash() {\r\n  const navigate = useNavigate();\r\n  const token = localStorage.getItem(\"token\") || \"\";\r\n  axios.defaults.headers.common = { Authorization: `Bearer ${token}` };\r\n    const [isSidebarOpen, setSidebarOpen] = useState(true);\r\n\r\n  const [warehouses, setWarehouses] = useState([]);\r\n  const [form, setForm] = useState({\r\n    date:        new Date().toLocaleDateString('en-CA'),\r\n    amount:      \"\",\r\n    warehouseId: \"\"\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError]     = useState(\"\");\r\n\r\n  // fetch warehouses array\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${API_BASE}/warehouses`)\r\n      .then(res => {\r\n        // res.data.data should be an array\r\n        const arr = Array.isArray(res.data.data) ? res.data.data : [];\r\n        setWarehouses(arr);\r\n      })\r\n      .catch(err => {\r\n        console.error(\"Fetch warehouses:\", err);\r\n        setWarehouses([]);\r\n        setError(\"Failed to load warehouses\");\r\n      });\r\n  }, []);\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setForm(f => ({ ...f, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    if (!form.warehouseId || !form.amount) {\r\n      return setError(\"Please select a warehouse and enter an amount\");\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const payload = {\r\n        date:        form.date,\r\n        amount:      Number(form.amount),\r\n        warehouseId: form.warehouseId\r\n      };\r\n      await axios.post(`${API_BASE}/ledger/van-cash`, payload);\r\n      navigate(-1);\r\n    } catch (err) {\r\n      console.error(\"postVanCash:\", err);\r\n      setError(err.response?.data?.message || \"Failed to record van cash\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-screen\">\r\n      <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\r\n      <div className=\"flex flex-grow\">\r\n        <Sidebar isSidebarOpen={isSidebarOpen} />\r\n        <main className=\"p-6 bg-gray-50 flex-1 overflow-auto\">\r\n          <div className=\"max-w-md mx-auto bg-white p-6 rounded shadow\">\r\n            <h2 className=\"text-2xl font-semibold mb-4\">Record Van Cash</h2>\r\n            {error && (\r\n              <div className=\"mb-4 p-2 bg-red-100 text-red-700 rounded\">\r\n                {error}\r\n              </div>\r\n            )}\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block mb-1 font-medium\">Date</label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"date\"\r\n                  value={form.date}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border rounded px-3 py-2\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block mb-1 font-medium\">Amount</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"amount\"\r\n                  value={form.amount}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border rounded px-3 py-2\"\r\n                  min=\"0\"\r\n                  step=\"0.01\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block mb-1 font-medium\">Warehouse</label>\r\n                <select\r\n                  name=\"warehouseId\"\r\n                  value={form.warehouseId}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border rounded px-3 py-2\"\r\n                  required\r\n                >\r\n                  <option value=\"\">Select warehouse…</option>\r\n                  {warehouses.map(w => (\r\n                    <option key={w._id} value={w._id}>\r\n                      {w.warehouseName || w.name || w._id}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition\"\r\n              >\r\n                {loading ? \"Saving…\" : \"Save Van Cash\"}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["API_BASE","AddVanCash","navigate","useNavigate","token","localStorage","getItem","axios","defaults","headers","common","Authorization","isSidebarOpen","setSidebarOpen","useState","warehouses","setWarehouses","form","setForm","date","Date","toLocaleDateString","amount","warehouseId","loading","setLoading","error","setError","useEffect","get","then","res","arr","Array","isArray","data","catch","err","console","handleChange","e","name","value","target","f","_jsxs","className","children","_jsx","Navbar","Sidebar","onSubmit","async","preventDefault","payload","Number","post","_err$response","_err$response$data","response","message","type","onChange","required","min","step","map","w","_id","warehouseName","disabled"],"sourceRoot":""}