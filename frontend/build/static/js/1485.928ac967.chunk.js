"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1485],{14840:(e,s,t)=>{t.d(s,{A:()=>c});var a=t(65043),r=t(21197),l=t(59255),n=t(70579);function c(){const[e,s]=(0,a.useState)(!1);return(0,n.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,n.jsx)(r.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,n.jsxs)("div",{className:"flex flex-grow mt-20",children:[(0,n.jsx)("div",{children:(0,n.jsx)(l.A,{isSidebarOpen:e})}),(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin"}),(0,n.jsx)("p",{className:"mt-3 text-lg font-semibold text-gray-700",children:"Loading..."})]})})]})]})}},53866:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var a=t(65043),r=t(59255),l=t(21197),n=t(49804),c=t(60184),i=t(66727),d=t(14840),o=t(37762),x=t(64857),m=t(11238),h=t(86213),u=t(70579);const b=()=>{const[e,s]=(0,a.useState)(!0),[t,b]=(0,a.useState)(null),[p,j]=(0,a.useState)(1),[f,g]=(0,a.useState)(10),[w,N]=(0,a.useState)(""),[y,v]=(0,a.useState)([]),[S,C]=(0,a.useState)([]),k=(0,i.Zp)();(0,a.useEffect)((()=>{window.innerWidth<768&&s(!1)}),[]);const A=async()=>{v(!0);try{const e=await h.A.get("api/brands",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log(e.data),C(e.data.data)}catch(e){console.log(e.message)}finally{v(!1)}};(0,a.useEffect)((()=>{A()}),[]);const B=S.filter((e=>e.brandName.toLowerCase().includes(w.toLowerCase()))),_=Math.ceil(B.length/f),$=B.slice((p-1)*f,p*f),[I,D]=(0,a.useState)(null),E=e=>{const s=S.find((s=>s._id===e));if(!s)return void console.error("BRand not found for ID:",e);const t="Active"===s.status?"Inactive":"Active",a={...s,status:t};(async(e,s)=>{v(!0);try{await h.A.put(`api/brands/${e}`,s,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}}),alert("Update Successfully"),A()}catch(l){var t,a,r;console.error("Error:",(null===(t=l.response)||void 0===t?void 0:t.data)||l.message),alert("Unsuccessful: "+((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||l.message))}finally{v(!1)}})(e,a),D(a)};return y?(0,u.jsx)(d.A,{}):(0,u.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,u.jsx)(l.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,u.jsxs)("div",{className:"flex flex-col flex-grow md:flex-row",children:[(0,u.jsx)(r.A,{isSidebarOpen:e}),(0,u.jsxs)("div",{className:"flex-grow p-6  transition-all duration-300 bg-gray-100 min-h-screen",children:[(0,u.jsxs)("header",{className:"flex flex-col items-center justify-between mb-6 md:flex-row",children:[(0,u.jsxs)("div",{className:"flex items-baseline gap-1 text-center sm:flex-row sm:text-left",children:[(0,u.jsx)("h1",{className:"text-lg font-semibold truncate sm:text-xl",children:"Brands List"}),(0,u.jsx)("span",{className:"text-xs text-gray-600 sm:text-sm",children:"View/Search Items Brand"})]}),(0,u.jsxs)("nav",{className:"flex flex-wrap mt-2 text-sm text-gray-600",children:[(0,u.jsxs)("a",{href:"/dashboard",className:"flex items-center text-gray-400 no-underline hover:text-cyan-600",children:[(0,u.jsx)(c.$BV,{className:"mr-2 text-gray-500"})," Home"]}),(0,u.jsx)(n.XWt,{className:"mx-2 text-gray-400 mt-1.5"}),(0,u.jsx)("a",{href:"#",className:"text-gray-400 no-underline hover:text-cyan-600",children:"Brands List"})]})]}),(0,u.jsxs)("div",{className:"p-4 bg-white rounded shadow-md",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,u.jsx)("h2",{className:"text-lg font-semibold",children:"Brands List"}),(0,u.jsx)(i.N_,{to:"/brand-form",children:(0,u.jsx)("button",{className:"px-4 py-2 text-white rounded bg-cyan-500",children:"+ Create Brand"})})]}),(0,u.jsxs)("div",{className:"flex flex-col items-start justify-between gap-4 p-2 mb-4 md:flex-row md:items-center",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("label",{children:"Show"}),(0,u.jsxs)("select",{className:"w-full px-2 py-1 text-sm border rounded md:w-auto",value:f,onChange:e=>g(parseInt(e.target.value)),children:[(0,u.jsx)("option",{value:10,children:"10"}),(0,u.jsx)("option",{value:25,children:"25"}),(0,u.jsx)("option",{value:50,children:"50"}),(0,u.jsx)("option",{value:100,children:"100"})]}),(0,u.jsx)("label",{children:"Entries"})]}),(0,u.jsxs)("div",{className:"flex flex-wrap gap-0.5 text-sm",children:[(0,u.jsx)("button",{className:"text-white bg-cyan-300 w-14 hover:bg-cyan-500",onClick:()=>{const e=$.map((e=>`${e.brandName},${e.description},${e.status}`)).join("\n");navigator.clipboard.writeText(e),alert("Data copied to clipboard!")},children:"Copy"}),(0,u.jsx)("button",{className:"text-white bg-cyan-300 w-14 hover:bg-cyan-500",onClick:()=>{const e=m.utils.json_to_sheet($),s=m.utils.book_new();m.utils.book_append_sheet(s,e,"Brands"),m.writeFile(s,"Brands.xlsx")},children:"Excel"}),(0,u.jsx)("button",{className:"text-white bg-cyan-300 w-14 hover:bg-cyan-500",onClick:()=>{const e=new o.uE;e.text("Brands List",20,20);const s=B.map((e=>[e.brandName,e.description,e.status]));(0,x.Ay)(e,{head:[["Brand Name","Description","Status"]],body:s}),e.save("Brands_list.pdf")},children:"PDF"}),(0,u.jsx)("button",{className:"text-white bg-cyan-300 w-14 hover:bg-cyan-500",onClick:()=>{window.print()},children:"Print"}),(0,u.jsx)("button",{className:"text-white bg-cyan-300 w-14 hover:bg-cyan-500",onClick:()=>{const e="data:text/csv;charset=utf-8,"+$.map((e=>Object.values(e).join(","))).join("\n"),s=encodeURI(e),t=document.createElement("a");t.setAttribute("href",s),t.setAttribute("download","customers.csv"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},children:"CSV"}),(0,u.jsx)("input",{type:"text",placeholder:"Search",className:"w-full px-2 py-1 border rounded md:w-auto",value:w,onChange:e=>N(e.target.value)})]})]}),(0,u.jsx)("div",{className:"w-full overflow-x-auto",children:(0,u.jsxs)("table",{className:"w-full text-center border border-collapse border-gray-300",children:[(0,u.jsx)("thead",{className:"bg-gray-200",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"p-2 border",children:(0,u.jsx)("input",{type:"checkbox"})}),(0,u.jsx)("th",{className:"p-2 border",children:"Brand Name"}),(0,u.jsx)("th",{className:"p-2 border",children:"Description"}),(0,u.jsx)("th",{className:"p-2 border",children:"Status"}),(0,u.jsx)("th",{className:"p-2 border",children:"Action"})]})}),(0,u.jsx)("tbody",{children:$.map(((e,s)=>(0,u.jsxs)("tr",{className:"border-b",children:[(0,u.jsx)("td",{className:"p-1 text-center border",children:(0,u.jsx)("input",{type:"checkbox"})}),(0,u.jsx)("td",{className:"p-1 border",children:e.brandName}),(0,u.jsx)("td",{className:"p-1 border",children:e.description}),(0,u.jsx)("td",{className:"p-1 border",onClick:()=>E(e._id),children:"active"===e.status.toLowerCase()?(0,u.jsx)("span",{className:"px-1 py-1 text-sm text-white bg-green-600 rounded-md",children:"Active"}):(0,u.jsx)("span",{className:"px-1 py-1 text-sm text-white bg-red-600 rounded-md",children:"Inactive"})}),(0,u.jsxs)("td",{className:"relative p-2 border",children:[(0,u.jsx)("button",{onClick:()=>(e=>{b(t===e?null:e)})(e._id),className:"px-4 py-1 text-white rounded bg-cyan-600",children:"Action \u25bc"}),t===e._id&&(0,u.jsxs)("div",{className:"absolute z-10 p-1 bg-white border rounded shadow-md right-10",children:[(0,u.jsxs)("button",{className:"flex items-center w-full px-2 py-1 hover:bg-gray-100",onClick:()=>k(`/brand-form?id=${e._id}`),children:[(0,u.jsx)(c.uO9,{className:"mr-2 text-blue-600"})," Edit"]}),(0,u.jsxs)("button",{className:"flex items-center w-full px-2 py-1 hover:bg-gray-100",onClick:()=>(async e=>{if(window.confirm("Do u want to delete this")){v(!0);try{await h.A.delete(`api/brands/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),alert("Deleted Successfully")}catch(s){console.error(s.message)}finally{A(),v(!1)}}})(e._id),children:[(0,u.jsx)(c.qbC,{className:"mr-2 text-red-600"})," Delete"]})]})]})]},s)))})]})}),(0,u.jsxs)("div",{className:"flex flex-col items-center justify-between mt-4 md:flex-row",children:[(0,u.jsxs)("p",{className:"text-sm",children:["Showing ",(p-1)*f+1," to ",Math.min(p*f,S.length)," of ",S.length," entries"]}),(0,u.jsxs)("div",{className:"flex gap-1",children:[(0,u.jsx)("button",{className:"px-2 py-1 rounded "+(1===p?"bg-gray-300 cursor-not-allowed":"bg-blue-500 text-white"),disabled:1===p,onClick:()=>j(p-1),children:"Previous"}),(0,u.jsx)("button",{className:"px-2 py-1 rounded "+(p===_?"bg-gray-300 cursor-not-allowed":"bg-blue-500 text-white"),disabled:p===_,onClick:()=>j(p+1),children:"Next"})]})]})]})]})]})]})}}}]);
//# sourceMappingURL=1485.928ac967.chunk.js.map