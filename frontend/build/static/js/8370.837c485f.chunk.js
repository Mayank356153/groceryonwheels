"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8370],{14840:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(65043),r=t(21197),n=t(59255),l=t(70579);function o(){const[e,s]=(0,a.useState)(!1);return(0,l.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,l.jsx)(r.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,l.jsxs)("div",{className:"flex flex-grow mt-20",children:[(0,l.jsx)("div",{children:(0,l.jsx)(n.A,{isSidebarOpen:e})}),(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin"}),(0,l.jsx)("p",{className:"mt-3 text-lg font-semibold text-gray-700",children:"Loading..."})]})})]})]})}},38370:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var a=t(65043),r=t(59255),n=t(21197),l=t(49804),o=t(60184),c=t(66727),i=t(86213),d=t(14840),u=t(70579);const x=()=>{const[e,s]=(0,a.useState)(!0),[t,x]=(0,a.useState)(!1),[m]=(0,c.ok)(),g=m.get("categoryId"),b=m.get("id"),f=(0,c.Zp)(),[h,p]=(0,a.useState)({name:"",description:"",category:g||"",status:"Active"});(0,a.useEffect)((()=>{window.innerWidth<768&&s(!1)}),[]);(0,a.useEffect)((()=>{b&&(async()=>{if(b){x(!0);try{const e=(await i.A.get(`api/subcategories/${b}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.data;p({name:e.name,description:e.description,category:e.category,status:e.status})}catch(e){console.error(e.message),alert("Error fetching subcategory")}finally{x(!1)}}})()}),[b]);const y=e=>{const{name:s,value:t}=e.target;p((e=>({...e,[s]:t})))};return t?(0,u.jsx)(d.A,{}):(0,u.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,u.jsx)(n.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,u.jsxs)("div",{className:"flex flex-grow",children:[(0,u.jsx)(r.A,{isSidebarOpen:e}),(0,u.jsxs)("div",{className:"flex-grow  flex flex-col p-4 md:p-6 bg-gray-100 transition-all duration-300 ",children:[(0,u.jsxs)("header",{className:"flex flex-col items-center justify-between p-4 mb-2 bg-gray-100 rounded-md shadow md:flex-row",children:[(0,u.jsxs)("div",{className:"flex items-baseline gap-1 text-center sm:flex-row sm:text-left",children:[(0,u.jsx)("h1",{className:"text-lg font-semibold truncate sm:text-xl",children:b?"Edit Subcategory":"Create Subcategory"}),(0,u.jsx)("span",{className:"text-xs text-gray-600 sm:text-sm",children:b?"Update an existing subcategory":"Add a new subcategory"})]}),(0,u.jsxs)("nav",{className:"flex flex-wrap items-center justify-center mt-2 text-xs text-gray-500 sm:justify-start sm:text-sm sm:mt-0",children:[(0,u.jsxs)(c.k2,{to:"/dashboard",className:"flex items-center text-gray-700 no-underline",children:[(0,u.jsx)(o.$BV,{})," Home "]}),(0,u.jsx)(l.XWt,{className:"mx-1  sm:mx-2"}),(0,u.jsx)("span",{className:"text-gray-700 no-underline",children:b?"Edit Subcategory":"Create Subcategory"})]})]}),(0,u.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b?(async()=>{x(!0);try{await i.A.put(`api/subcategories/${b}`,h,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),alert("Subcategory updated successfully!"),f(-1)}catch(s){var e;console.error((null===(e=s.response)||void 0===e?void 0:e.data)||s.message),alert("Error updating subcategory")}finally{x(!1)}})():(async()=>{x(!0);try{await i.A.post("api/categories/sub",h,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),alert("Subcategory created successfully!"),f(-1)}catch(s){var e;console.error((null===(e=s.response)||void 0===e?void 0:e.data)||s.message),alert("Error creating subcategory")}finally{x(!1)}})()},className:"p-4 bg-white border-t-4 rounded shadow-md border-cyan-500",children:[(0,u.jsx)("h2",{className:"mb-3 text-lg font-medium text-gray-700",children:b?"Update Subcategory":"Please Enter Valid Data"}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsxs)("label",{className:"block font-semibold text-gray-700",children:["Name ",(0,u.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,u.jsx)("input",{type:"text",name:"name",className:"w-full p-2 mt-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-400 focus:outline-none",value:h.name,onChange:y,required:!0})]}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{className:"block font-semibold text-gray-700",children:"Description"}),(0,u.jsx)("textarea",{name:"description",rows:3,className:"w-full p-2 mt-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-400 focus:outline-none",value:h.description,onChange:y})]}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{className:"block font-semibold text-gray-700",children:"Status"}),(0,u.jsxs)("select",{name:"status",className:"w-full p-2 mt-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-400 focus:outline-none",value:h.status,onChange:y,children:[(0,u.jsx)("option",{value:"Active",children:"Active"}),(0,u.jsx)("option",{value:"Inactive",children:"Inactive"})]})]}),(0,u.jsx)("input",{type:"hidden",name:"category",value:h.category}),(0,u.jsxs)("div",{className:"flex justify-center gap-4 mt-6",children:[(0,u.jsx)("button",{type:"submit",className:"px-6 py-2 text-white bg-green-500 rounded hover:bg-green-600",children:b?"Update":"Save"}),(0,u.jsx)("button",{type:"button",onClick:()=>f(-1),className:"px-6 py-2 text-white bg-orange-500 rounded hover:bg-orange-600",children:"Close"})]})]})]})]})]})}}}]);
//# sourceMappingURL=8370.837c485f.chunk.js.map