"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8596],{98596:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var n=t(65043),a=t(86213),o=t(66727),l=t(49804),c=t(60184),r=t(21197),i=t(59255),d=t(70579);const m=()=>{const[e,s]=(0,n.useState)(!0),[t,m]=(0,n.useState)("sales");(0,n.useEffect)((()=>{window.innerWidth<768&&s(!1)}),[]);const[x,h]=(0,n.useState)({defaultAccount:"",defaultSaleDiscount:0,posInvoiceFormat:"Default",showWHColumnsOnPOSInvoice:!1,showPaidAmountAndChangeReturnOnInvoice:!1,invoiceFooterText:"",invoiceTermsAndConditions:""}),[u,g]=(0,n.useState)([]),[v,b]=(0,n.useState)(!1),p=(0,o.Zp)();(0,n.useEffect)((()=>{(async()=>{try{var e;const s=localStorage.getItem("token"),t=await a.A.get("api/accounts",{headers:{Authorization:`Bearer ${s}`}}),n=Array.isArray(t.data)?t.data:(null===(e=t.data)||void 0===e?void 0:e.data)||[];g(n)}catch(s){console.error("Error fetching accounts:",s)}})(),(async()=>{try{b(!0);const e=localStorage.getItem("token"),s=await a.A.get("api/pos-settings",{headers:{Authorization:`Bearer ${e}`}});h(s.data)}catch(e){console.error("Error fetching POS settings:",e)}finally{b(!1)}})()}),[]);const j=e=>{const{name:s,value:t,type:n,checked:a}=e.target;h((e=>({...e,[s]:"checkbox"===n?a:t})))};return(0,d.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,d.jsx)(r.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,d.jsxs)("div",{className:"flex flex-grow",children:[(0,d.jsx)(i.A,{isSidebarOpen:e}),(0,d.jsxs)("div",{className:"flex-grow  p-4 transition-all duration-300 w-full",children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h4",{className:"text-xl font-semibold text-black",children:"Store"}),(0,d.jsxs)("nav",{className:"flex items-center text-sm text-gray-500",children:[(0,d.jsxs)(o.N_,{to:"/dashboard",className:"flex items-center text-gray-700 no-underline hover:text-cyan-600",children:[(0,d.jsx)(c.$BV,{className:"mr-2"})," Home"]}),(0,d.jsx)(l.XWt,{className:"mx-1"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Accounts List"}),(0,d.jsx)(l.XWt,{className:"mx-1"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Accounts"})]})]}),(0,d.jsx)("div",{className:"my-2 border-b"}),(0,d.jsxs)("nav",{className:"flex gap-2 ",children:[(0,d.jsx)("a",{href:"/store",className:"text-sm font-semibold no-underline hover:text-cyan-500",children:"Store"}),(0,d.jsx)("a",{href:"/pos-settings",className:"text-sm font-semibold no-underline hover:text-cyan-500",children:"Sales"})]})]}),(0,d.jsx)("div",{className:"p-4 bg-white border rounded shadow-md",children:"sales"===t?(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"mb-4 text-lg font-bold",children:"Sales Settings"}),v?(0,d.jsx)("p",{children:"Loading sales settings..."}):(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),s=await a.A.put("api/pos-settings",x,{headers:{Authorization:`Bearer ${e}`}});alert("Settings updated successfully!"),h(s.data)}catch(s){console.error("Error updating settings:",s),alert("Failed to update settings")}},className:"grid grid-cols-1 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block mb-1 text-sm",children:"Default Account"}),(0,d.jsxs)("select",{name:"defaultAccount",value:x.defaultAccount||"",onChange:j,className:"w-full p-2 border rounded",children:[(0,d.jsx)("option",{value:"",children:"Select an Account"}),u.map((e=>(0,d.jsx)("option",{value:e._id,children:e.accountName},e._id)))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block mb-1 text-sm",children:"Default Sale Discount (%)"}),(0,d.jsx)("input",{type:"number",name:"defaultSaleDiscount",value:x.defaultSaleDiscount,onChange:j,className:"w-full p-2 border rounded"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block mb-1 text-sm",children:"POS Invoice Format"}),(0,d.jsx)("input",{type:"text",name:"posInvoiceFormat",value:x.posInvoiceFormat,onChange:j,className:"w-full p-2 border rounded"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("input",{type:"checkbox",name:"showWHColumnsOnPOSInvoice",checked:x.showWHColumnsOnPOSInvoice,onChange:j,className:"mr-2"}),(0,d.jsx)("label",{className:"text-sm",children:"Show W/H Columns on POS Invoice"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("input",{type:"checkbox",name:"showPaidAmountAndChangeReturnOnInvoice",checked:x.showPaidAmountAndChangeReturnOnInvoice,onChange:j,className:"mr-2"}),(0,d.jsx)("label",{className:"text-sm",children:"Show Paid Amount & Change Return on Invoice"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block mb-1 text-sm",children:"Invoice Footer Text"}),(0,d.jsx)("textarea",{name:"invoiceFooterText",value:x.invoiceFooterText,onChange:j,className:"w-full p-2 border rounded"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block mb-1 text-sm",children:"Invoice Terms & Conditions"}),(0,d.jsx)("textarea",{name:"invoiceTermsAndConditions",value:x.invoiceTermsAndConditions,onChange:j,className:"w-full p-2 border rounded"})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,d.jsx)("button",{type:"submit",className:"px-4 py-2 text-white bg-green-600 rounded hover:bg-green-700",children:"Update"}),(0,d.jsx)("button",{type:"button",on:()=>p("/dashboard"),className:"px-4 py-2 text-white bg-red-500 rounded hover:bg-red-600",children:"Close"})]})]})]}):(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"mb-2 text-lg font-bold",children:"store"===t?"Store Settings":"system"===t?"System Settings":"Prefixes Settings"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"store"===t?"Store settings content goes here...":"system"===t?"System settings content goes here...":"Prefixes settings content goes here..."})]})})]})]})]})}}}]);
//# sourceMappingURL=8596.c19dabeb.chunk.js.map