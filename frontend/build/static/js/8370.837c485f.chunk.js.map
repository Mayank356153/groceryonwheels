{"version":3,"file":"static/js/8370.837c485f.chunk.js","mappings":"sKAGe,SAASA,IACpB,MAAMC,EAAcC,IAAgBC,EAAAA,EAAAA,WAAS,GAC7C,OACIC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EAEvCC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAACP,cAAeA,EAAeC,eAAgBA,KACtDE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,OAAAD,UAEEC,EAAAA,EAAAA,KAACE,EAAAA,EAAO,CAACR,cAAeA,OAI1BM,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mFAAkFC,UACjGF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,EACzCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uFACfE,EAAAA,EAAAA,KAAA,KAAGF,UAAU,2CAA0CC,SAAC,yBAOlE,C,uJChBF,MAiOA,EAjOwBI,KACtB,MAAOT,EAAeC,IAAkBC,EAAAA,EAAAA,WAAS,IAC1CQ,EAASC,IAAcT,EAAAA,EAAAA,WAAS,IAChCU,IAAgBC,EAAAA,EAAAA,MACjBC,EAAaF,EAAaG,IAAI,cAC9BC,EAAKJ,EAAaG,IAAI,MACtBE,GAAWC,EAAAA,EAAAA,OAGVC,EAAUC,IAAelB,EAAAA,EAAAA,UAAS,CACvCmB,KAAM,GACNC,YAAa,GACbC,SAAUT,GAAc,GACxBU,OAAQ,YAEXC,EAAAA,EAAAA,YAAU,KACJC,OAAOC,WAAa,KACrB1B,GAAe,EACjB,GACA,KA+BFwB,EAAAA,EAAAA,YAAU,KACJT,GA9BmBY,WACvB,GAAKZ,EAAL,CACAL,GAAW,GACX,IAEE,MASMkB,SATiBC,EAAAA,EAAMf,IAC3B,qBAAqBC,IACrB,CACEe,QAAS,CACPC,cAAe,UAAUC,aAAaC,QAAQ,eAK5BC,KAAKA,KAC7Bf,EAAY,CACVC,KAAMQ,EAAOR,KACbC,YAAaO,EAAOP,YACpBC,SAAUM,EAAON,SACjBC,OAAQK,EAAOL,QAEnB,CAAE,MAAOY,GACPC,QAAQD,MAAMA,EAAME,SACpBC,MAAM,6BACR,CAAC,QACC5B,GAAW,EACb,CAzBe,CAyBf,EAKE6B,EACF,GACC,CAACxB,IAGJ,MAAMyB,EAAgBC,IACpB,MAAM,KAAErB,EAAI,MAAEsB,GAAUD,EAAEE,OAC1BxB,GAAayB,IAAI,IAAWA,EAAM,CAACxB,GAAOsB,KAAS,EA6DrD,OAAIjC,GAAgBJ,EAAAA,EAAAA,KAACP,EAAAA,EAAa,KAGhCI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACrCC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAACP,cAAeA,EAAeC,eAAgBA,KACtDE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAACE,EAAAA,EAAO,CAACR,cAAeA,KACxBG,EAAAA,EAAAA,MAAA,OACEC,UAAW,+EAA+EC,SAAA,EAE1FF,EAAAA,EAAAA,MAAA,UAAQC,UAAU,gGAA+FC,SAAA,EAC/GF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iEAAgEC,SAAA,EAC7EC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,4CAA2CC,SACtDW,EAAK,mBAAqB,wBAE7BV,EAAAA,EAAAA,KAAA,QAAMF,UAAU,mCAAkCC,SAC/CW,EACG,iCACA,8BAGRb,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4GAA2GC,SAAA,EAC1HF,EAAAA,EAAAA,MAAC2C,EAAAA,GAAO,CAACC,GAAG,aAAa3C,UAAU,+CAA8CC,SAAA,EAACC,EAAAA,EAAAA,KAAC0C,EAAAA,IAAe,IAAG,aACnG1C,EAAAA,EAAAA,KAAC2C,EAAAA,IAAc,CAAC7C,UAAU,mBAC1BE,EAAAA,EAAAA,KAAA,QAAMF,UAAU,6BAA4BC,SACzCW,EAAK,mBAAqB,8BAKjCb,EAAAA,EAAAA,MAAA,QACE+C,SAxCYR,IACpBA,EAAES,iBACEnC,EA1BoBY,WACxBjB,GAAW,GACX,UAEyBmB,EAAAA,EAAMsB,IAC3B,qBAAqBpC,IACrBG,EACA,CACEY,QAAS,CACP,eAAgB,mBAChBC,cAAe,UAAUC,aAAaC,QAAQ,cAIpDK,MAAM,qCACNtB,GAAU,EACZ,CAAE,MAAOmB,GAAQ,IAADiB,EACdhB,QAAQD,OAAoB,QAAdiB,EAAAjB,EAAMkB,gBAAQ,IAAAD,OAAA,EAAdA,EAAgBlB,OAAQC,EAAME,SAC5CC,MAAM,6BACR,CAAC,QACC5B,GAAW,EACb,GAME4C,GAnDsB3B,WACxBjB,GAAW,GACX,UAEyBmB,EAAAA,EAAM0B,KAC3B,qBACArC,EACA,CACEY,QAAS,CACP,eAAgB,mBAChBC,cAAe,UAAUC,aAAaC,QAAQ,cAIpDK,MAAM,qCACNtB,GAAU,EACZ,CAAE,MAAOmB,GAAQ,IAADqB,EACdpB,QAAQD,OAAoB,QAAdqB,EAAArB,EAAMkB,gBAAQ,IAAAG,OAAA,EAAdA,EAAgBtB,OAAQC,EAAME,SAC5CC,MAAM,6BACR,CAAC,QACC5B,GAAW,EACb,GAgCE+C,EACF,EAmCQtD,UAAU,4DAA2DC,SAAA,EAErEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,yCAAwCC,SACnDW,EAAK,qBAAuB,6BAG/Bb,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,oCAAmCC,SAAA,CAAC,SAC9CC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAC,UAEtCC,EAAAA,EAAAA,KAAA,SACEqD,KAAK,OACLtC,KAAK,OACLjB,UAAU,qGACVuC,MAAOxB,EAASE,KAChBuC,SAAUnB,EACVoB,UAAQ,QAIZ1D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,oCAAmCC,SAAC,iBAGrDC,EAAAA,EAAAA,KAAA,YACEe,KAAK,cACLyC,KAAM,EACN1D,UAAU,qGACVuC,MAAOxB,EAASG,YAChBsC,SAAUnB,QAIdtC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,oCAAmCC,SAAC,YAGrDF,EAAAA,EAAAA,MAAA,UACEkB,KAAK,SACLjB,UAAU,qGACVuC,MAAOxB,EAASK,OAChBoC,SAAUnB,EAAapC,SAAA,EAEvBC,EAAAA,EAAAA,KAAA,UAAQqC,MAAM,SAAQtC,SAAC,YACvBC,EAAAA,EAAAA,KAAA,UAAQqC,MAAM,WAAUtC,SAAC,oBAK7BC,EAAAA,EAAAA,KAAA,SAAOqD,KAAK,SAAStC,KAAK,WAAWsB,MAAOxB,EAASI,YAErDpB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCC,SAAA,EAC7CC,EAAAA,EAAAA,KAAA,UACEqD,KAAK,SACLvD,UAAU,+DAA8DC,SAEvEW,EAAK,SAAW,UAEnBV,EAAAA,EAAAA,KAAA,UACEqD,KAAK,SACLI,QAASA,IAAM9C,GAAU,GACzBb,UAAU,iEAAgEC,SAC3E,wBAOL,C","sources":["Loading.jsx","components/Items/SubCategoryForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nexport default function LoadingScreen() {\n    const[isSidebarOpen,setSidebarOpen]=useState(false)\n    return (\n        <div className='flex flex-col h-screen'>\n        {/* Navbar component with sidebar open state */}\n        <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\n        <div className='flex flex-grow mt-20'>\n          <div>\n            {/* Sidebar component with open state */}\n            <Sidebar isSidebarOpen={isSidebarOpen} />\n          </div>\n  \n          {/* Container for the entire component */}\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm\">\n          <div className=\"flex flex-col items-center\">\n            <div className=\"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin\"></div>\n            <p className=\"mt-3 text-lg font-semibold text-gray-700\">Loading...</p>\n          </div>\n        </div>\n          \n        </div>\n      </div>\n    );\n  }\n  ","import React, { useEffect, useState } from 'react';\r\nimport Sidebar from '../Sidebar';\r\nimport Navbar from '../Navbar';\r\nimport { BiChevronRight } from 'react-icons/bi';\r\nimport { FaTachometerAlt } from 'react-icons/fa';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport LoadingScreen from '../../Loading';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst SubCategoryForm = () => {\r\n  const [isSidebarOpen, setSidebarOpen] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchParams] = useSearchParams();\r\n  const categoryId = searchParams.get('categoryId'); // parent category\r\n  const id = searchParams.get('id'); // subcategory ID (for editing)\r\n  const navigate = useNavigate();\r\n\r\n  // Subcategory form data\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    category: categoryId || '', // link to parent category\r\n    status: 'Active',\r\n  });\r\n useEffect(()=>{\r\n    if(window.innerWidth < 768){\r\n      setSidebarOpen(false)\r\n    }\r\n  },[])\r\n  // If editing, fetch existing subcategory details\r\n  const fetchSubcategory = async () => {\r\n    if (!id) return;\r\n    setLoading(true);\r\n    try {\r\n      // e.g. GET /api/subcategories/:id\r\n      const response = await axios.get(\r\n        `api/subcategories/${id}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n        }\r\n      );\r\n      // Suppose the data is in response.data.data\r\n      const subcat = response.data.data;\r\n      setFormData({\r\n        name: subcat.name,\r\n        description: subcat.description,\r\n        category: subcat.category, // the parent category ID\r\n        status: subcat.status,\r\n      });\r\n    } catch (error) {\r\n      console.error(error.message);\r\n      alert('Error fetching subcategory');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      fetchSubcategory();\r\n    }\r\n  }, [id]);\r\n\r\n  // Handle input changes\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  // Create or update\r\n  const createSubcategory = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // POST /api/categories/sub\r\n      const response = await axios.post(\r\n        'api/categories/sub',\r\n        formData,\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n        }\r\n      );\r\n      alert('Subcategory created successfully!');\r\n      navigate(-1); // go back or navigate to subcategory list\r\n    } catch (error) {\r\n      console.error(error.response?.data || error.message);\r\n      alert('Error creating subcategory');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateSubcategory = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // e.g. PUT /api/subcategories/:id\r\n      const response = await axios.put(\r\n        `api/subcategories/${id}`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n        }\r\n      );\r\n      alert('Subcategory updated successfully!');\r\n      navigate(-1);\r\n    } catch (error) {\r\n      console.error(error.response?.data || error.message);\r\n      alert('Error updating subcategory');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (id) {\r\n      updateSubcategory();\r\n    } else {\r\n      createSubcategory();\r\n    }\r\n  };\r\n\r\n  if (loading) return <LoadingScreen />;\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-screen\">\r\n      <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\r\n      <div className=\"flex flex-grow\">\r\n        <Sidebar isSidebarOpen={isSidebarOpen} />\r\n        <div\r\n          className={`flex-grow  flex flex-col p-4 md:p-6 bg-gray-100 transition-all duration-300 `}\r\n        >\r\n          <header className=\"flex flex-col items-center justify-between p-4 mb-2 bg-gray-100 rounded-md shadow md:flex-row\">\r\n            <div className=\"flex items-baseline gap-1 text-center sm:flex-row sm:text-left\">\r\n              <h1 className=\"text-lg font-semibold truncate sm:text-xl\">\r\n                {id ? 'Edit Subcategory' : 'Create Subcategory'}\r\n              </h1>\r\n              <span className=\"text-xs text-gray-600 sm:text-sm\">\r\n                {id\r\n                  ? 'Update an existing subcategory'\r\n                  : 'Add a new subcategory'}\r\n              </span>\r\n            </div>\r\n            <nav className=\"flex flex-wrap items-center justify-center mt-2 text-xs text-gray-500 sm:justify-start sm:text-sm sm:mt-0\">\r\n            <NavLink to=\"/dashboard\" className=\"flex items-center text-gray-700 no-underline\"><FaTachometerAlt /> Home </NavLink>\r\n              <BiChevronRight className=\"mx-1  sm:mx-2\" />\r\n              <span className=\"text-gray-700 no-underline\">\r\n                {id ? 'Edit Subcategory' : 'Create Subcategory'}\r\n              </span>\r\n            </nav>\r\n          </header>\r\n\r\n          <form\r\n            onSubmit={handleSubmit}\r\n            className=\"p-4 bg-white border-t-4 rounded shadow-md border-cyan-500\"\r\n          >\r\n            <h2 className=\"mb-3 text-lg font-medium text-gray-700\">\r\n              {id ? 'Update Subcategory' : 'Please Enter Valid Data'}\r\n            </h2>\r\n\r\n            <div className=\"mb-4\">\r\n              <label className=\"block font-semibold text-gray-700\">\r\n                Name <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                className=\"w-full p-2 mt-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-400 focus:outline-none\"\r\n                value={formData.name}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mb-4\">\r\n              <label className=\"block font-semibold text-gray-700\">\r\n                Description\r\n              </label>\r\n              <textarea\r\n                name=\"description\"\r\n                rows={3}\r\n                className=\"w-full p-2 mt-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-400 focus:outline-none\"\r\n                value={formData.description}\r\n                onChange={handleChange}\r\n              ></textarea>\r\n            </div>\r\n\r\n            <div className=\"mb-4\">\r\n              <label className=\"block font-semibold text-gray-700\">\r\n                Status\r\n              </label>\r\n              <select\r\n                name=\"status\"\r\n                className=\"w-full p-2 mt-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-400 focus:outline-none\"\r\n                value={formData.status}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"Active\">Active</option>\r\n                <option value=\"Inactive\">Inactive</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* categoryId is read-only or hidden if you want */}\r\n            <input type=\"hidden\" name=\"category\" value={formData.category} />\r\n\r\n            <div className=\"flex justify-center gap-4 mt-6\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"px-6 py-2 text-white bg-green-500 rounded hover:bg-green-600\"\r\n              >\r\n                {id ? 'Update' : 'Save'}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => navigate(-1)}\r\n                className=\"px-6 py-2 text-white bg-orange-500 rounded hover:bg-orange-600\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubCategoryForm;\r\n"],"names":["LoadingScreen","isSidebarOpen","setSidebarOpen","useState","_jsxs","className","children","_jsx","Navbar","Sidebar","SubCategoryForm","loading","setLoading","searchParams","useSearchParams","categoryId","get","id","navigate","useNavigate","formData","setFormData","name","description","category","status","useEffect","window","innerWidth","async","subcat","axios","headers","Authorization","localStorage","getItem","data","error","console","message","alert","fetchSubcategory","handleChange","e","value","target","prev","NavLink","to","FaTachometerAlt","BiChevronRight","onSubmit","preventDefault","put","_error$response2","response","updateSubcategory","post","_error$response","createSubcategory","type","onChange","required","rows","onClick"],"sourceRoot":""}