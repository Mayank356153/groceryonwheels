"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8492],{21830:(e,s,o)=>{o.d(s,{A:()=>t});var l=o(65043),a=o(70579);function t(e){let{id:s=" ",type:o="text",label_class:t="",label:r,className:n="",placeholder:d="",div_class:c="",...i}=e;const m=(0,l.useId)();return(0,a.jsxs)("div",{className:c,children:[" ",r?(0,a.jsx)("label",{className:t,htmlFor:" "===s?m:s,children:r}):null," ",(0,a.jsx)("input",{type:o,id:" "===s?m:s,placeholder:d,className:n,...i})]})}},23303:()=>{},38492:(e,s,o)=>{o.r(s),o.d(s,{default:()=>u});var l=o(65043),a=o(53888),t=o(21830),r=(o(23303),o(86213)),n=o(21197),d=o(59255),c=o(60184),i=o(66727),m=o(70579);function u(){const[e,s]=(0,l.useState)(!0);(0,l.useEffect)((()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((async e=>{const{latitude:s,longitude:o}=e.coords;try{const e=await fetch("api/get-location",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({latitude:s,longitude:o})}),l=await e.json();u((e=>({...e,state:l.state,country:l.country})))}catch(l){console.error("Location fetch error:",l)}}),(e=>{console.error("Geolocation denied or failed:",e)})):alert("Geolocation is not supported by this browser.")}),[]);const[o,u]=(0,l.useState)({type:"Online"}),b=e=>{const{name:s,value:l}=e.target;u({...o,[s]:"Number"==e.target.type?Number(l):l})};return(0,m.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,m.jsx)(n.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,m.jsxs)("div",{className:"box-border flex",children:[(0,m.jsx)("div",{className:"w-auto",children:(0,m.jsx)(d.A,{isSidebarOpen:e})}),(0,m.jsxs)("div",{className:"w-full h-full px-6 py-4 overflow-x-auto bg-gray-300",children:[(0,m.jsxs)("div",{className:"flex flex-col items-end justify-between md:flex-row",children:[(0,m.jsxs)("div",{className:"flex items-end w-full gap-2 md:w-1/2",children:[(0,m.jsx)("span",{className:"text-3xl ",children:"Customers"}),(0,m.jsx)("span",{className:"text-sm text-gray-700",children:"Enter User Information"})]}),(0,m.jsxs)("div",{className:"flex w-full gap-2 pl-2 mb-2 text-sm font-semibold text-black bg-gray-500 bg-opacity-50 rounded-md md:text-gray-500 md:justify-end md:w-1/2 md:bg-transparent",children:[(0,m.jsxs)(i.k2,{to:"/dashboard",className:"flex items-center text-gray-700 no-underline",children:[(0,m.jsx)(c.$BV,{}),"Home "]}),(0,m.jsx)("span",{children:">"}),(0,m.jsx)(i.k2,{to:"/customer/view",className:"text-gray-700 no-underline",children:"View Users"}),(0,m.jsx)("span",{children:">"}),(0,m.jsx)(i.k2,{to:"/customer/add",className:"text-gray-700 no-underline",children:"Customers"})]})]}),(0,m.jsx)("div",{className:"p-6 mx-auto bg-white rounded-lg shadow-md ",children:(0,m.jsx)("div",{className:"p-6 mx-auto bg-white b",children:(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),console.log(o),await(async()=>{try{console.log("Sending FormData:",o);const e=await r.A.post("api/customer/add",o);console.log("Response:",e.data),alert(" Added Successfully")}catch(a){var e,s,l;console.error("Error:",(null===(e=a.response)||void 0===e?void 0:e.data)||a.message),alert("Unsuccessful: "+((null===(s=a.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||a.message))}})()},onReset:()=>{u({address:{city:"",state:"",postcode:"",locationLink:"",area:"",country:""},attachmentPath:"",creditLimit:0,customerImage:"",customerName:"",customerId:"",email:"",gstNumber:"",mobile:"",openingBalancePayments:[],panNumber:"",phone:"",previousDue:0,priceLevel:0,priceLevelType:"",salesReturnDue:0,shippingAddress:{area:"",city:"",locationLink:"",postcode:"",state:""},taxNumber:""})},children:[(0,m.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,m.jsx)(t.A,{label:"Customer Name",name:"customerName",value:o.customerName||"",onChange:b,className:"block w-full p-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-2 focus:border-blue-600",label_class:"block text-sm font-medium text-gray-700",div_class:"flex flex-col"}),(0,m.jsx)(t.A,{label:"Mobile",name:"mobile",value:o.mobile||"",onChange:b,className:"block w-full p-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-2 focus:border-blue-600",label_class:"block text-sm font-medium text-gray-700",div_class:"flex flex-col"}),(0,m.jsx)(t.A,{label:"State",name:"state",value:o.state||"",onChange:b,className:"block w-full p-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-2 focus:border-blue-600",label_class:"block text-sm font-medium text-gray-700",div_class:"flex flex-col"}),(0,m.jsx)(t.A,{label:"Country",name:"country",value:o.country||"",onChange:b,className:"block w-full p-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-2 focus:border-blue-600",label_class:"block text-sm font-medium text-gray-700",div_class:"flex flex-col"}),(0,m.jsx)(t.A,{label:"Sector",name:"sector",value:o.sector,onChange:b,className:"block w-full p-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-2 focus:border-blue-600",label_class:"block text-sm font-medium text-gray-700",div_class:"flex flex-col"}),(0,m.jsx)(t.A,{label:"House No.",name:"houseNo",value:o.houseNo,onChange:b,className:"block w-full p-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-2 focus:border-blue-600",label_class:"block text-sm font-medium text-gray-700",div_class:"flex flex-col"}),(0,m.jsx)(t.A,{label:"Address",name:"address",value:o.address,onChange:b,className:"block w-full p-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-2 focus:border-blue-600",label_class:"block text-sm font-medium text-gray-700",div_class:"flex flex-col"}),(0,m.jsx)(t.A,{label:"Location Link",name:"locationLink",value:o.locationLink,onChange:b,className:"block w-full p-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-2 focus:border-blue-600",label_class:"block text-sm font-medium text-gray-700",div_class:"flex flex-col"}),(0,m.jsxs)("div",{children:[(0,m.jsx)(t.A,{type:"file",label:"Attachment",onChange:e=>{u({...o,attachment:e.target.files[0].name})},className:"w-full p-2 mt-1 text-gray-700 bg-gray-200 border rounded-md shadow-sm cursor-pointer hover:bg-gray-300",label_class:"block text-sm font-medium text-gray-700"}),(0,m.jsx)("p",{className:"text-xs text-red-500",children:"Size: 2MB"})]})]}),(0,m.jsxs)("div",{className:"flex flex-col justify-center gap-2 mt-6 mb-2 md:flex-row md:gap-5",children:[(0,m.jsx)(a.A,{className:"px-20 py-2 text-white bg-green-500 rounded hover:bg-green-600",type:"submit",text:"Next"}),(0,m.jsx)(a.A,{className:"px-20 py-2 text-white bg-orange-500 rounded hover:bg-orange-600",text:"Close",type:"reset"})]})]})})})]})]})]})}},53888:(e,s,o)=>{o.d(s,{A:()=>a});o(65043);var l=o(70579);function a(e){let{text:s,type:o="button",className:a,...t}=e;return(0,l.jsx)("button",{className:`${a}`,...t,children:s})}}}]);
//# sourceMappingURL=8492.109c59e6.chunk.js.map