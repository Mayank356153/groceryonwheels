{"version":3,"file":"static/js/7339.482901f1.chunk.js","mappings":"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","sources":["components/User/RoleList.jsx","Loading.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport { jsPDF } from \"jspdf\";\r\nimport autoTable from 'jspdf-autotable';\r\nimport * as XLSX from 'xlsx';\r\nimport { BiChevronRight } from 'react-icons/bi';\r\nimport { FaTachometerAlt } from 'react-icons/fa';\r\nimport Navbar from \"../Navbar.jsx\";\r\nimport Sidebar from \"../Sidebar.jsx\";\r\nimport { Link, useNavigate, NavLink } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport LoadingScreen from '../../Loading.jsx';\r\n\r\nconst RoleList = () => {\r\n  const navigate = useNavigate();\r\n  const [entries, setEntries] = useState(10);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [isSidebarOpen, setSidebarOpen] = useState(true);\r\n  const [status, setStatus] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [showActions, setShowActions] = useState(null);\r\n  const dropdownRef = useRef(null);\r\n  const buttonRef = useRef({});\r\n\r\n  useEffect(() => {\r\n    if (window.innerWidth < 768) {\r\n      setSidebarOpen(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (showActions && dropdownRef.current && buttonRef.current[showActions]) {\r\n      const dropdown = dropdownRef.current;\r\n      const button = buttonRef.current[showActions];\r\n      const buttonRect = button.getBoundingClientRect();\r\n      const dropdownRect = dropdown.getBoundingClientRect();\r\n      const windowHeight = window.innerHeight;\r\n      const windowWidth = window.innerWidth;\r\n\r\n      // Position dropdown fixed, to the right and slightly below\r\n      const offsetBelow = 5; // Slight downward offset\r\n      const offsetRight = 5; // Space from button\r\n      let topPosition = buttonRect.bottom + window.scrollY + offsetBelow;\r\n      let leftPosition = buttonRect.right + window.scrollX + offsetRight;\r\n\r\n      // Prevent dropdown from overflowing bottom\r\n      if (topPosition + dropdownRect.height > window.scrollY + windowHeight) {\r\n        topPosition = buttonRect.top + window.scrollY - dropdownRect.height - 5;\r\n      }\r\n      // Prevent dropdown from overflowing top\r\n      if (topPosition < window.scrollY) {\r\n        topPosition = buttonRect.bottom + window.scrollY + offsetBelow;\r\n      }\r\n      // Prevent dropdown from overflowing right\r\n      if (leftPosition + dropdownRect.width > windowWidth + window.scrollX) {\r\n        leftPosition = buttonRect.left + window.scrollX - dropdownRect.width - 5;\r\n      }\r\n\r\n      dropdown.style.position = 'fixed';\r\n      dropdown.style.top = `${topPosition}px`;\r\n      dropdown.style.left = `${leftPosition}px`;\r\n      dropdown.style.right = 'auto';\r\n      dropdown.style.bottom = 'auto';\r\n    }\r\n  }, [showActions]);\r\n\r\n  const fetchRoles = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      console.error(\"No token found. Redirecting to login...\");\r\n      navigate(\"/\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(\r\n        \"/admincreatingrole/api/roles\",\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      console.log(\"API Response:\", response.data);\r\n      setExpenses(response.data.roles);\r\n    } catch (error) {\r\n      console.error(\"Error fetching roles:\", error.response?.data || error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchRoles();\r\n  }, []);\r\n\r\n  const filteredData = expenses.filter(item => {\r\n    const searchTermLower = searchTerm.toLowerCase().trim();\r\n    const userNameMatch = item.roleName?.toLowerCase().includes(searchTermLower) ?? false;\r\n    return searchTermLower === \"\" || userNameMatch;\r\n  });\r\n\r\n  const totalPages = Math.ceil(filteredData.length / entries);\r\n\r\n  const handleCopy = () => {\r\n    const data = filteredData.map(exp => `${exp.roleName}, ${exp.description}, ${status.find((item) => item === exp._id) ? 'Active' : 'InActive'}`).join('\\n');\r\n    navigator.clipboard.writeText(data);\r\n    alert(\"Data copied to clipboard!\");\r\n  };\r\n\r\n  const handleExcelDownload = () => {\r\n    const ws = XLSX.utils.json_to_sheet(filteredData);\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, \"roles\");\r\n    XLSX.writeFile(wb, \"roleslist.xlsx\");\r\n  };\r\n\r\n  const handlePdfDownload = () => {\r\n    const doc = new jsPDF();\r\n    doc.text(\"Roles List\", 20, 20);\r\n    const tableData = filteredData.map(exp => [exp.roleName, exp.description, status.find((item) => item === exp._id) ? 'InActive' : 'Active']);\r\n    autoTable(doc, {\r\n      head: [['Role Name', 'Description', 'Status']],\r\n      body: tableData,\r\n    });\r\n    doc.save('roles.pdf');\r\n  };\r\n\r\n  const handlePrint = () => {\r\n    window.print();\r\n  };\r\n\r\n  const handleCsvDownload = () => {\r\n    const csvContent = \"data:text/csv;charset=utf-8,\" + filteredData.map(exp => Object.values(exp).join(\",\")).join(\"\\n\");\r\n    const encodedUri = encodeURI(csvContent);\r\n    const link = document.createElement(\"a\");\r\n    link.setAttribute(\"href\", encodedUri);\r\n    link.setAttribute(\"download\", \"roleList.csv\");\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  const handleDeleteClick = async (id) => {\r\n    const conf = window.confirm(\"Do you want to delete?\");\r\n    if (!conf) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.delete(`/admincreatingrole/${id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      });\r\n      alert(\"Deleted Successfully\");\r\n      fetchRoles();\r\n    } catch (error) {\r\n      console.error(error.message);\r\n      alert(\"Unable to delete\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const toggleShowActions = (id) => {\r\n    setShowActions(showActions === id ? null : id);\r\n  };\r\n\r\n  if (loading) return (<LoadingScreen />);\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-screen\">\r\n      <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\r\n      <div className=\"flex flex-grow\">\r\n        <Sidebar isSidebarOpen={isSidebarOpen} />\r\n        <main className={`flex-grow flex flex-col p-2 md:p-2 min-h-screen overflow-x-hidden`}>\r\n          <header className=\"flex items-center justify-between p-4 mb-2 bg-gray-100 rounded-md shadow sm:flex-row\">\r\n            <div className=\"flex flex-col items-center gap-1 text-center sm:flex-row sm:text-left\">\r\n              <h1 className=\"text-lg font-semibold truncate sm:text-xl\">Roles List</h1>\r\n              <span className=\"text-xs text-gray-600 sm:text-sm\">View/Search Items Category</span>\r\n            </div>\r\n            <nav className=\"flex items-center justify-start text-xs text-gray-500 sm:text-sm\">\r\n              <NavLink to=\"/dashboard\" className=\"flex items-center text-gray-700 no-underline hover:text-cyan-600\">\r\n                <FaTachometerAlt className=\"mr-2 text-gray-500 hover:text-cyan-600\" /> Home\r\n              </NavLink>\r\n              <BiChevronRight className=\"inline mx-1 sm:mx-2\" />\r\n              <a href=\"#\" className=\"text-gray-700 no-underline hover:text-cyan-600\">Roles List</a>\r\n            </nav>\r\n          </header>\r\n          <section className=\"p-1 bg-white border-t-4 rounded-lg shadow-md border-cyan-500\">\r\n            <header className=\"flex items-center justify-between mb-4\">\r\n              <div></div>\r\n              <Link to='/admin/create/list'>\r\n                <button className=\"px-4 py-2 mt-2 text-white rounded bg-cyan-500\">+ Create Role</button>\r\n              </Link>\r\n            </header>\r\n            <div className=\"flex flex-col justify-between mb-2 space-y-1 md:flex-row md:space-y-0 md:items-center\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-sm\">Show</span>\r\n                <select className=\"p-2 text-sm border border-gray-300\" value={entries} onChange={(e) => setEntries(Number(e.target.value))}>\r\n                  <option>10</option>\r\n                  <option>20</option>\r\n                  <option>50</option>\r\n                </select>\r\n                <span className=\"text-sm\">Entries</span>\r\n              </div>\r\n              <div className=\"flex justify-end flex-1 gap-1 mt-2 mb-2\">\r\n                <button onClick={handleCopy} className=\"w-full px-3 py-2 text-sm text-white bg-cyan-500 lg:w-auto\">Copy</button>\r\n                <button onClick={handleExcelDownload} className=\"w-full px-3 py-2 text-sm text-white bg-cyan-500 lg:w-auto\">Excel</button>\r\n                <button onClick={handlePdfDownload} className=\"w-full px-3 py-2 text-sm text-white bg-cyan-500 lg:w-auto\">PDF</button>\r\n                <button onClick={handlePrint} className=\"w-full px-3 py-2 text-sm text-white bg-cyan-500 lg:w-auto\">Print</button>\r\n                <button onClick={handleCsvDownload} className=\"w-full px-3 py-2 text-sm text-white bg-cyan-500 lg:w-auto\">CSV</button>\r\n                <input type=\"text\" placeholder=\"Search\" className=\"w-full p-2 text-sm border border-gray-300\" onChange={(e) => setSearchTerm(e.target.value)} />\r\n              </div>\r\n            </div>\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full bg-white border border-gray-300\">\r\n                <thead className=\"bg-gray-200\">\r\n                  <tr>\r\n                    <th className=\"px-3 py-2 text-sm text-center border\">#</th>\r\n                    <th className=\"px-3 py-2 text-sm text-center border\">Role Name</th>\r\n                    <th className=\"px-3 py-2 text-sm text-center border\">Description</th>\r\n                    <th className=\"px-3 py-2 text-sm text-center border\">Status</th>\r\n                    <th className=\"py-2 text-sm text-center border\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filteredData.length === 0 ? (\r\n                    <tr>\r\n                      <td colSpan=\"5\" className=\"py-4 text-center\">No data available in table</td>\r\n                    </tr>\r\n                  ) : (\r\n                    filteredData.slice((currentPage - 1) * entries, currentPage * entries).map((expense, index) => (\r\n                      <tr key={expense._id} className=\"hover:bg-gray-100\">\r\n                        <td className=\"text-sm text-center border\">{index + 1}</td>\r\n                        <td className=\"text-sm text-center border\">{expense.roleName}</td>\r\n                        <td className=\"text-sm text-center border\">{expense.description}</td>\r\n                        <td\r\n                          className=\"text-center border cursor-pointer sm:px-4 sm:py-2\"\r\n                          onClick={() =>\r\n                            setStatus((prev) =>\r\n                              prev.includes(expense._id)\r\n                                ? prev.filter((id) => id !== expense._id)\r\n                                : [...prev, expense._id]\r\n                            )\r\n                          }\r\n                        >\r\n                          {status.includes(expense._id) ? (\r\n                            <span className=\"p-1 text-white bg-red-700 rounded-md\">Inactive</span>\r\n                          ) : (\r\n                            <span className=\"p-1 text-white bg-green-400 rounded-md\">Active</span>\r\n                          )}\r\n                        </td>\r\n                        <td className=\"relative flex items-center justify-center py-2 text-sm text-center border\">\r\n                          <button\r\n                            ref={(el) => (buttonRef.current[expense._id] = el)}\r\n                            className=\"flex items-center gap-1 px-4 py-2 text-sm font-medium text-white transition-all duration-200 ease-in-out rounded-full shadow bg-cyan-600 hover:bg-cyan-700 active:scale-95 focus:outline-none focus:ring-2 focus:ring-cyan-400\"\r\n                            onClick={() => toggleShowActions(expense._id)}\r\n                          >\r\n                            Actions\r\n                            <svg\r\n                              className={`w-4 h-4 transition-transform duration-200 ${\r\n                                showActions === expense._id ? \"rotate-180\" : \"\"\r\n                              }`}\r\n                              fill=\"none\"\r\n                              stroke=\"currentColor\"\r\n                              strokeWidth={2}\r\n                              viewBox=\"0 0 24 24\"\r\n                            >\r\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 9l-7 7-7-7\" />\r\n                            </svg>\r\n                          </button>\r\n                          {showActions === expense._id && (\r\n                            <div\r\n                              ref={dropdownRef}\r\n                              className=\"z-50 w-32 bg-white border border-gray-200 rounded-md shadow-md animate-dropdown-open\"\r\n                              style={{ minWidth: '120px', maxHeight: '200px', overflowY: 'auto' }}\r\n                            >\r\n                              <Link\r\n                                to={`/admin/create/list?id=${expense._id}`}\r\n                                className=\"block px-4 py-2 text-sm text-left text-gray-700 no-underline transition-colors hover:bg-gray-100 flex items-center gap-2\"\r\n                              >\r\n                                ‚úèÔ∏è Edit\r\n                              </Link>\r\n                              <button\r\n                                onClick={() => handleDeleteClick(expense._id)}\r\n                                className=\"w-full px-4 py-2 text-sm text-left text-red-600 transition-colors hover:bg-gray-100 flex items-center gap-2\"\r\n                              >\r\n                                üóëÔ∏è Delete\r\n                              </button>\r\n                            </div>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"flex flex-col items-center justify-between mt-4 md:flex-row\">\r\n              <span>Showing {entries * (currentPage - 1) + 1} to {Math.min(entries * currentPage, filteredData.length)} of {filteredData.length} entries</span>\r\n              <div>\r\n                <button\r\n                  onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                  className=\"px-4 py-2 mr-2 text-gray-600 bg-gray-300 disabled:opacity-50\"\r\n                  disabled={currentPage === 1}\r\n                >\r\n                  Previous\r\n                </button>\r\n                <button\r\n                  onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\r\n                  className=\"px-4 py-2 text-gray-600 bg-gray-300 disabled:opacity-50\"\r\n                  disabled={currentPage === totalPages}\r\n                >\r\n                  Next\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </main>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        @keyframes dropdown-open {\r\n          from {\r\n            opacity: 0;\r\n            transform: scale(0.95);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: scale(1);\r\n          }\r\n        }\r\n        .animate-dropdown-open {\r\n          animation: dropdown-open 0.2s ease-in-out forwards;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoleList;","import React, { useState } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nexport default function LoadingScreen() {\n    const[isSidebarOpen,setSidebarOpen]=useState(false)\n    return (\n        <div className='flex flex-col h-screen'>\n        {/* Navbar component with sidebar open state */}\n        <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\n        <div className='flex flex-grow mt-20'>\n          <div>\n            {/* Sidebar component with open state */}\n            <Sidebar isSidebarOpen={isSidebarOpen} />\n          </div>\n  \n          {/* Container for the entire component */}\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm\">\n          <div className=\"flex flex-col items-center\">\n            <div className=\"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin\"></div>\n            <p className=\"mt-3 text-lg font-semibold text-gray-700\">Loading...</p>\n          </div>\n        </div>\n          \n        </div>\n      </div>\n    );\n  }\n  "],"names":["RoleList","navigate","useNavigate","entries","setEntries","useState","currentPage","setCurrentPage","isSidebarOpen","setSidebarOpen","status","setStatus","loading","setLoading","expenses","setExpenses","searchTerm","setSearchTerm","showActions","setShowActions","dropdownRef","useRef","buttonRef","useEffect","window","innerWidth","current","dropdown","buttonRect","getBoundingClientRect","dropdownRect","windowHeight","innerHeight","windowWidth","offsetBelow","offsetRight","topPosition","bottom","scrollY","leftPosition","right","scrollX","height","top","width","left","style","position","fetchRoles","async","token","localStorage","getItem","console","error","response","axios","get","headers","Authorization","log","data","roles","_error$response","message","filteredData","filter","item","_item$roleName$toLowe","_item$roleName","searchTermLower","toLowerCase","trim","userNameMatch","roleName","includes","totalPages","Math","ceil","length","_jsx","LoadingScreen","_jsxs","className","children","Navbar","Sidebar","NavLink","to","FaTachometerAlt","BiChevronRight","href","Link","value","onChange","e","Number","target","onClick","handleCopy","map","exp","description","find","_id","join","navigator","clipboard","writeText","alert","handleExcelDownload","ws","XLSX","json_to_sheet","wb","book_new","book_append_sheet","handlePdfDownload","doc","jsPDF","text","tableData","autoTable","head","body","save","handlePrint","print","handleCsvDownload","csvContent","Object","values","encodedUri","encodeURI","link","document","createElement","setAttribute","appendChild","click","removeChild","type","placeholder","colSpan","slice","expense","index","prev","id","ref","el","toggleShowActions","fill","stroke","strokeWidth","viewBox","strokeLinecap","strokeLinejoin","d","minWidth","maxHeight","overflowY","confirm","delete","handleDeleteClick","min","max","disabled","jsx"],"sourceRoot":""}