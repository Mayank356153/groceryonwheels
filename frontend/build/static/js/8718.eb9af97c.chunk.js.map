{"version":3,"file":"static/js/8718.eb9af97c.chunk.js","mappings":"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","sources":["Loading.jsx","../node_modules/@heroicons/react/outline/esm/ShoppingBagIcon.js","../node_modules/@heroicons/react/outline/esm/CashIcon.js","components/Sales/SalesList.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nexport default function LoadingScreen() {\n    const[isSidebarOpen,setSidebarOpen]=useState(false)\n    return (\n        <div className='flex flex-col h-screen'>\n        {/* Navbar component with sidebar open state */}\n        <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\n        <div className='flex flex-grow mt-20'>\n          <div>\n            {/* Sidebar component with open state */}\n            <Sidebar isSidebarOpen={isSidebarOpen} />\n          </div>\n  \n          {/* Container for the entire component */}\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm\">\n          <div className=\"flex flex-col items-center\">\n            <div className=\"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin\"></div>\n            <p className=\"mt-3 text-lg font-semibold text-gray-700\">Loading...</p>\n          </div>\n        </div>\n          \n        </div>\n      </div>\n    );\n  }\n  ","import * as React from \"react\";\n\nfunction ShoppingBagIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(ShoppingBagIcon);\nexport default ForwardRef;","import * as React from \"react\";\n\nfunction CashIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(CashIcon);\nexport default ForwardRef;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { ShoppingBagIcon, CashIcon } from \"@heroicons/react/outline\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMoneyBill, faBuilding } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FaDollarSign, FaTachometerAlt } from 'react-icons/fa';\r\nimport { BiChevronRight } from 'react-icons/bi';\r\nimport { Link, useNavigate, NavLink } from 'react-router-dom';\r\nimport Navbar from \"../Navbar.jsx\";\r\nimport Sidebar from \"../Sidebar.jsx\";\r\nimport autoTable from 'jspdf-autotable';\r\nimport * as XLSX from 'xlsx';\r\nimport { jsPDF } from \"jspdf\";\r\nimport Select from 'react-select';\r\nimport axios from 'axios';\r\nimport LoadingScreen from \"../../Loading\";\r\n\r\nconst PurchaseOverview = () => {\r\n  const navigate = useNavigate();\r\n  const [warehouses, setWarehouses] = useState([]);\r\n  const [warehouse, setWarehouse] = useState(\"all\");\r\n  const [startDate, setStartDate] = useState(\"\");\r\n  const [endDate, setEndDate] = useState(\"\");\r\n  const [isSidebarOpen, setSidebarOpen] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [entriesPerPage, setEntriesPerPage] = useState(10);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [salesList, setSalesList] = useState([]);\r\n  const [grandTotal, setGrandTotal] = useState(0);\r\n  const [paidPayment, setPaidPayment] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [actionMenu, setActionMenu] = useState(null);\r\n  const [paymentTypes, setPaymentTypes] = useState([]);\r\n  const [editPaymentModal, setEditPaymentModal] = useState(false);\r\n  const [selectedInvoice, setSelectedInvoice] = useState(null);\r\n  const [newPaymentType, setNewPaymentType] = useState(null);\r\n  const [cashSalesTotal, setCashSalesTotal] = useState(0);\r\n  const [bankSalesTotal, setBankSalesTotal] = useState(0);\r\n  const dropdownRef = useRef(null);\r\n  const buttonRef = useRef({});\r\n\r\n  const today = new Date().toISOString().slice(0, 10);\r\n\r\n  useEffect(() => {\r\n    if (actionMenu && dropdownRef.current && buttonRef.current[actionMenu]) {\r\n      const dropdown = dropdownRef.current;\r\n      const button = buttonRef.current[actionMenu];\r\n      const buttonRect = button.getBoundingClientRect();\r\n      const dropdownRect = dropdown.getBoundingClientRect();\r\n      const windowHeight = window.innerHeight;\r\n      const windowWidth = window.innerWidth;\r\n\r\n      // Position dropdown fixed, to the left and slightly above\r\n      const offsetAbove = 10; // Slight upward offset\r\n      const offsetLeft = buttonRect.width + 5; // Space from button\r\n      let topPosition = buttonRect.top + window.scrollY - offsetAbove;\r\n      let leftPosition = buttonRect.left + window.scrollX - dropdownRect.width - offsetLeft;\r\n\r\n      // Prevent dropdown from overflowing top\r\n      if (topPosition < window.scrollY) {\r\n        topPosition = buttonRect.bottom + window.scrollY + 5;\r\n      }\r\n      // Prevent dropdown from overflowing bottom\r\n      if (topPosition + dropdownRect.height > window.scrollY + windowHeight) {\r\n        topPosition = buttonRect.top + window.scrollY - dropdownRect.height - offsetAbove;\r\n      }\r\n      // Prevent dropdown from overflowing left\r\n      if (leftPosition < 0) {\r\n        leftPosition = buttonRect.right + window.scrollX + 5;\r\n      }\r\n\r\n      dropdown.style.position = 'fixed';\r\n      dropdown.style.top = `${topPosition}px`;\r\n      dropdown.style.left = `${leftPosition}px`;\r\n      dropdown.style.right = 'auto';\r\n      dropdown.style.bottom = 'auto';\r\n    }\r\n  }, [actionMenu]);\r\n\r\n  const fetchPaymentTypes = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      console.log(\"No token found for payment types\");\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axios.get(\"api/payment-types\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      if (response.data.data) {\r\n        const formattedPaymentTypes = response.data.data.map(pt => ({\r\n          label: pt.paymentTypeName,\r\n          value: pt._id,\r\n        }));\r\n        setPaymentTypes(formattedPaymentTypes);\r\n        console.log(\"Fetched payment types:\", formattedPaymentTypes);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching payment types:\", error.message);\r\n      alert(`Failed to load payment types: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleViewSales = (inv) => {\r\n    navigate(`/view-sale?id=${inv._id}&source=${inv.source}`);\r\n  };\r\n\r\n  const handleEdit = (inv) => {\r\n    const created = new Date(inv.saleDate);\r\n    const now = new Date();\r\n    const diffDays = (now - created) / (1000*60*60*24);\r\n    if (diffDays > 2) {\r\n      return alert(\"You can only edit invoices up to 7 days old.\");\r\n    }\r\n    if (inv.source === \"Sale\") {\r\n      navigate(`/add-sale?id=${inv._id}`);\r\n    } else {\r\n      navigate(`/pos?id=${inv._id}`);\r\n    }\r\n  };\r\n\r\n  const handleEditPaymentType = (inv) => {\r\n    const saleDate = new Date(inv.saleDate).toISOString().slice(0, 10);\r\n    if (saleDate !== today) {\r\n      alert(\"Editing payment type is only allowed for invoices from today.\");\r\n      return;\r\n    }\r\n    setSelectedInvoice(inv);\r\n    setNewPaymentType(null);\r\n    setEditPaymentModal(true);\r\n  };\r\n\r\n  const savePaymentType = async () => {\r\n    if (!newPaymentType) {\r\n      alert(\"Please select a payment type.\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const endpoint = selectedInvoice.source === \"Sale\"\r\n        ? `api/sales/${selectedInvoice._id}/paymentType`\r\n        : `api/pos/${selectedInvoice._id}/paymentType`;\r\n      await axios.put(endpoint, { paymentType: newPaymentType.value }, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      alert(\"Payment type updated successfully!\");\r\n      setEditPaymentModal(false);\r\n      setSelectedInvoice(null);\r\n      setNewPaymentType(null);\r\n      await fetchInvoices();\r\n    } catch (error) {\r\n      console.error(\"Error updating payment type:\", error.message);\r\n      alert(`Failed to update payment type: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleViewPayments = (inv) => {\r\n    navigate(`/view-payment?saleId=${inv._id}`);\r\n  };\r\n\r\n  const handleReceivePayment = (inv) => {\r\n    navigate(`/receive-payment?invoice=${inv.saleCode}`);\r\n  };\r\n\r\n  const handleDownloadPDF = async (inv) => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) {\r\n        alert(\"No token found, please log in\");\r\n        navigate('/login');\r\n        return;\r\n      }\r\n\r\n      const endpoint = inv.source === \"Sale\" \r\n        ? `api/sales/${inv._id}` \r\n        : `api/pos/${inv._id}`;\r\n      const { data } = await axios.get(endpoint, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      const paymentsResponse = await axios.get(`api/payments/${inv._id}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      const payments = paymentsResponse.data.payments || [];\r\n\r\n      generateInvoicePDF(data, payments, inv.source);\r\n    } catch (error) {\r\n      console.error(\"Error generating PDF:\", error);\r\n      alert(`Failed to generate PDF: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateInvoicePDF = (invoice, payments, source) => {\r\n    const doc = new jsPDF();\r\n\r\n    doc.setFontSize(20);\r\n    doc.text(\"Invoice\", 14, 20);\r\n    doc.setFontSize(12);\r\n    doc.text(`Invoice #: ${invoice.saleCode || 'N/A'}`, 14, 5);\r\n    doc.text(`Date: ${new Date(invoice.saleDate).toLocaleDateString()}`, 14, 10);\r\n    doc.text(`Source: ${source}`, 14, 15);\r\n\r\n    doc.setFontSize(14);\r\n    doc.text(\"Customer Information\", 14, 25);\r\n    doc.setFontSize(12);\r\n    doc.text(`Name: ${invoice.customer?.customerName || 'N/A'}`, 14, 35);\r\n    doc.text(`Mobile: ${invoice.customer?.mobile || 'N/A'}`, 14, 40);\r\n    const addrObj = invoice.customer?.address || {};\r\n    const addrStr = [\r\n      addrObj.street,\r\n      addrObj.city,\r\n      addrObj.state,\r\n      addrObj.zip,\r\n      addrObj.country\r\n    ].filter(part => part).join(', ');\r\n    doc.text(`Address: ${addrStr || 'N/A'}`, 14, 45);\r\n\r\n    doc.setFontSize(14);\r\n    doc.text(\"Items\", 14, 55);\r\n    const items = invoice.items || [];\r\n    const itemRows = items.map(item => [\r\n      item.item?.itemName || 'N/A',\r\n      item.quantity || 0,\r\n      `Rs. ${(item.unitPrice || item.price || 0).toFixed(2)}`,\r\n      `Rs. ${(item.discount || 0).toFixed(2)}`,\r\n      `Rs. ${(item.subtotal || ((item.unitPrice || item.price || 0) * (item.quantity || 0) - (item.discount || 0))).toFixed(2)}`,\r\n    ]);\r\n\r\n    autoTable(doc, {\r\n      startY: 60,\r\n      head: [['Item Name', 'Quantity', 'Unit Price', 'Discount', 'Subtotal']],\r\n      body: itemRows,\r\n      theme: 'striped',\r\n      styles: { fontSize: 10 },\r\n      headStyles: { fillColor: [0, 123, 255] },\r\n    });\r\n\r\n    let finalY = doc.lastAutoTable.finalY || 60;\r\n    doc.setFontSize(12);\r\n    doc.text(`Subtotal: Rs. ${(invoice.subtotal || invoice.totalAmount || 0).toFixed(2)}`, 14, finalY + 5);\r\n    if (invoice.discountOnBill || invoice.totalDiscount) {\r\n      doc.text(`Discount: Rs. ${(invoice.discountOnBill || invoice.totalDiscount || 0).toFixed(2)}`, 14, finalY + 10);\r\n    }\r\n    doc.text(`Grand Total: Rs. ${(invoice.grandTotal || invoice.totalAmount || 0).toFixed(2)}`, 14, finalY + 15);\r\n\r\n    if (payments.length > 0) {\r\n      finalY = finalY + 20;\r\n      doc.setFontSize(14);\r\n      doc.text(\"Payments\", 14, finalY);\r\n      const paymentRows = payments.map(payment => [\r\n        new Date(payment.paymentDate).toLocaleDateString(),\r\n        payment.paymentType?.paymentTypeName || 'N/A',\r\n        `Rs. ${(payment.amount || payment.paymentAmount || 0).toFixed(2)}`,\r\n        payment.paymentNote || '-',\r\n      ]);\r\n\r\n      autoTable(doc, {\r\n        startY: finalY + 5,\r\n        head: [['Date', 'Payment Type', 'Amount', 'Note']],\r\n        body: paymentRows,\r\n        theme: 'striped',\r\n        styles: { fontSize: 10 },\r\n        headStyles: { fillColor: [0, 123, 255] },\r\n      });\r\n\r\n      finalY = doc.lastAutoTable.finalY;\r\n      const totalPaid = payments.reduce((sum, p) => sum + (p.amount || p.paymentAmount || 0), 0);\r\n      doc.setFontSize(12);\r\n      doc.text(`Total Paid: Rs. ${totalPaid.toFixed(2)}`, 14, finalY + 5);\r\n      const dueAmount = (invoice.grandTotal || invoice.totalAmount || 0) - totalPaid;\r\n      doc.text(`Due Amount: Rs. ${dueAmount.toFixed(2)}`, 14, finalY + 10);\r\n    }\r\n\r\n    finalY = payments.length > 0 ? finalY + 15 : finalY + 20;\r\n    doc.setFontSize(10);\r\n    doc.setTextColor(150);\r\n    doc.text(\"Thank you for your business!\", 14, finalY + 5);\r\n    doc.text(\"Generated by Grocery on Wheels\", 14, finalY + 10);\r\n\r\n    const pdfBlob = doc.output('blob');\r\n    const pdfUrl = URL.createObjectURL(pdfBlob);\r\n    window.open(pdfUrl, '_blank');\r\n  };\r\n\r\n  const handlePOSInvoice = (inv) => {\r\n    navigate(`/pos-invoice/${inv._id}`);\r\n  };\r\n\r\n  const handleSalesReturn = (inv) => {\r\n    navigate(`/sales-return?saleId=${inv._id}`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (window.innerWidth < 768) {\r\n      setSidebarOpen(false);\r\n    }\r\n  }, []);\r\n\r\n  const fetchWarehouses = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      console.log(\"No token found redirecting...\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(\"api/warehouses\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      if (response.data.data) {\r\n        const newwarehouse = [\r\n          { label: \"All\", value: \"all\" },\r\n          ...response.data.data.map(warehouse => ({\r\n            label: warehouse.warehouseName,\r\n            value: warehouse._id,\r\n          }))\r\n        ];\r\n        setWarehouses(newwarehouse);\r\n      }\r\n    } catch (error) {\r\n      alert(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchInvoices = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      console.log(\"No token found redirecting...\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await axios.get(\r\n        \"api/pos/invoices\",\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setSalesList(data);\r\n    } catch (err) {\r\n      alert(`Could not load invoices: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id, source) => {\r\n    const conf = window.confirm(\"Do you want to delete this sale?\");\r\n    if (!conf) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const endpoint = source === \"POS\" ? `api/pos/${id}` : `api/sales/${id}`;\r\n      await axios.delete(endpoint, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n      alert(\"Deleted Successfully\");\r\n    } catch (error) {\r\n      console.error(error.message);\r\n      alert(`Error deleting: ${error.message}`);\r\n    } finally {\r\n      fetchInvoices();\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchWarehouses();\r\n    fetchInvoices();\r\n    fetchPaymentTypes();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let cash = 0, bank = 0;\r\n    salesList.forEach(inv => {\r\n      const p = inv.payments?.[0];\r\n      const name = p?.paymentType?.paymentTypeName;\r\n      if (name === \"Cash\") cash += p.amount || p.paymentAmount || 0;\r\n      if (name === \"Bank\") bank += p.amount || p.paymentAmount || 0;\r\n    });\r\n    setCashSalesTotal(cash);\r\n    setBankSalesTotal(bank);\r\n  }, [salesList]);\r\n\r\n  const filteredData = salesList.filter(item => {\r\n    const searchTermLower = searchTerm.toLowerCase();\r\n    const creatorName = item.creatorName?.toLowerCase() || '';\r\nconst customerMatch =\r\n  creatorName.includes(searchTermLower) ||\r\n  (typeof item.customer === 'string'\r\n   ? item.customer.toLowerCase()\r\n   : item.customer?.customerName?.toLowerCase()).includes(searchTermLower) ||\r\n      item.customer?.mobile?.toLowerCase().includes(searchTermLower) ||\r\n      item.saleCode?.toLowerCase().includes(searchTermLower);\r\n    const createdAtTime = new Date(item.saleDate).getTime();\r\n    const startDateTime = startDate ? new Date(startDate).getTime() : 0;\r\n    const endDateTime = endDate ? new Date(endDate).getTime() : Infinity;\r\n    const dateMatch = createdAtTime >= startDateTime && createdAtTime <= endDateTime;\r\n    const warehouseCondition = warehouse === \"all\" || warehouse === \"\" || item.warehouse?._id === warehouse;\r\n    return (customerMatch && dateMatch) && warehouseCondition;\r\n  });\r\n\r\n  const totalInvoices = filteredData.length;\r\n  const totalInvoiceAmt = filteredData.reduce((sum, inv) => sum + inv.amount, 0);\r\n  const totalReceivedAmt = filteredData.reduce(\r\n    (sum, inv) =>\r\n      sum +\r\n      (inv.payments?.reduce(\r\n        (pSum, payment) => pSum + (payment.amount || payment.paymentAmount || 0),\r\n        0\r\n      ) || 0),\r\n    0\r\n  );\r\n  const totalSalesDue = totalInvoiceAmt - totalReceivedAmt;\r\n\r\n  const handleCopy = () => {\r\n    const data = filteredData\r\n      .map(\r\n        (inv) => {\r\n          const totalPaid = inv.payments?.reduce(\r\n            (sum, payment) => sum + (payment.amount || payment.paymentAmount || 0),\r\n            0\r\n          ) || 0;\r\n          return `${new Date(inv.saleDate).toDateString()}, ${inv.saleCode}, ${\r\n            typeof inv.customer === 'string' ? inv.customer : inv.customer?.customerName || \"N/A\"\r\n          }, ${inv.amount.toFixed(2)}, ${totalPaid.toFixed(2)}, ${inv.source}`;\r\n        }\r\n      )\r\n      .join('\\n');\r\n    navigator.clipboard.writeText(data);\r\n    alert(\"Data copied to clipboard!\");\r\n  };\r\n\r\n  const handleExcelDownload = () => {\r\n    const data = filteredData.map(inv => ({\r\n      Date: new Date(inv.saleDate).toDateString(),\r\n      Code: inv.saleCode,\r\n      Customer: typeof inv.customer === 'string' ? inv.customer : inv.customer?.customerName || \"N/A\",\r\n      Amount: inv.amount.toFixed(2),\r\n      \"Amount Paid\": (inv.payments?.reduce(\r\n        (sum, payment) => sum + (payment.amount || payment.paymentAmount || 0),\r\n        0\r\n      ) || 0).toFixed(2),\r\n      Source: inv.source\r\n    }));\r\n    const ws = XLSX.utils.json_to_sheet(data);\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, \"Invoices\");\r\n    XLSX.writeFile(wb, \"invoices.xlsx\");\r\n  };\r\n\r\n  const handlePdfDownload = () => {\r\n    const doc = new jsPDF();\r\n    doc.text(\"Invoices List\", 20, 20);\r\n    const tableData = filteredData.map(inv => [\r\n      new Date(inv.saleDate).toDateString(),\r\n      inv.saleCode,\r\n      typeof inv.customer === 'string' ? inv.customer : inv.customer?.customerName || \"N/A\",\r\n      inv.amount.toFixed(2),\r\n      (inv.payments?.reduce(\r\n        (sum, payment) => sum + (payment.amount || payment.paymentAmount || 0),\r\n        0\r\n      ) || 0).toFixed(2),\r\n      inv.source,\r\n    ]);\r\n\r\n    autoTable(doc, {\r\n      head: [['Date', 'Code', 'Customer', 'Amount', 'Amount Paid', 'Source']],\r\n      body: tableData,\r\n    });\r\n\r\n    doc.save(\"invoice_list.pdf\");\r\n  };\r\n\r\n  const handlePrint = () => {\r\n    window.print();\r\n  };\r\n\r\n  const handleCsvDownload = () => {\r\n    const headers = ['Date', 'Code', 'Customer', 'Amount', 'Amount Paid', 'Source'];\r\n    const data = filteredData.map(inv => [\r\n      new Date(inv.saleDate).toDateString(),\r\n      inv.saleCode,\r\n      typeof inv.customer === 'string' ? inv.customer : inv.customer?.customerName || \"N/A\",\r\n      inv.amount.toFixed(2),\r\n      (inv.payments?.reduce(\r\n        (sum, payment) => sum + (payment.amount || payment.paymentAmount || 0),\r\n        0\r\n      ) || 0).toFixed(2),\r\n      inv.source\r\n    ]);\r\n    const csvContent = \"data:text/csv;charset=utf-8,\" + \r\n      headers.join(\",\") + \"\\n\" + \r\n      data.map(row => row.join(\",\")).join(\"\\n\");\r\n    const encodedUri = encodeURI(csvContent);\r\n    const link = document.createElement(\"a\");\r\n    link.setAttribute(\"href\", encodedUri);\r\n    link.setAttribute(\"download\", \"invoices.csv\");\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  const indexOfLastItem = currentPage * entriesPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - entriesPerPage;\r\n  const totalPages = Math.ceil(filteredData.length / entriesPerPage);\r\n  const currentUsers = filteredData.slice((currentPage - 1) * entriesPerPage, currentPage * entriesPerPage);\r\n\r\n  const handlePageChange = (newPage) => {\r\n    if (newPage >= 1 && newPage <= totalPages) {\r\n      setCurrentPage(newPage);\r\n    }\r\n  };\r\n\r\n  const handleEntriesChange = (e) => {\r\n    setEntriesPerPage(Number(e.target.value));\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const calculate = () => {\r\n    const total = currentUsers.reduce((sum, inv) => sum + inv.amount, 0);\r\n    const paid = currentUsers.reduce(\r\n      (sum, inv) =>\r\n        sum +\r\n        (inv.payments?.reduce(\r\n          (pSum, payment) => pSum + (payment.amount || payment.paymentAmount || 0),\r\n          0\r\n        ) || 0),\r\n      0\r\n    );\r\n    setGrandTotal(total);\r\n    setPaidPayment(paid);\r\n  };\r\n\r\n  useEffect(() => {\r\n    calculate();\r\n  }, [currentUsers]);\r\n\r\n  if (loading) return (<LoadingScreen />);\r\n\r\n  return (\r\n    <div className=\"flex flex-col\">\r\n      <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\r\n      <div className=\"box-border flex min-h-screen\">\r\n        <div className=\"w-auto\">\r\n          <Sidebar isSidebarOpen={isSidebarOpen} />\r\n        </div>\r\n        <div className=\"flex flex-col p-2 md:p-2 w-full mx-auto overflow-x-auto\">\r\n          <header className=\"flex flex-col items-center justify-between px-2 py-2 mb-2 bg-gray-100 rounded-md shadow md:flex-row\">\r\n            <div className=\"flex items-baseline gap-1 text-center sm:flex-row sm:text-left\">\r\n              <h1 className=\"text-lg font-semibold truncate sm:text-xl\">Invoices List</h1>\r\n              <span className=\"text-xs text-gray-600 sm:text-sm\">View/Search Invoices</span>\r\n            </div>\r\n            <nav className=\"flex flex-wrap items-center justify-center text-xs text-gray-500 sm:justify-start sm:text-sm sm:mt-0\">\r\n              <NavLink to=\"/dashboard\" className=\"flex items-center text-gray-700 no-underline hover:text-cyan-600\">\r\n                <FaTachometerAlt className=\"mr-2 text-gray-500 hover:text-cyan-600\" />\r\n                Home\r\n              </NavLink>\r\n              <BiChevronRight className=\"mx-1 sm:mx-2\" />\r\n              <NavLink to=\"/sales-list\" className=\"text-gray-700 no-underline hover:text-cyan-600\">\r\n                Invoices List\r\n              </NavLink>\r\n            </nav>\r\n          </header>\r\n          <div className=\"flex flex-col gap-4\">\r\n            <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\r\n              <div className=\"flex items-center text-black bg-white rounded-lg shadow-md\">\r\n                <ShoppingBagIcon className=\"w-16 text-white rounded bg-cyan-500\" />\r\n                <div className=\"flex flex-col justify-center ml-4\">\r\n                  <h2 className=\"text-xl\">{totalInvoices}</h2>\r\n                  <p className='font-bold'>Total Invoices</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center text-black bg-white rounded-lg shadow-md\">\r\n                <FaDollarSign className='w-16 h-16 text-white rounded bg-cyan-500'/>\r\n                <div className=\"flex flex-col justify-center ml-4\">\r\n                  <h2 className=\"text-xl\">₹{totalInvoiceAmt.toFixed(2)}</h2>\r\n                  <p className='font-bold'>Total Invoices Amount</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center text-black bg-white rounded-lg shadow-md\">\r\n                <FontAwesomeIcon icon={faMoneyBill} className=\"w-16 h-16 text-white rounded bg-cyan-500\" />\r\n                <div className=\"flex flex-col justify-center ml-4\">\r\n                  <h2 className=\"text-xl\">₹{totalReceivedAmt.toFixed(2)}</h2>\r\n                  <p className='font-bold'>Total Received Amount</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center text-black bg-white rounded-lg shadow-md\">\r\n                <CashIcon className=\"h-16 text-white rounded bg-cyan-500 w-18\" />\r\n                <div className=\"flex flex-col justify-center ml-4\">\r\n                  <h2 className=\"text-xl\">₹{totalSalesDue.toFixed(2)}</h2>\r\n                  <p className='font-bold'>Total Sales Due</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center text-black bg-white rounded-lg shadow-md\">\r\n                <FontAwesomeIcon icon={faMoneyBill} className=\"w-16 h-16 text-white rounded bg-cyan-500\" />\r\n                <div className=\"flex flex-col justify-center ml-4\">\r\n                  <h2 className=\"text-xl\">₹{cashSalesTotal.toFixed(2)}</h2>\r\n                  <p className='font-bold'>Cash Sales</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center text-black bg-white rounded-lg shadow-md\">\r\n                <FontAwesomeIcon icon={faBuilding} className=\"w-16 h-16 text-white rounded bg-cyan-500\" />\r\n                <div className=\"flex flex-col justify-center ml-4\">\r\n                  <h2 className=\"text-xl\">₹{bankSalesTotal.toFixed(2)}</h2>\r\n                  <p className='font-bold'>Bank Sales</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"p-4 bg-white shadow-md rounded-md mt-3 border-t-4 border-cyan-500\">\r\n            <div className='flex items-center justify-between mb-10'>\r\n              <div></div>\r\n              <div className=\"flex items-end\">\r\n                <button\r\n                  className=\"w-full px-4 py-2 text-white rounded-md bg-cyan-500 hover:bg-cyan-600\"\r\n                  onClick={() => navigate('/add-sale')}\r\n                >\r\n                  + Create Invoice\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n              <div>\r\n                <label className=\"block font-semibold text-gray-700\">\r\n                  Warehouse <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <Select\r\n                  options={warehouses}\r\n                  onChange={(selectedoption) => setWarehouse(selectedoption.value)}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block font-semibold text-gray-700\">Customers</label>\r\n                <input\r\n                  type=\"text\"\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  placeholder=\"Search Name/Mobile\"\r\n                  className=\"w-full p-2 border rounded-md\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block font-semibold text-gray-700\">Users</label>\r\n                <select className=\"w-full p-2 border rounded-md\">\r\n                  <option>All</option>\r\n                  <option>Admin</option>\r\n                  <option>Manager</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 gap-4 mt-4 md:grid-cols-2\">\r\n              <div>\r\n                <label className=\"block font-semibold text-gray-700\">From Date</label>\r\n                <div className=\"flex items-center p-2 border rounded-md\">\r\n                  <span className=\"mr-2\">📅</span>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"w-full outline-none\"\r\n                    onChange={(e) => setStartDate(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <label className=\"block font-semibold text-gray-700\">To Date</label>\r\n                <div className=\"flex items-center p-2 border rounded-md\">\r\n                  <span className=\"mr-2\">📅</span>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"w-full outline-none\"\r\n                    onChange={(e) => setEndDate(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex flex-col justify-between mt-4 mb-4 space-y-2 md:flex-row md:space-y-0 md:items-center\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <span className=\"text-sm\">Show</span>\r\n              <select\r\n                className=\"p-2 text-sm border border-gray-300 rounded-md\"\r\n                value={entriesPerPage}\r\n                onChange={handleEntriesChange}\r\n              >\r\n                <option>10</option>\r\n                <option>20</option>\r\n                <option>50</option>\r\n                <option>100</option>\r\n                <option>200</option>\r\n                <option>500</option>\r\n                <option>1000</option>\r\n              </select>\r\n              <span className=\"text-sm\">Entries</span>\r\n            </div>\r\n            <div className=\"flex flex-col gap-2 md:flex-row\">\r\n              <div className='flex items-center justify-between flex-1 gap-2'>\r\n                <button onClick={handleCopy} className=\"px-3 py-2 text-sm text-white bg-cyan-500\">Copy</button>\r\n                <button onClick={handleExcelDownload} className=\"px-3 py-2 text-sm text-white bg-cyan-500\">Excel</button>\r\n                <button onClick={handlePdfDownload} className=\"px-3 py-2 text-sm text-white bg-cyan-500\">PDF</button>\r\n                <button onClick={handlePrint} className=\"px-3 py-2 text-sm text-white bg-cyan-500\">Print</button>\r\n                <button onClick={handleCsvDownload} className=\"px-3 py-2 text-sm text-white bg-cyan-500\">CSV</button>\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search\"\r\n                className=\"w-full p-2 text-sm border border-gray-300\"\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-6 overflow-x-auto\">\r\n            <table className=\"min-w-full bg-white border border-gray-300 shadow-sm\">\r\n              <thead className=\"bg-gray-200\">\r\n                <tr>\r\n                  {[\r\n                    'Date', 'Code', 'Customer', 'Amount', 'Amount Paid', 'Source', 'Creator', 'Status', 'Action'\r\n                  ].map((header) => (\r\n                    <th\r\n                      key={header}\r\n                      className=\"px-4 py-2 text-sm font-medium text-left border\"\r\n                    >\r\n                      {header}\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {currentUsers.length <= 0 ? (\r\n                  <tr>\r\n                    <td colSpan=\"8\" className=\"p-4 text-center text-gray-500 border\">\r\n                      No data available in table\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  currentUsers.map((inv) => {\r\n                    const totalPaid = inv.payments?.reduce(\r\n                      (sum, payment) => sum + (payment.amount || payment.paymentAmount || 0),\r\n                      0\r\n                    ) || 0;\r\n                    return (\r\n                      <tr className=\"bg-gray-100\" key={inv._id}>\r\n                        <td className=\"border px-2 py-1\">\r\n                          {new Date(inv.saleDate).toLocaleDateString()}\r\n                        </td>\r\n                        <td className=\"border px-2 py-1\">{inv.saleCode}</td>\r\n                        <td className=\"border px-2 py-1\">\r\n                          {typeof inv.customer === 'string' ? inv.customer : inv.customer?.customerName || \"N/A\"}\r\n                        </td>\r\n                        <td className=\"border px-2 py-1\">₹{inv.amount.toFixed(2)}</td>\r\n                        <td className=\"border px-2 py-1\">₹{totalPaid.toFixed(2)}</td>\r\n                        <td className=\"border px-2 py-1\">{inv.source}</td>\r\n                        <td className=\"border px-2 py-1\">\r\n  {inv.creatorName || '—'}\r\n</td>\r\n                        <td className=\"border px-2 py-1\">\r\n                          <span\r\n                            className={`inline-block px-2 py-1 text-xs font-semibold rounded \r\n                              ${inv.paymentStatus === 'Paid'\r\n                                ? 'bg-green-100 text-green-800'\r\n                                : 'bg-red-100 text-red-800'}`}\r\n                          >\r\n                            {inv.paymentStatus}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"relative p-2 border\">\r\n                          <button\r\n                            ref={(el) => (buttonRef.current[inv._id] = el)}\r\n                            className={`flex items-center gap-2 px-4 py-2 text-sm font-semibold text-white bg-cyan-600 rounded-full shadow-sm \r\n                              hover:bg-cyan-700 active:scale-95 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-cyan-400`}\r\n                            onClick={() => {\r\n                              if (actionMenu === inv._id) setActionMenu(null);\r\n                              else setActionMenu(inv._id);\r\n                            }}\r\n                          >\r\n                            <span>Action</span>\r\n                            <svg\r\n                              className={`w-4 h-4 transition-transform duration-200 ${\r\n                                actionMenu === inv._id ? \"rotate-180\" : \"\"\r\n                              }`}\r\n                              fill=\"none\"\r\n                              stroke=\"currentColor\"\r\n                              strokeWidth={2}\r\n                              viewBox=\"0 0 24 24\"\r\n                            >\r\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 9l-7 7-7-7\" />\r\n                            </svg>\r\n                          </button>\r\n                          {actionMenu === inv._id && (\r\n  <div\r\n    ref={dropdownRef}\r\n    className=\"z-50 bg-white border border-gray-200 shadow-xl rounded-lg w-48 transition-all duration-200 ease-in-out transform scale-100 opacity-100 animate-dropdown-open\"\r\n    style={{ minWidth: '150px', maxHeight: '300px', overflowY: 'auto' }}\r\n  >\r\n                              <button\r\n                                className=\"w-full px-3 py-2 text-left text-blue-600 hover:bg-gray-50 transition-colors flex items-center gap-2\"\r\n                                onClick={() => handleViewSales(inv)}\r\n                              >\r\n                                📄 View Sales\r\n                              </button>\r\n                              <button\r\n                                className=\"w-full px-3 py-2 text-left text-green-600 hover:bg-gray-50 transition-colors flex items-center gap-2\"\r\n                                onClick={() => handleEdit(inv)}\r\n                              >\r\n                                ✏️ Edit\r\n                              </button>\r\n                              <button\r\n                                className=\"w-full px-3 py-2 text-left text-teal-600 hover:bg-gray-50 transition-colors flex items-center gap-2\"\r\n                                onClick={() => handleEditPaymentType(inv)}\r\n                              >\r\n                                💵 Edit Payment Type\r\n                              </button>\r\n                              <button\r\n                                className=\"w-full px-3 py-2 text-left text-purple-600 hover:bg-gray-50 transition-colors flex items-center gap-2\"\r\n                                onClick={() => handleViewPayments(inv)}\r\n                              >\r\n                                💳 View Payments\r\n                              </button>\r\n                              <button\r\n                                className=\"w-full px-3 py-2 text-left text-indigo-600 hover:bg-gray-50 transition-colors flex items-center gap-2\"\r\n                                onClick={() => handleDownloadPDF(inv)}\r\n                              >\r\n                                📥 PDF\r\n                              </button>\r\n                              <button\r\n                                className=\"w-full px-3 py-2 text-left text-red-600 hover:bg-gray-50 transition-colors flex items-center gap-2\"\r\n                                onClick={() => handleDelete(inv._id, inv.source)}\r\n                              >\r\n                                🗑️ Delete\r\n                              </button>\r\n                            </div>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                )}\r\n                {currentUsers.length > 0 && (\r\n                  <tr className=\"font-bold bg-gray-100\">\r\n                    <td colSpan=\"3\" className=\"text-right border\">Total :</td>\r\n                    <td className=\"text-center border\">{grandTotal.toFixed(2)}</td>\r\n                    <td className=\"text-center border\">\r\n                      {currentUsers\r\n                        .reduce(\r\n                          (sum, inv) =>\r\n                            sum +\r\n                            (inv.payments?.reduce(\r\n                              (pSum, payment) => pSum + (payment.amount || payment.paymentAmount || 0),\r\n                              0\r\n                            ) || 0),\r\n                          0\r\n                        )\r\n                        .toFixed(2)}\r\n                    </td>\r\n                    <td className=\"text-center border\"></td>\r\n                    <td className=\"text-center border\"></td>\r\n                    <td className=\"text-center border\"></td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"flex flex-col items-start justify-between gap-2 p-2 md:justify-between md:flex-row\">\r\n            <span>\r\n              <span>Showing {entriesPerPage * (currentPage - 1) + 1} to {Math.min(entriesPerPage * currentPage, filteredData.length)} of {filteredData.length} entries</span>\r\n            </span>\r\n            <div className='flex justify-between w-full md:w-auto md:gap-2'>\r\n              <button\r\n                className={`flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-200 shadow-md \r\n                  ${currentPage === 1 \r\n                    ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" \r\n                    : \"bg-blue-500 hover:bg-blue-600 text-white cursor-pointer\"}`}\r\n                onClick={() => handlePageChange(currentPage - 1)}\r\n                disabled={currentPage === 1}\r\n              >\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" strokeWidth={2} viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 19l-7-7 7-7\" />\r\n                </svg>\r\n                Previous\r\n              </button>\r\n              <button\r\n                className={`flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-200 shadow-md \r\n                  ${currentPage === totalPages \r\n                    ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" \r\n                    : \"bg-blue-500 hover:bg-blue-600 text-white cursor-pointer\"}`}\r\n                onClick={() => handlePageChange(currentPage + 1)}\r\n                disabled={currentPage === totalPages}\r\n              >\r\n                Next\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" strokeWidth={2} viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 5l7 7-7 7\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {editPaymentModal && (\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\r\n              <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n                <h2 className=\"text-lg font-semibold mb-4\">Edit Payment Type</h2>\r\n                <p className=\"text-sm text-gray-600 mb-4\">\r\n                  Invoice: {selectedInvoice.saleCode} ({selectedInvoice.source})\r\n                </p>\r\n                <label className=\"block font-semibold text-gray-700 mb-2\">\r\n                  Select Payment Type\r\n                </label>\r\n                <Select\r\n                  options={paymentTypes}\r\n                  value={newPaymentType}\r\n                  onChange={setNewPaymentType}\r\n                  placeholder=\"Choose payment type\"\r\n                  className=\"mb-4\"\r\n                />\r\n                <div className=\"flex justify-end gap-2\">\r\n                  <button\r\n                    className=\"px-4 py-2 text-sm text-gray-600 bg-gray-200 rounded hover:bg-gray-300\"\r\n                    onClick={() => {\r\n                      setEditPaymentModal(false);\r\n                      setSelectedInvoice(null);\r\n                      setNewPaymentType(null);\r\n                    }}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    className=\"px-4 py-2 text-sm text-white bg-cyan-500 rounded hover:bg-cyan-600\"\r\n                    onClick={savePaymentType}\r\n                    disabled={loading}\r\n                  >\r\n                    {loading ? \"Saving...\" : \"Save\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        @keyframes dropdown-open {\r\n          from {\r\n            opacity: 0;\r\n            transform: scale(0.95);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: scale(1);\r\n          }\r\n        }\r\n        .animate-dropdown-open {\r\n          animation: dropdown-open 0.2s ease-in-out forwards;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PurchaseOverview;"],"names":["LoadingScreen","isSidebarOpen","setSidebarOpen","useState","_jsxs","className","children","_jsx","Navbar","Sidebar","React","props","svgRef","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","strokeLinecap","strokeLinejoin","d","PurchaseOverview","navigate","useNavigate","warehouses","setWarehouses","warehouse","setWarehouse","startDate","setStartDate","endDate","setEndDate","searchTerm","setSearchTerm","entriesPerPage","setEntriesPerPage","currentPage","setCurrentPage","salesList","setSalesList","grandTotal","setGrandTotal","paidPayment","setPaidPayment","loading","setLoading","actionMenu","setActionMenu","paymentTypes","setPaymentTypes","editPaymentModal","setEditPaymentModal","selectedInvoice","setSelectedInvoice","newPaymentType","setNewPaymentType","cashSalesTotal","setCashSalesTotal","bankSalesTotal","setBankSalesTotal","dropdownRef","useRef","buttonRef","today","Date","toISOString","slice","useEffect","current","dropdown","buttonRect","getBoundingClientRect","dropdownRect","windowHeight","window","innerHeight","offsetAbove","innerWidth","offsetLeft","width","topPosition","top","scrollY","leftPosition","left","scrollX","bottom","height","right","style","position","generateInvoicePDF","invoice","payments","source","_invoice$customer","_invoice$customer2","_invoice$customer3","doc","jsPDF","setFontSize","text","saleCode","saleDate","toLocaleDateString","customer","customerName","mobile","addrObj","address","addrStr","street","city","state","zip","country","filter","part","join","itemRows","items","map","item","_item$item","itemName","quantity","unitPrice","price","toFixed","discount","subtotal","autoTable","startY","head","body","theme","styles","fontSize","headStyles","fillColor","finalY","lastAutoTable","totalAmount","discountOnBill","totalDiscount","length","paymentRows","payment","_payment$paymentType","paymentDate","paymentType","paymentTypeName","amount","paymentAmount","paymentNote","totalPaid","reduce","sum","p","dueAmount","setTextColor","pdfBlob","output","pdfUrl","URL","createObjectURL","open","fetchInvoices","async","token","localStorage","getItem","data","axios","get","headers","Authorization","err","alert","message","console","log","response","newwarehouse","label","value","warehouseName","_id","error","fetchWarehouses","formattedPaymentTypes","pt","fetchPaymentTypes","cash","bank","forEach","inv","_inv$payments","_p$paymentType","name","filteredData","_item$creatorName","_item$customer","_item$customer$custom","_item$customer2","_item$customer2$mobil","_item$saleCode","_item$warehouse","searchTermLower","toLowerCase","customerMatch","creatorName","includes","createdAtTime","getTime","startDateTime","endDateTime","Infinity","dateMatch","warehouseCondition","totalInvoices","totalInvoiceAmt","totalReceivedAmt","_inv$payments2","pSum","totalSalesDue","totalPages","Math","ceil","currentUsers","handlePageChange","newPage","calculate","total","paid","_inv$payments7","NavLink","to","FaTachometerAlt","BiChevronRight","ShoppingBagIcon","FaDollarSign","FontAwesomeIcon","icon","faMoneyBill","CashIcon","faBuilding","onClick","Select","options","onChange","selectedoption","type","e","target","placeholder","Number","handleCopy","_inv$payments3","_inv$customer","toDateString","navigator","clipboard","writeText","handleExcelDownload","_inv$customer2","_inv$payments4","Code","Customer","Amount","Source","ws","XLSX","json_to_sheet","wb","book_new","book_append_sheet","handlePdfDownload","tableData","_inv$customer3","_inv$payments5","save","handlePrint","print","handleCsvDownload","_inv$customer4","_inv$payments6","csvContent","row","encodedUri","encodeURI","link","document","createElement","setAttribute","appendChild","click","removeChild","header","colSpan","_inv$payments8","_inv$customer5","paymentStatus","el","minWidth","maxHeight","overflowY","handleViewSales","created","handleEdit","handleEditPaymentType","handleViewPayments","endpoint","handleDownloadPDF","id","confirm","delete","handleDelete","_inv$payments9","min","disabled","put","jsx"],"sourceRoot":""}