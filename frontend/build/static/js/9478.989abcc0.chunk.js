"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9478],{14840:(e,a,s)=>{s.d(a,{A:()=>o});var l=s(65043),t=s(21197),r=s(59255),n=s(70579);function o(){const[e,a]=(0,l.useState)(!1);return(0,n.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,n.jsx)(t.A,{isSidebarOpen:e,setSidebarOpen:a}),(0,n.jsxs)("div",{className:"flex flex-grow mt-20",children:[(0,n.jsx)("div",{children:(0,n.jsx)(r.A,{isSidebarOpen:e})}),(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin"}),(0,n.jsx)("p",{className:"mt-3 text-lg font-semibold text-gray-700",children:"Loading..."})]})})]})]})}},21830:(e,a,s)=>{s.d(a,{A:()=>r});var l=s(65043),t=s(70579);function r(e){let{id:a=" ",type:s="text",label_class:r="",label:n,className:o="",placeholder:c="",div_class:d="",...i}=e;const u=(0,l.useId)();return(0,t.jsxs)("div",{className:d,children:[" ",n?(0,t.jsx)("label",{className:r,htmlFor:" "===a?u:a,children:n}):null," ",(0,t.jsx)("input",{type:s,id:" "===a?u:a,placeholder:c,className:o,...i})]})}},43763:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var l=s(65043),t=s(53888),r=s(21830),n=s(21197),o=s(59255),c=s(66727),d=s(60184),i=s(86213),u=s(26873),m=(s(14840),s(70579));function b(){const[e,a]=(0,l.useState)(!0);(0,l.useId)();(0,l.useEffect)((()=>{window.innerWidth<768&&a(!1)}),[window.innerWidth]);const[s,b]=(0,l.useState)(!1),[x]=(0,c.ok)(),p=x.get("id"),[h,g]=(0,l.useState)([]),[y,f]=(0,l.useState)([]),[N,v]=(0,l.useState)({supplierName:"",email:"",mobile:"",phone:"",address:"",city:"",state:"",country:"",gstNumber:"",taxNumber:"",openingBalance:0,previousBalance:0,purchaseDue:0,purchaseReturnDue:0,status:"Active"});(0,l.useEffect)((()=>{p&&(async e=>{b(!0);try{const a=await i.A.get("api/suppliers",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log(a.data);const s=a.data.data.find((a=>a._id===e));console.log(s),v(s)}catch(a){console.log(a.message)}finally{b(!1)}})(p),(async()=>{try{const e=(await i.A.get("api/countries",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.data.filter((e=>"active"===e.status)).map((e=>({label:e.countryName,value:e.countryName})));f(e)}catch(e){console.log(e.message)}})(),(async()=>{try{const e=await i.A.get("api/states",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log(e.data);const a=e.data.data.filter((e=>"active"===e.status)).map((e=>({label:e.stateName,value:e.stateName})));console.log(a),g(a)}catch(e){console.log(e.message)}})()}),[p]);const[j,w]=(0,l.useState)(),A=e=>{const{name:a,value:s}=e.target;v({...N,[a]:"number"==e.target.type?Number(s):s})},S=e=>a=>{v({...N,[e]:a.value})};return(0,m.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,m.jsx)(n.A,{isSidebarOpen:e,setSidebarOpen:a}),(0,m.jsxs)("div",{className:"box-border flex",children:[(0,m.jsx)("div",{className:"w-auto h-auto ",children:(0,m.jsx)(o.A,{isSidebarOpen:e})}),(0,m.jsxs)("div",{className:"w-full h-full px-6 py-4 overflow-x-auto bg-gray-300",children:[(0,m.jsxs)("div",{className:"flex flex-col items-end justify-between md:flex-row",children:[(0,m.jsxs)("div",{className:"flex items-end w-full gap-2 md:w-1/2",children:[(0,m.jsx)("span",{className:"text-3xl",children:"Suppliers"}),(0,m.jsx)("span",{className:"text-sm text-gray-700 ",children:"Add/Update Supplier"})]}),(0,m.jsxs)("div",{className:"flex w-full gap-2 pl-2 mb-2 text-sm font-semibold text-black bg-gray-500 bg-opacity-50 rounded-md md:text-gray-500 md:justify-end md:w-1/2 md:bg-transparent",children:[(0,m.jsxs)(c.k2,{to:"/dashboard",className:"flex items-center text-gray-700 no-underline",children:[(0,m.jsx)(d.$BV,{}),"Home "]}),(0,m.jsx)("span",{children:">"}),(0,m.jsx)(c.k2,{to:"/contact/",className:"text-gray-700 no-underline",children:"Import Suppliers"}),(0,m.jsx)("span",{children:">"}),(0,m.jsx)(c.k2,{to:"/supplier/add",className:"text-gray-700 no-underline",children:"Add Suppliers"})]})]}),(0,m.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),console.log("Form submitted:",N),p)(async e=>{b(!0);try{console.log("Updating FormData:",N);const a=await i.A.put(`api/suppliers/${e}`,N,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Response:",a.data),alert(" Update Successfully")}catch(t){var a,s,l;console.error("Error:",(null===(a=t.response)||void 0===a?void 0:a.data)||t.message),alert("Unsuccessful: "+((null===(s=t.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||t.message))}finally{b(!1)}})(p);else try{const e=await i.A.post("api/suppliers",N,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Supplier Added:",e.data),alert("Supplier added successfully!"),v({supplierName:"",email:"",mobile:"",phone:"",address:"",city:"",state:"",country:"",gstNumber:"",taxNumber:"",openingBalance:0,previousBalance:0,purchaseDue:0,purchaseReturnDue:0})}catch(s){var a;console.error("Error adding supplier:",(null===(a=s.response)||void 0===a?void 0:a.data)||s),alert("Failed to add supplier!")}},children:(0,m.jsxs)("div",{className:"px-2 py-4 mx-auto bg-white border-t-4 rounded-t-md border-t-blue-600 border-opacity-70",children:[(0,m.jsxs)("div",{className:"grid grid-cols-1 md:gap-5 md:grid-cols-2",children:[(0,m.jsx)(r.A,{div_class:"flex items-center mb-5 lg:mb-2",label_class:"w-1/3 text-gray-700",name:"supplierName",label:"Supplier Name*",value:N.supplierName||"",onChange:e=>A(e),className:"w-2/3 p-2 border border-gray-300 rounded outline-none focus:border-blue-500"}),(0,m.jsx)(r.A,{type:"Number",min:"0",div_class:"flex items-center mb-5 lg:mb-2",label_class:"w-1/3 text-gray-700",label:"Opening Balance",name:"openingBalance",value:N.openingBalance,onChange:A,className:"w-2/3 p-2 border border-gray-300 rounded outline-none focus:border-blue-500"}),(0,m.jsx)(r.A,{div_class:"flex items-center mb-5",label_class:"w-1/3 text-gray-700",label:"Mobile",name:"mobile",placeholder:"3452345",value:N.mobile,onChange:A,className:"w-2/3 p-2 border border-gray-300 rounded outline-none focus:border-blue-500"}),(0,m.jsx)(r.A,{type:"Number",min:"0",div_class:"flex items-center mb-5",label_class:"w-1/3 text-gray-700",label:"Purchase Due",name:"purchaseDue",value:N.purchaseDue,onChange:A,className:"w-2/3 p-2 border border-gray-300 rounded outline-none focus:border-blue-500"}),(0,m.jsx)(r.A,{type:"Number",min:"0",div_class:"flex items-center mb-5",label_class:"w-1/3 text-gray-700",label:"Previous Balance",name:"previousBalance",value:N.previousBalance,onChange:A,className:"w-2/3 p-2 border border-gray-300 rounded outline-none focus:border-blue-500"}),(0,m.jsx)(r.A,{type:"Number",min:"0",div_class:"flex items-center mb-5",label_class:"w-1/3 text-gray-700",label:"Purchase Return Due",name:"purchaseReturnDue",value:N.purchaseReturnDue,onChange:A,className:"w-2/3 p-2 border border-gray-300 rounded outline-none focus:border-blue-500"}),(0,m.jsxs)("div",{className:"flex items-center w-full mb-5 ",children:[(0,m.jsx)("label",{htmlFor:"country",className:"w-1/3 text-gray-700",children:"Country"}),(0,m.jsx)(u.Ay,{options:y,className:"w-2/3",onChange:S("country"),value:y.find((e=>e.value===N.country))||null})]}),(0,m.jsx)(r.A,{div_class:"flex items-center  mb-5",label_class:"w-1/3 text-gray-700",label:"Email",name:"email",className:"w-2/3 p-2 border border-gray-300 rounded focus:outline-none focus:border-blue-700",type:"email",value:N.email,onChange:A}),(0,m.jsxs)("div",{className:"flex items-center w-full mb-5",children:[(0,m.jsx)("label",{htmlFor:"state",className:"w-1/3 text-gray-700",children:"State"}),(0,m.jsx)(u.Ay,{options:h,className:"w-2/3",onChange:S("state"),value:h.find((e=>e.value===N.state))||null})]}),(0,m.jsx)(r.A,{div_class:"flex items-center mb-5",label_class:"w-1/3 text-gray-700",label:"Phone",name:"phone",value:N.phone,onChange:A,className:"w-2/3 p-2 border border-gray-300 rounded outline-none focus:border-blue-500"}),(0,m.jsx)(r.A,{div_class:"flex items-center mb-5",label_class:"w-1/3 text-gray-700",label:"City",name:"city",value:N.city,onChange:A,className:"w-2/3 p-2 border border-gray-300 rounded outline-none focus:border-blue-500"}),(0,m.jsx)(r.A,{div_class:"flex items-center mb-5",label_class:"w-1/3 text-gray-700",label:"GST Number",name:"gstNumber",value:N.gstNumber,onChange:A,className:"w-2/3 p-2 border border-gray-300 rounded outline-none focus:border-blue-500"}),(0,m.jsx)(r.A,{div_class:"flex items-center mb-5",label_class:"w-1/3 text-gray-700",label:"Postcode",name:"postcode",value:N.postcode,onChange:A,className:"w-2/3 p-2 border border-gray-300 rounded outline-none focus:border-blue-500"}),(0,m.jsx)(r.A,{div_class:"flex items-center mb-5",label_class:"w-1/3 text-gray-700",label:"Tax Number",name:"taxNumber",value:N.taxNumber,onChange:A,className:"w-2/3 p-2 border border-gray-300 rounded outline-none focus:border-blue-500"}),(0,m.jsxs)("div",{className:"flex items-center mb-5",children:[(0,m.jsx)("label",{htmlFor:"address",className:"w-1/3 text-gray-700",children:"Address"}),(0,m.jsx)("textarea",{id:"address",className:"w-2/3 p-2 border border-gray-300 rounded outline-none focus:border-blue-500",value:N.address,name:"address",onChange:A})]})]}),(0,m.jsxs)("div",{className:"flex flex-col justify-center gap-2 mt-6 md:flex-row md:gap-5",children:[(0,m.jsx)(t.A,{className:"px-20 py-2 text-white bg-green-500 rounded",type:"submit",text:p?"Update":"Save"}),(0,m.jsx)(t.A,{className:"px-20 py-2 text-white bg-orange-500 rounded",text:"Close",type:"reser"})]})]})}),(0,m.jsxs)("div",{className:"w-full mt-20 bg-white border-t-4 border-b-2 rounded-sm border-t-gray-500 border-b-gray-500",children:[(0,m.jsx)("h2",{className:"px-4 py-1 text-sm text-blue-500 md:text-lg",children:"Opening Balance Payments"}),(0,m.jsx)("div",{className:"overflow-x-auto ",children:(0,m.jsxs)("table",{className:"w-full border-separate",children:[(0,m.jsx)("thead",{className:"text-sm",children:(0,m.jsxs)("tr",{className:"bg-gray-200",children:[(0,m.jsx)("th",{className:"px-2 py-1 text-left",children:"#"}),(0,m.jsx)("th",{className:"px-4 py-2 text-left",children:"Payment Date"}),(0,m.jsx)("th",{className:"px-4 py-2 text-left",children:"Payment"}),(0,m.jsx)("th",{className:"px-4 py-2 text-left",children:"Payment Type"}),(0,m.jsx)("th",{className:"px-4 py-2 text-left",children:"Payment Note"}),(0,m.jsx)("th",{className:"hidden px-4 py-2 text-left sm:table-cell",children:"Action"})]})}),(0,m.jsx)("tbody",{children:(0,m.jsx)("tr",{className:"text-left",children:(0,m.jsx)("td",{colSpan:"6",className:"px-4 py-2 text-center",children:j||(0,m.jsx)("span",{children:"No Previous Stock entry found!!!"})})})})]})})]})]})]})]})}},53888:(e,a,s)=>{s.d(a,{A:()=>t});s(65043);var l=s(70579);function t(e){let{text:a,type:s="button",className:t,...r}=e;return(0,l.jsx)("button",{className:`${t}`,...r,children:a})}},82284:(e,a,s)=>{function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}s.d(a,{A:()=>l})}}]);
//# sourceMappingURL=9478.989abcc0.chunk.js.map