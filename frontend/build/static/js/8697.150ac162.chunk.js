"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8697],{16246:(e,s,t)=>{t.d(s,{A:()=>l});var a=t(70579);const l=e=>{let{title:s,value:t=0,icon:l,className:r="",props:o}=e;const i=l;return(0,a.jsxs)("div",{className:r,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-3xl font-bold",children:["\u20b9",t]}),(0,a.jsx)("p",{className:"mt-1 text-sm uppercase",children:s})]}),(0,a.jsx)("div",{className:"transition-transform duration-300 ease-in-out hover:scale-125",children:(0,a.jsx)(i,{size:48,className:"opacity-60"})})]})}},24592:(e,s,t)=>{t.d(s,{A:()=>n});var a=t(65043),l=t(66727),r=t(86213),o=t(60184),i=t(70579);const n=e=>{let{isSidebarOpen:s,setSidebarOpen:t}=e;const n=(0,l.Zp)(),[c,d]=(0,a.useState)(!1),[x,m]=(0,a.useState)(null),[h,u]=(0,a.useState)(""),[g,f]=(0,a.useState)(!1),[p,j]=(0,a.useState)(!1);(0,a.useEffect)((()=>{x||b()}),[]);const b=async()=>{f(!0);try{const e=localStorage.getItem("token");(localStorage.getItem("role")||"guest").toLowerCase();if(!e)return void m({name:"Guest",role:"Guest"});const s="/api/audit/profile",{data:t}=await r.A.get(s,{headers:{Authorization:`Bearer ${e}`}});console.log(t.data),m(t.data)}catch(e){console.error("Profile fetch error:",e),m({name:"Guest",role:"Guest"})}finally{f(!1)}},v="admin"===(localStorage.getItem("role")||"guest").toLowerCase()?"Admin Panel":h||"Grocery On Wheel";return(0,i.jsxs)("nav",{className:"flex flex-col items-center justify-between gap-2 px-6 py-1 text-white bg-gray-900 md:gap-0 md:flex-row",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between w-full gap-2 md:w-auto md:bg-transparent",children:[(0,i.jsx)("div",{className:`w-screen text-center ${s?"md:w-64":"w-auto"} md:text-center`,children:(0,i.jsxs)("h2",{className:"text-2xl font-bold text-center cursor-pointer md:w-auto",onClick:()=>n("/dashboard"),children:[(0,i.jsx)("span",{className:"md:hidden",children:v}),s?(0,i.jsx)("span",{className:"hidden md:flex",children:v}):(0,i.jsx)("span",{className:"hidden md:flex",children:"POS"})]})}),(0,i.jsx)("div",{className:"flex-col items-center hidden gap-2 md:flex md:flex-row",children:(0,i.jsx)("button",{onClick:()=>t(!s),className:"flex items-center ",children:(0,i.jsx)(o.OXb,{size:24,className:"cursor-pointer hover:text-gray-400"})})})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between w-full md:w-auto",children:[(0,i.jsx)("div",{className:"flex items-start justify-start md:hidden",children:(0,i.jsx)("button",{onClick:()=>t(!s),className:"flex items-center ",children:(0,i.jsx)(o.OXb,{size:24,className:"cursor-pointer hover:text-gray-400"})})}),(0,i.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,i.jsx)("div",{children:(0,i.jsxs)("button",{className:"flex items-center px-2 hover:bg-gray-500",onClick:()=>n("/pos"),children:[(0,i.jsx)(o.OiG,{}),"POS"]})}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>d(!c),children:[(0,i.jsx)("img",{src:"/userlogoprof.png",alt:"Profile",className:"w-10 h-10 border-2 border-gray-300 rounded-full hover:opacity-80"}),(0,i.jsx)("span",{className:"text-sm",children:(null===x||void 0===x?void 0:x.userName)||"Unknown User"})]}),c&&(0,i.jsx)("div",{className:"absolute right-0 z-10 w-64 p-4 mt-2 text-black bg-white rounded-md shadow-lg top-full",children:g?(0,i.jsx)("p",{className:"text-center text-gray-600",children:"Loading..."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("img",{src:"/userlogoprof.png",alt:"Profile",className:"w-16 h-16 border-2 border-gray-400 rounded-full"}),(0,i.jsx)("h3",{className:"mt-2 text-lg font-bold",children:(null===x||void 0===x?void 0:x.userName)||"Unknown User"}),(0,i.jsxs)("p",{className:"text-sm font-semibold text-blue-600",children:["Role: ",(null===x||void 0===x?void 0:x.role)||"Unknown"]})]}),(0,i.jsxs)("div",{className:"flex flex-col mt-4",children:[(0,i.jsx)("button",{className:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300",onClick:()=>n("/profile/edit"),children:"Profile"}),(0,i.jsx)("button",{onClick:()=>{localStorage.clear(),n("/"),window.location.reload()},className:"px-4 py-2 mt-2 text-white bg-red-500 rounded-md hover:bg-red-600",children:"Sign Out"})]})]})})]})]})]})}},28697:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var a=t(65043),l=t(86213),r=t(60184),o=t(52076),i=t(16246),n=t(24592),c=t(70579);const d=()=>{const[e,s]=(0,a.useState)(!0),[t,d]=(0,a.useState)([]),[x,m]=(0,a.useState)(0);return(0,a.useEffect)((()=>{window.innerWidth<768&&s(!1)}),[window.innerWidth]),(0,a.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("id"),s=await l.A.get(`/api/audit/bucket/auditor/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log(s.data),d(s.data.data);const t=s.data.data.reduce(((e,s)=>{var t;return e+((null===(t=s.items)||void 0===t?void 0:t.length)||0)}),0);m(t)}catch(e){console.log("Fetch error:",e.message)}})()}),[]),(0,c.jsxs)("div",{className:"flex flex-col ",children:[(0,c.jsx)(n.A,{isSidebarOpen:e,setSidebarOpen:s}),(0,c.jsxs)("div",{className:"box-border flex ",children:[(0,c.jsx)("div",{className:"w-auto",children:(0,c.jsx)(o.A,{isSidebarOpen:e})}),(0,c.jsxs)("div",{className:"w-full min-h-screen p-4 md:p-6 bg-gray-50",children:[(0,c.jsx)("header",{className:"flex items-center justify-between mb-8",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-2xl font-bold text-gray-800 md:text-3xl",children:"Auditor Dashboard"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Overview of storage metrics"})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,c.jsx)(i.A,{title:"Total Buckets",value:t.length,icon:r.rrY,description:"Active storage containers",className:"flex flex-col justify-between h-full p-6 text-white transition-all duration-300 transform shadow-lg rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 hover:shadow-xl hover:-translate-y-1",valueClassName:"text-3xl font-bold",titleClassName:"text-sm font-medium opacity-90"}),(0,c.jsx)(i.A,{title:"Total Items",value:x,icon:r.H5e,description:"Across all buckets",className:"flex flex-col justify-between h-full p-6 text-white transition-all duration-300 transform shadow-lg rounded-xl bg-gradient-to-br from-amber-500 to-orange-500 hover:shadow-xl hover:-translate-y-1",valueClassName:"text-3xl font-bold",titleClassName:"text-sm font-medium opacity-90"})]})]})]})]})}},52076:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(65043),l=t(60184),r=t(66727),o=t(70579);const i=e=>{let{isSidebarOpen:s}=e;const t=(0,r.Zp)(),[i,n]=(0,a.useState)({help:!1,helps:!1,audit:!1});(localStorage.getItem("role")||"guest").toLowerCase();return s?(0,o.jsxs)("div",{className:"absolute md:relative w-64 overflow-y-auto text-white bg-gray-900 z-[999] scrollbar-thin scrollbar-thumb-gray-800 scrollbar-track-gray-200 min-h-screen ",children:[(0,o.jsxs)("div",{className:"flex items-center p-3 cursor-pointer hover:bg-gray-700",onClick:()=>t("/auditor-dashboard"),children:[(0,o.jsx)(l.rQ8,{}),(0,o.jsx)("span",{children:"Dashboard"})]}),(0,o.jsxs)("ul",{className:"space-y-2",children:[(0,o.jsxs)("li",{className:"flex items-center p-2 space-x-2 text-sm cursor-pointer hover:bg-gray-700",onClick:()=>t("/bucket-create"),children:[(0,o.jsx)(l.Hw0,{})," ",(0,o.jsx)("span",{children:"Create Bucket"})]}),(0,o.jsxs)("li",{className:"flex items-center p-2 space-x-2 text-sm cursor-pointer hover:bg-gray-700",onClick:()=>t("/bucket-list"),children:[(0,o.jsx)(l.Hw0,{})," ",(0,o.jsx)("span",{children:"Bucket List"})]}),(0,o.jsxs)("li",{className:"flex items-center p-2 text-sm cursor-pointer hover:bg-gray-700",onClick:()=>window.location.href="https://pos.agribioj.com/help/",children:[(0,o.jsx)(l.gZZ,{}),(0,o.jsx)("span",{children:"Help Center"})]})]})]}):null}}}]);
//# sourceMappingURL=8697.150ac162.chunk.js.map