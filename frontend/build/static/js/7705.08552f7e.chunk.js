"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7705],{77705:(e,s,o)=>{o.r(s),o.d(s,{default:()=>n});var r=o(65043),t=o(86213),l=o(66727),a=o(70579);const n=()=>{const[e,s]=(0,r.useState)({email:"",password:""}),[o,n]=(0,r.useState)(!1),i=(0,l.Zp)(),d=o=>{s({...e,[o.target.name]:o.target.value})};return(0,a.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,a.jsxs)("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-lg",children:[(0,a.jsx)("h2",{className:"mb-6 text-2xl font-semibold text-center text-gray-700",children:"User Login"}),(0,a.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),n(!0);try{var o;const s=await t.A.post("admiaddinguser/userlogin",e),{token:r,user:l,permissions:a}=s.data;localStorage.setItem("token",r);const n=JSON.parse(window.atob(r.split(".")[1]));localStorage.setItem("role",n.role.toLowerCase()),localStorage.setItem("userId",n.id),localStorage.setItem("roleId",n.role),localStorage.setItem("stores",JSON.stringify(n.stores||[])),1===(null===(o=n.stores)||void 0===o?void 0:o.length)&&localStorage.setItem("storeId",n.stores[0]),localStorage.setItem("permissions",JSON.stringify(a||[])),alert("User logged in successfully!"),i("/dashboard")}catch(a){var r,l;console.error("Login error:",a),alert((null===(r=a.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message)||"Login failed. Please check your credentials.")}finally{n(!1)}},children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("input",{type:"email",name:"email",placeholder:"Email",onChange:d,required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:d,required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,a.jsx)("button",{type:"submit",disabled:o,className:"w-full py-3 font-semibold text-white bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Logging in...":"Login"})]})]})})}}}]);
//# sourceMappingURL=7705.08552f7e.chunk.js.map