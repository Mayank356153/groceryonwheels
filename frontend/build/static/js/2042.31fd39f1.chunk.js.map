{"version":3,"file":"static/js/2042.31fd39f1.chunk.js","mappings":"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","sources":["Loading.jsx","pages/ProfileEdit.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nexport default function LoadingScreen() {\n    const[isSidebarOpen,setSidebarOpen]=useState(false)\n    return (\n        <div className='flex flex-col h-screen'>\n        {/* Navbar component with sidebar open state */}\n        <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\n        <div className='flex flex-grow mt-20'>\n          <div>\n            {/* Sidebar component with open state */}\n            <Sidebar isSidebarOpen={isSidebarOpen} />\n          </div>\n  \n          {/* Container for the entire component */}\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm\">\n          <div className=\"flex flex-col items-center\">\n            <div className=\"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin\"></div>\n            <p className=\"mt-3 text-lg font-semibold text-gray-700\">Loading...</p>\n          </div>\n        </div>\n          \n        </div>\n      </div>\n    );\n  }\n  ","// src/components/CreateUser.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { NavLink, useNavigate, useSearchParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Sidebar from \"../components/Sidebar\";\r\nimport LoadingScreen from \"../Loading\";\r\nimport { FaTachometerAlt } from \"react-icons/fa\";\r\nimport { BiChevronRight } from \"react-icons/bi\";\r\n\r\nconst ProfileEdit = () => {\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n  const editId = searchParams.get(\"id\");      // for editing existing user\r\n\r\n  // side‑menu\r\n  const [isSidebarOpen, setSidebarOpen] = useState(true);\r\n  useEffect(() => {\r\n    if (window.innerWidth < 768) setSidebarOpen(false);\r\n  }, []);\r\n\r\n  // master data\r\n\r\n  // tag‑group picks\r\n\r\n  // form + passwords + loading\r\n  const [formData, setFormData] = useState({\r\n    userName: \"\",\r\n    FirstName: \"\",\r\n    LastName: \"\",\r\n    Mobile: \"\",\r\n    Email: \"\",\r\n    profileImage: \"\",\r\n  });\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confPassword, setConfPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const id=localStorage.getItem(\"id\")\r\n  // fetch lookups\r\n  const fetchCurrentUser = async () => {\r\n    setLoading(true);\r\n    \r\n   \r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      console.error(\"No token found. Redirecting to login...\");\r\n      navigate(\"/\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.get(\r\n          `admiaddinguser/profile`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      console.log(response)\r\n   \r\n    \r\n      }\r\n     catch (error) {\r\n      console.error(\"Error fetching roles:\", error.response?.data || error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchUser = async () => {\r\n    setLoading(true);\r\n    \r\n   \r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      console.error(\"No token found. Redirecting to login...\");\r\n      navigate(\"/\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.get(\r\n          `admiaddinguser/userlist`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      console.log(\"user\")\r\n      console.log(response)\r\n   \r\n    \r\n      }\r\n     catch (error) {\r\n      console.error(\"Error fetching roles:\", error.response?.data || error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  useEffect(()=>{\r\n    fetchUser();\r\n    fetchCurrentUser();\r\n  },[])\r\n\r\n \r\n\r\n\r\n\r\n  \r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setFormData(f => ({\r\n      ...f,\r\n      [name]: name === \"Mobile\" ? Number(value) : value\r\n    }));\r\n  };\r\n\r\n\r\n \r\n  const submit = async e => {\r\n    e.preventDefault();\r\n    if (password !== confPassword) {\r\n      return alert(\"Passwords do not match\");\r\n    }\r\n    setLoading(true);\r\n    const payload = {\r\n           ...formData,\r\n           Password: password,\r\n          // ← add this line so we can filter later\r\n           createdBy: localStorage.getItem(\"userId\")\r\n         };\r\n    try {\r\n      const headers = { Authorization: `Bearer ${localStorage.getItem(\"token\")}` };\r\n      if (editId) {\r\n        await axios.put(`admiaddinguser/${editId}`, payload, { headers });\r\n        alert(\"User updated\");\r\n      } else {\r\n        await axios.post(\"admiaddinguser/adduserbyadmin\", payload, { headers });\r\n        alert(\"User created\");\r\n      }\r\n      navigate(\"/admin/user/list\");\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <LoadingScreen />;\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-screen\">\r\n      <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\r\n      <div className=\"flex flex-grow\">\r\n        <Sidebar isSidebarOpen={isSidebarOpen} />\r\n        <form onSubmit={submit} className=\"flex-grow p-6 overflow-auto bg-gray-100\">\r\n          <header className=\"flex items-center justify-between mb-4\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold\">\r\n                     Edit User\r\n              </h1>\r\n              <p className=\"text-gray-600\">{editId ? \"Modify details\" : \"Fill in details\"}</p>\r\n            </div>\r\n            <nav className=\"flex items-center text-gray-500\">\r\n              <NavLink to=\"/dashboard\" className=\"flex items-center\">\r\n                <FaTachometerAlt className=\"mr-1\"/> Home\r\n              </NavLink>\r\n              <BiChevronRight className=\"mx-2\"/>\r\n              <NavLink to=\"/admin/user/list\">User List</NavLink>\r\n            </nav>\r\n          </header>\r\n\r\n          <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\r\n            {/* Left */}\r\n            <div className=\"space-y-4\">\r\n              {[\r\n                { label:\"Username\", name:\"userName\", req:true },\r\n                { label:\"First Name\", name:\"FirstName\", req:true },\r\n                { label:\"Last Name\", name:\"LastName\", req:true },\r\n                { label:\"Mobile\", name:\"Mobile\" },\r\n                { label:\"Email\", name:\"Email\", type:\"email\", req:true }\r\n              ].map(({ label,name,type=\"text\",req })=>(\r\n                <div key={name}>\r\n                  <label className=\"block font-semibold\">\r\n                    {label}{req && <span className=\"text-red-500\">*</span>}\r\n                  </label>\r\n                  <input\r\n                    type={type}\r\n                    name={name}\r\n                    value={formData[name]}\r\n                    onChange={handleChange}\r\n                    required={req}\r\n                    className=\"w-full p-2 border rounded\"\r\n                  />\r\n                </div>\r\n              ))}\r\n\r\n             \r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block font-semibold\">Password<span className=\"text-red-500\">*</span></label>\r\n                  <input\r\n                    type=\"password\"\r\n                    value={password}\r\n                    onChange={e=>setPassword(e.target.value)}\r\n                    required\r\n                    className=\"w-full p-2 border rounded\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block font-semibold\">Confirm<span className=\"text-red-500\">*</span></label>\r\n                  <input\r\n                    type=\"password\"\r\n                    value={confPassword}\r\n                    onChange={e=>setConfPassword(e.target.value)}\r\n                    required\r\n                    className=\"w-full p-2 border rounded\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right */}\r\n            <div className=\"space-y-4\">\r\n              {/* Warehouse group */}\r\n             \r\n\r\n             \r\n\r\n            \r\n              {/* Profile pic */}\r\n              <div>\r\n                <label className=\"block font-semibold\">Profile Picture</label>\r\n                <input\r\n                  type=\"file\"\r\n                  onChange={e=>{\r\n                    const file = e.target.files[0];\r\n                    if (!file) return;\r\n                    setFormData(f=>({\r\n                      ...f,\r\n                      profileImage: URL.createObjectURL(file)\r\n                    }));\r\n                  }}\r\n                  className=\"w-full p-2 border rounded\"\r\n                />\r\n                <div className=\"w-64 h-64 mt-2 overflow-hidden border rounded\">\r\n                  <img\r\n                    src={formData.profileImage||\"/userlogoprof.png\"}\r\n                    alt=\"\"\r\n                    className=\"object-cover w-full h-full\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* buttons */}\r\n          <div className=\"flex justify-center gap-4 mt-6\">\r\n            <button className=\"px-8 py-2 text-white bg-green-600 rounded\">\r\n              {editId ? \"Update\" : \"Save\"}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={()=>navigate(\"/admin/user/list\")}\r\n              className=\"px-8 py-2 text-white bg-orange-500 rounded\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileEdit;\r\n"],"names":["LoadingScreen","isSidebarOpen","setSidebarOpen","useState","_jsxs","className","children","_jsx","Navbar","Sidebar","ProfileEdit","navigate","useNavigate","searchParams","useSearchParams","editId","get","useEffect","window","innerWidth","formData","setFormData","userName","FirstName","LastName","Mobile","Email","profileImage","password","setPassword","confPassword","setConfPassword","loading","setLoading","localStorage","getItem","async","token","console","error","response","axios","headers","Authorization","log","_error$response2","data","message","fetchUser","_error$response","fetchCurrentUser","handleChange","e","name","value","target","f","Number","onSubmit","preventDefault","alert","payload","Password","createdBy","put","post","err","_err$response","_err$response$data","NavLink","to","FaTachometerAlt","BiChevronRight","label","req","type","map","_ref","onChange","required","file","files","URL","createObjectURL","src","alt","onClick"],"sourceRoot":""}