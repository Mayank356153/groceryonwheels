"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5773],{14840:(e,a,s)=>{s.d(a,{A:()=>i});var t=s(65043),r=s(21197),l=s(59255),n=s(70579);function i(){const[e,a]=(0,t.useState)(!1);return(0,n.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,n.jsx)(r.A,{isSidebarOpen:e,setSidebarOpen:a}),(0,n.jsxs)("div",{className:"flex flex-grow mt-20",children:[(0,n.jsx)("div",{children:(0,n.jsx)(l.A,{isSidebarOpen:e})}),(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin"}),(0,n.jsx)("p",{className:"mt-3 text-lg font-semibold text-gray-700",children:"Loading..."})]})})]})]})}},15773:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var t=s(65043),r=s(66727),l=s(86213),n=s(21197),i=s(59255),c=s(14840),d=s(60184),x=s(70579);const o=()=>{const{taxId:e}=(0,r.g)(),a=(0,r.Zp)(),[s,o]=(0,t.useState)(!0),[m,h]=(0,t.useState)(!1),[u,b]=(0,t.useState)({taxName:"",taxPercentage:0,status:"active"});(0,t.useEffect)((()=>{window.innerWidth<768&&o(!1)}),[]),(0,t.useEffect)((()=>{if(e){(async()=>{h(!0);try{const a=localStorage.getItem("token"),s=await l.A.get(`api/taxes/${e}`,{headers:{Authorization:`Bearer ${a}`}});b({taxName:s.data.data.taxName||"",taxPercentage:s.data.data.taxPercentage||0,status:s.data.data.status||"active"})}catch(a){console.error("Error fetching tax:",a.message)}finally{h(!1)}})()}}),[e]);const f=e=>{b({...u,[e.target.name]:e.target.value})};return m?(0,x.jsx)(c.A,{}):(0,x.jsxs)("div",{className:"flex flex-col h-screen bg-gray-100",children:[(0,x.jsx)(n.A,{isSidebarOpen:s,setSidebarOpen:o}),(0,x.jsxs)("div",{className:"flex flex-grow",children:[(0,x.jsx)(i.A,{isSidebarOpen:s}),(0,x.jsxs)("div",{className:"flex-grow  flex flex-col p-4 md:p-6 ",children:[(0,x.jsxs)("header",{className:"flex flex-col items-center justify-between p-4 mb-2 bg-white rounded-md shadow sm:flex-row",children:[(0,x.jsxs)("div",{className:"flex items-baseline gap-2 sm:flex-row",children:[(0,x.jsx)("h1",{className:"text-xl font-semibold",children:e?"Edit Tax":"Add Tax"}),(0,x.jsx)("span",{className:"text-sm text-gray-600",children:e?"Update Tax":"Create Tax"})]}),(0,x.jsxs)("nav",{className:"flex items-center text-sm text-gray-500",children:[(0,x.jsxs)("a",{href:"/dashboard",className:"flex items-center text-gray-700 no-underline hover:text-cyan-600",children:[(0,x.jsx)(d.$BV,{className:"mr-2"})," Home"]}),(0,x.jsx)("span",{className:"mx-2",children:"/"}),(0,x.jsx)("a",{href:"/tax-list",className:"text-gray-700 no-underline hover:text-cyan-600",children:"Tax List"})]})]}),(0,x.jsx)("div",{className:"p-6 bg-white rounded shadow-md",children:(0,x.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),h(!0);try{const s=localStorage.getItem("token");e?(await l.A.put(`api/taxes/${e}`,u,{headers:{Authorization:`Bearer ${s}`}}),alert("Tax updated successfully!")):(await l.A.post("api/taxes",u,{headers:{Authorization:`Bearer ${s}`}}),alert("Tax created successfully!")),a("/tax-list")}catch(t){console.error("Error submitting tax:",t.message),alert("Error submitting tax")}finally{h(!1)}},children:[(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block mb-2 font-semibold",children:"Tax Name"}),(0,x.jsx)("input",{type:"text",name:"taxName",value:u.taxName,onChange:f,className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block mb-2 font-semibold",children:"Tax Percentage (%)"}),(0,x.jsx)("input",{type:"number",name:"taxPercentage",value:u.taxPercentage,onChange:f,className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block mb-2 font-semibold",children:"Status"}),(0,x.jsxs)("select",{name:"status",value:u.status,onChange:f,className:"w-full p-2 border border-gray-300 rounded",children:[(0,x.jsx)("option",{value:"active",children:"Active"}),(0,x.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,x.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,x.jsx)("button",{type:"submit",className:"px-4 py-2 font-semibold text-white bg-green-500 rounded hover:bg-green-600",children:e?"Update Tax":"Save Tax"}),(0,x.jsx)("button",{type:"button",onClick:()=>a("/tax-list"),className:"px-4 py-2 font-semibold text-white bg-orange-500 rounded hover:bg-orange-600",children:"Close"})]})]})})]})]})]})}}}]);
//# sourceMappingURL=5773.c7a2b11e.chunk.js.map