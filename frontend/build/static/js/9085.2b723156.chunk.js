"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9085],{21830:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(65043),l=a(70579);function r(e){let{id:t=" ",type:a="text",label_class:r="",label:n,className:d="",placeholder:c="",div_class:o="",...i}=e;const u=(0,s.useId)();return(0,l.jsxs)("div",{className:o,children:[" ",n?(0,l.jsx)("label",{className:r,htmlFor:" "===t?u:t,children:n}):null," ",(0,l.jsx)("input",{type:a,id:" "===t?u:t,placeholder:c,className:d,...i})]})}},53888:(e,t,a)=>{a.d(t,{A:()=>l});a(65043);var s=a(70579);function l(e){let{text:t,type:a="button",className:l,...r}=e;return(0,s.jsx)("button",{className:`${l}`,...r,children:t})}},69085:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var s=a(65043),l=a(86213),r=a(66727),n=a(60184),d=a(21197),c=a(59255),o=a(21830),i=a(53888),u=a(70579);const x=l.A.create({baseURL:"/vps/api"});function m(){const[e,t]=(0,s.useState)(!0),[a,l]=(0,s.useState)({label:"",street:"",area:"",city:"",state:"",country:"",postalCode:"",isDefault:!1,lat:"",lng:""}),[m,p]=(0,s.useState)(!1),[b,h]=(0,s.useState)(null),g=e=>{const{name:t,value:a,type:s,checked:r}=e.target;l((e=>({...e,[t]:"checkbox"===s?r:a})))};return(0,u.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,u.jsx)(d.A,{isSidebarOpen:e,setSidebarOpen:t}),(0,u.jsxs)("div",{className:"flex flex-1",children:[(0,u.jsx)(c.A,{isSidebarOpen:e}),(0,u.jsxs)("main",{className:"flex-1 p-6 bg-gray-100 overflow-auto",children:[(0,u.jsxs)("div",{className:"flex justify-between items-end mb-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-2xl font-semibold",children:"Add Address"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Enter address & optional coordinates"})]}),(0,u.jsxs)(r.k2,{to:"/dashboard",className:"flex items-center text-gray-700 no-underline hover:underline",children:[(0,u.jsx)(n.$BV,{className:"mr-1"}),"Home"]})]}),(0,u.jsxs)("div",{className:"bg-white p-6 rounded shadow-md max-w-3xl mx-auto",children:[b&&(0,u.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:b}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(!0),h(null);try{const e={...a};e.lat&&e.lng||(delete e.lat,delete e.lng),await x.post("/addresses",e),l({label:"",street:"",area:"",city:"",state:"",country:"",postalCode:"",isDefault:!1,lat:"",lng:""}),alert("Address saved")}catch{h("Failed to save address. Please check your input.")}finally{p(!1)}},onReset:()=>{l({label:"",street:"",area:"",city:"",state:"",country:"",postalCode:"",isDefault:!1,lat:"",lng:""}),h(null)},children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[[["label","Label","text",!0],["street","Street","text",!0],["area","Area (opt.)","text",!1],["city","City","text",!0],["state","State","text",!0],["country","Country","text",!0],["postalCode","Postal Code","text",!0]].map((e=>{let[t,s,l,r]=e;return(0,u.jsx)(o.A,{name:t,label:s,type:l,value:a[t],onChange:g,required:r,className:"block w-full p-2 border border-gray-300 rounded"},t)})),(0,u.jsx)(o.A,{name:"lat",label:"Latitude (opt.)",type:"number",step:"any",value:a.lat,onChange:g,className:"block w-full p-2 border border-gray-300 rounded"}),(0,u.jsx)(o.A,{name:"lng",label:"Longitude (opt.)",type:"number",step:"any",value:a.lng,onChange:g,className:"block w-full p-2 border border-gray-300 rounded"}),(0,u.jsx)("div",{className:"flex items-center col-span-full",children:(0,u.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700",children:[(0,u.jsx)("input",{type:"checkbox",name:"isDefault",checked:a.isDefault,onChange:g,className:"mr-2 h-4 w-4 text-blue-600 border-gray-300 rounded"})," Set as default"]})})]}),(0,u.jsxs)("div",{className:"flex justify-center gap-4 mt-6",children:[(0,u.jsx)(i.A,{type:"submit",text:m?"Saving\u2026":"Add",disabled:m,className:"px-10 py-2 text-white bg-green-500 rounded hover:bg-green-600 disabled:opacity-50"}),(0,u.jsx)(i.A,{type:"reset",text:"Reset",className:"px-10 py-2 text-white bg-orange-500 rounded hover:bg-orange-600"})]})]})]})]})]})]})}x.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}))}}]);
//# sourceMappingURL=9085.2b723156.chunk.js.map