{"version":3,"file":"static/js/9905.c093dbc3.chunk.js","mappings":"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","sources":["Loading.jsx","components/purchase/PurchaseReturnsList.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nexport default function LoadingScreen() {\n    const[isSidebarOpen,setSidebarOpen]=useState(false)\n    return (\n        <div className='flex flex-col h-screen'>\n        {/* Navbar component with sidebar open state */}\n        <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\n        <div className='flex flex-grow mt-20'>\n          <div>\n            {/* Sidebar component with open state */}\n            <Sidebar isSidebarOpen={isSidebarOpen} />\n          </div>\n  \n          {/* Container for the entire component */}\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm\">\n          <div className=\"flex flex-col items-center\">\n            <div className=\"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin\"></div>\n            <p className=\"mt-3 text-lg font-semibold text-gray-700\">Loading...</p>\n          </div>\n        </div>\n          \n        </div>\n      </div>\n    );\n  }\n  ","import React, {useEffect, useState} from 'react';\r\nimport { ShoppingBagIcon, CashIcon} from \"@heroicons/react/outline\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMoneyBill } from \"@fortawesome/free-solid-svg-icons\";\r\nimport {FaDollarSign ,FaTrash} from 'react-icons/fa';\r\nimport { Link } from 'react-router-dom';\r\nimport { FaTachometerAlt } from \"react-icons/fa\";\r\nimport { faBuilding } from \"@fortawesome/free-regular-svg-icons\";\r\nimport Navbar from \"../Navbar.jsx\";\r\nimport Sidebar from \"../Sidebar.jsx\";\r\nimport axios from 'axios';\r\nimport Select from 'react-select'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport LoadingScreen from '../../Loading.jsx';\r\nconst PurchaseOverview = () => {\r\n  const[loading,setLoading]=useState(false)\r\n  const[warehouse,setWarehouse]=useState([])\r\n  const[show,setShow]=useState(null)\r\n  const [isSidebarOpen, setSidebarOpen] = useState(true);\r\n const [searchTerm, setSearchTerm] = useState(\"\");\r\n const [currentPage, setCurrentPage] = useState(1);\r\n  const [entriesPerPage, setEntriesPerPage] = useState(10);\r\nconst[purchaseReturn,setPurchaseReturn]=useState([])\r\nconst[invoiceNumber,setInvoiceNumber]=useState(0)\r\nconst[totalInvoice,setTotalInvoice]=useState(0)\r\nconst[totalPaid,setTotalPaid]=useState(0)\r\n// … inside PurchaseOverview component\r\nconst [localPermissions, setLocalPermissions] = useState([]);\r\nuseEffect(() => {\r\n  const stored = localStorage.getItem(\"permissions\");\r\n  if (stored) setLocalPermissions(JSON.parse(stored));\r\n}, []);\r\nfunction hasPermissionFor(module, action) {\r\n  const role = (localStorage.getItem(\"role\") || \"guest\").toLowerCase();\r\n  if (role === \"admin\") return true;\r\n  return localPermissions.some(p =>\r\n    p.module.toLowerCase() === module.toLowerCase() &&\r\n    p.actions.map(a => a.toLowerCase()).includes(action.toLowerCase())\r\n  );\r\n}\r\n\r\nconst navigate=useNavigate();\r\nconst[dropdownIndex,setDropdownIndex]=useState(null)\r\n useEffect(()=>{\r\n    if(window.innerWidth < 768){\r\n      setSidebarOpen(false)\r\n    }\r\n  },[])\r\n//Fetch Purchase\r\nconst fetchPurchaseReturnList = async ()=>{\r\n  setLoading(true)\r\n  const token=localStorage.getItem(\"token\")\r\n  if(!token){\r\n    console.log (\"No token found redirecting...\")\r\n    navigate(\"/\")\r\n    return ;\r\n  }\r\n  try {\r\n    const response = await axios.get(\"api/purchases/purchase-returns\", {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    console.log(\"Purchase List\")\r\n    console.log(response.data)\r\n   if(response.data.data) setPurchaseReturn(response.data.data)\r\n  } catch (error) {\r\n    alert(error.message)\r\n  }\r\n  finally{\r\n    setLoading(false)\r\n  }\r\n}\r\n\r\n\r\n//Fetch Warehouse\r\nconst fetchWarehouses=async ()=>{\r\n  setLoading(true)\r\n  const token=localStorage.getItem(\"token\")\r\n  if(!token){\r\n    console.log (\"No token found redirecting...\")\r\n    navigate(\"/\")\r\n    return ;\r\n  }\r\n  try {\r\n    const response = await axios.get(\"api/warehouses\", {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    console.log(\"Warehouse\")\r\n    console.log(response.data);\r\n    if (response.data.data) {\r\n    // Extract suppliers from API response\r\n    const newwarehouse = response.data.data.map((warehouse) => ({\r\n      label: warehouse.warehouseName,\r\n      value: warehouse._id,\r\n    }));\r\n    \r\n    setWarehouse(newwarehouse)\r\n  }\r\n  } catch (error) {\r\n    alert(error.message)\r\n  }finally{\r\n    setLoading(false)\r\n  }}\r\n  \r\n  \r\n  //calculate Total Invoice\r\n  const calculateTotalInvoice = () => {\r\n    const filteredList = show === \"all\" || !show \r\n      ? purchaseReturn \r\n      : purchaseReturn.filter(item => item.warehouse?._id === show);\r\n  \r\n    const totalGrandTotal = filteredList.reduce((sum, item) => sum + (item.grandTotal || 0), 0);\r\n  \r\n    setTotalInvoice(totalGrandTotal);\r\n    console.log(totalGrandTotal)\r\n  };\r\n\r\n  //Total Paid Payment\r\n  const calculateTotalPaid = () => {\r\n    if (!purchaseReturn || purchaseReturn.length === 0) {\r\n      setTotalPaid(0);\r\n      return;\r\n    }\r\n  \r\n    const filteredList = show === \"all\" || !show \r\n      ? purchaseReturn \r\n      : purchaseReturn.filter(item => item.warehouse?._id === show);\r\n  \r\n    const totalPaid = filteredList.reduce((sum, item) => {\r\n      // Ensure `payments` array exists and has at least one element before accessing [0]\r\n      const paidAmount = item.payments?.length > 0 ? item.payments[0].amount || 0 : 0;\r\n      return sum + paidAmount;\r\n    }, 0);\r\n  \r\n    setTotalPaid(totalPaid);\r\n    console.log(totalPaid);\r\n  };\r\n\r\n\r\n  //calculate total invoices\r\n  const calculateTotalInvoiceNumber = () => {\r\n    const filteredList = show === \"all\" || !show \r\n      ? purchaseReturn \r\n      : purchaseReturn.filter(item => item.warehouse?._id === show);\r\n  \r\n  \r\n    setInvoiceNumber(filteredList.length);\r\n  };\r\n  \r\n  //Delete return Purchase\r\n  \r\nconst handledelete = async (id) => {\r\n  const conf = window.confirm(\"Do you want to delete this supplier?\");\r\n  if (!conf) return;\r\n setLoading(true)\r\n  try {\r\n      const response = await fetch(`api/purchases/${id}`, {\r\n          method: \"DELETE\",\r\n          headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n      });\r\n\r\n      if (!response.ok) {\r\n          throw new Error(\"Failed to delete supplier\");\r\n      }\r\n\r\n      console.log(\"Purchase deleted successfully!\");\r\n       fetchPurchaseReturnList();\r\n      // // Update state without fetching again\r\n      // setUsers((prevUsers) => prevUsers.filter(user => user._id !== id));\r\n\r\n  } catch (error) {\r\n      console.error(\"Error deleting purchase:\", error.message);\r\n  }\r\n  finally{\r\n    setLoading(false)\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n  \r\n\r\n  \r\n\r\nuseEffect(()=>{\r\n  fetchPurchaseReturnList();\r\n  fetchWarehouses();\r\n},[])\r\nuseEffect(()=>{\r\n  calculateTotalInvoice();\r\n  calculateTotalPaid();\r\n  calculateTotalInvoiceNumber();\r\n},[purchaseReturn,show])\r\n\r\n\r\nconst filteredData = \r\npurchaseReturn.filter(item => \r\n  item.purchaseCode?.toLowerCase().includes(searchTerm.toLowerCase()) || \r\n  item.referenceNo.toLowerCase().includes(searchTerm.toLowerCase())\r\n);\r\n\r\nconst indexOfLastEntry = currentPage * entriesPerPage;\r\nconst indexOfFirstEntry = indexOfLastEntry - entriesPerPage;\r\nconst currentEntries = filteredData.slice(indexOfFirstEntry, indexOfLastEntry);\r\n\r\nconst totalPages = Math.ceil(filteredData.length / entriesPerPage);\r\n\r\nconst handlePageChange = (pageNumber) => {\r\n  setCurrentPage(pageNumber);\r\n};\r\n\r\n\r\n\r\n\r\n\r\nif(loading) <LoadingScreen />\r\n  \r\n  return (\r\n<div className=\"flex flex-col h-screen\">\r\n          {/* Navbar */}\r\n          <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\r\n              {/* Main Content */}\r\n              <div className=\"flex flex-grow\">\r\n                {/* Sidebar */}\r\n            \r\n              {/* Sidebar component with open state */}\r\n              <div className=\"w-auto\">\r\n                \r\n              <Sidebar isSidebarOpen={isSidebarOpen} />\r\n              </div>\r\n              \r\n                 {/* Content */}\r\n         <div className={`overflow-x-auto  flex flex-col p-2 md:p-2 min-h-screen w-full`}>\r\n          {/* ----------------header----------------------------------- */}\r\n        <header className=\"flex flex-col items-center justify-between p-4 mb-6 bg-gray-100 rounded-lg md:flex-row\">\r\n          <div className='flex items-baseline'>\r\n                <h1 className=\"text-2xl font-semibold\">Purchase Returns List </h1>\r\n                <span className=\"text-gray-500 text-sm/6\">View/Search Purchase</span>\r\n          </div>\r\n                <div className=\"flex items-center space-x-2 text-blue-600\">\r\n                    <Link to=\"/dashboard\" className=\"flex items-center text-gray-500 no-underline hover:text-cyan-600 text-sm/6\">\r\n                    <FaTachometerAlt className=\"mr-2 text-gray-500 hover:text-cyan-600\"/> Home\r\n                    </Link>\r\n                    <span className=\"text-gray-400\">{\">\"}</span>\r\n                    <Link to=\"/purchasereturn-list\" className=\"text-gray-500 no-underline hover:text-cyan-600 text-sm/6\">Purchase Returns List</Link>\r\n                </div>\r\n</header>  \r\n    \r\n<div className=\"flex flex-col gap-4\">\r\n{/* Cards Container */}\r\n<div className=\"grid grid-cols-1 gap-4 lg:grid-cols-2\">\r\n  {/* Total Invoices Card */}\r\n  <div className=\"flex items-center text-black bg-white rounded-lg shadow-md \">\r\n    <ShoppingBagIcon className=\"w-16 text-white rounded bg-cyan-500\" />\r\n   <div className=\"flex flex-col justify-center ml-4\">\r\n    <h2 className=\"text-xl\">{invoiceNumber}</h2>\r\n    <p>Total Invoices</p>\r\n    </div>\r\n  </div>\r\n  {/* Total Paid Amount Card */}\r\n  <div className=\"flex items-center text-black bg-white rounded-lg shadow-md\">\r\n    < FaDollarSign className='w-16 h-16 text-white rounded bg-cyan-500'/>\r\n    <div className=\"flex flex-col justify-center ml-4\">\r\n    <h2 className=\"text-xl\">₹{totalPaid}</h2>\r\n    <p>Total Paid Amount</p>\r\n    </div>\r\n  </div>\r\n  {/* Total Invoices Amount Card */}\r\n  <div className=\"flex items-center text-black bg-white rounded-lg shadow-md\">\r\n    <FontAwesomeIcon icon={faMoneyBill} className=\"w-16 h-16 text-white rounded bg-cyan-500\" />\r\n    <div className=\"flex flex-col justify-center ml-4\">\r\n    <h2 className=\"text-xl\">₹{totalInvoice}</h2>\r\n    <p>Total Invoices Amount</p>\r\n    </div>\r\n  </div>\r\n  {/* Total Purchase Due Card */}\r\n  <div className=\"flex items-center text-black bg-white rounded-lg shadow-md\">\r\n  <CashIcon className=\"h-16 text-white rounded bg-cyan-500 w-18\" />\r\n    <div className=\"flex flex-col justify-center ml-4\">\r\n    <h2 className=\"text-xl\">₹{totalInvoice-totalPaid}</h2>\r\n    <p>Total Purchase Due</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n\r\n {/* ------------------------------------------- */}\r\n<div className=\"flex flex-col items-center justify-between w-full gap-4 mt-3 md:flex-row md:gap-28\">\r\n  {/* Left Section (Dropdown + Icon) */}\r\n  <div className=\"flex w-full px-4 py-2 bg-white border border-gray-300 rounded-md md:w-64\">\r\n    <div className=\"flex items-center w-full gap-4\">\r\n      <FontAwesomeIcon icon={faBuilding} className=\"w-5 h-5 text-red-500\" />\r\n      {/* <select\r\n        className=\"flex-grow text-gray-700 bg-transparent outline-none cursor-pointer\"\r\n        value={selectedWarehouse}\r\n        onChange={(e) => setSelectedWarehouse(e.target.value)}\r\n      >\r\n        {warehouses.map((warehouse, index) => (\r\n          <option key={index} value={warehouse}>\r\n            {warehouse}\r\n          </option>\r\n        ))}\r\n      </select> */}\r\n       <select\r\n        className=\"flex-grow text-gray-700 bg-transparent outline-none cursor-pointer\"\r\n        \r\n        onChange={(e)=> setShow(e.target.value)}\r\n      > <option value=\"all\">All Warehouse</option>\r\n        {warehouse.map((warehouse, index) => (\r\n          <option key={index} value={warehouse.value}>\r\n            {warehouse.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  </div>\r\n\r\n  {/* Right Section (Create Button) */}\r\n  {hasPermissionFor(\"Purchases\",\"Add\") && (\r\n  <button className=\"w-full px-2 py-2 text-white transition rounded-md md:w-auto bg-cyan-300 hover:bg-cyan-500\" onClick={()=> navigate(\"/purchase-return\")}>\r\n    <span className='text-xl font-'>+ </span>Create Purchase\r\n  </button>\r\n  )}\r\n</div>\r\n{/* ------------------------------------------------------------------ */}\r\n<div className=\"flex flex-col justify-between mt-4 mb-4 space-y-2 md:flex-row md:space-y-0 md:items-center\">\r\n              <div className=\"flex items-center px-2 space-x-2\">\r\n                <span className=\"text-sm\">Show</span>\r\n                <select className=\"p-2 text-sm border border-gray-300 rounded-md\" value={entriesPerPage} onChange={(e)=>setEntriesPerPage(e.target.value)}>\r\n                  <option value='10'>10</option>\r\n                  <option value='20'>20</option>\r\n                  <option value='50'>50</option>\r\n                </select>\r\n                <span className=\"text-sm\">Entries</span>\r\n              </div>\r\n              <div className=\"flex flex-col gap-2 md:flex-row\">\r\n                <div className='flex items-center justify-between flex-1 gap-2 px-2'>\r\n                <button \r\n                // onClick={handleCopy}\r\n                 className=\"px-3 py-2 text-sm text-white bg-cyan-500\">Copy</button>\r\n                <button \r\n                // onClick={handleExcelDownload}\r\n                 className=\"px-3 py-2 text-sm text-white bg-cyan-500\">Excel</button>\r\n                <button\r\n                //  onClick={handlePdfDownload}\r\n                  className=\"px-3 py-2 text-sm text-white bg-cyan-500\">PDF</button>\r\n                <button \r\n                // onClick={handlePrint}\r\n                 className=\"px-3 py-2 text-sm text-white bg-cyan-500\">Print</button>\r\n                <button \r\n                // onClick={handleCsvDownload}\r\n                 className=\"px-3 py-2 text-sm text-white bg-cyan-500\">CSV</button>\r\n                </div>\r\n                <input type=\"text\" placeholder=\"Search\" className=\"w-full p-2 text-sm border border-gray-300 rounded-sm \" onChange={(e) => setSearchTerm(e.target.value)} />\r\n              </div>\r\n            </div>\r\n{/* ------------------------------------------------------------------- */}\r\n      <div className=\"mt-6 overflow-x-auto\">\r\n        <table className=\"min-w-full bg-white border border-gray-300 shadow-sm\">\r\n          <thead className=\"bg-gray-200\">\r\n            <tr>\r\n              {[\r\n                'Date', 'Purchase Code', 'Return Status', 'Reference No.',\r\n                'Supplier Name', 'Total', 'Paid Payment', 'Payment Status', 'Created by', 'Action'\r\n              ].map((header) => (\r\n                <th key={header} className=\"px-4 py-2 font-medium text-left border\">{header}</th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n             { (show === \"all\" || !show ? currentEntries : currentEntries.filter(item => item.warehouse?._id === show)).length > 0 \r\n    ? (show === \"all\" || !show ? currentEntries : currentEntries.filter(item => item.warehouse?._id === show))\r\n      .map((item) => (\r\n        <tr className=\"font-bold bg-gray-100\" key={item._id}>\r\n          <td className=\"px-4 py-2 font-medium text-left border\">{new Date(item.purchaseDate).toLocaleDateString()}</td>\r\n          <td className=\"px-4 py-2 font-medium text-left border\">{item.purchaseCode || \"No purchaseCode found\"}</td>\r\n          <td className=\"px-4 py-2 font-medium text-left border\">{item.status}</td>\r\n          <td className=\"px-4 py-2 font-medium text-left border\">{item.referenceNo}</td>\r\n          <td className=\"px-4 py-2 font-medium text-left border\">\r\n  {item.supplier?.email ? item.supplier.email : \"No supplier\"}\r\n</td>\r\n          <td className=\"px-4 py-2 font-medium text-left border\">{item.grandTotal}</td>\r\n          <td className=\"px-4 py-2 font-medium text-left border\">\r\n            {item.payments?.length > 0 ? `${item.payments[0].amount.toFixed(2)}` : 0}\r\n          </td>\r\n          <td className=\"px-4 py-2 font-medium text-left border\">\r\n            {item.payments?.length > 0 ? `${item.payments[0].paymentNote}` : \"No Status\"}\r\n          </td>\r\n          <td className=\"px-4 py-2 font-medium text-left border\">{item.creatorName || item.createdByModel}</td>\r\n          <td className=\"relative px-4 py-2 border\">\r\n  <button\r\n    onClick={() => {\r\n      setDropdownIndex(dropdownIndex === item._id ? null : item._id);\r\n    }}\r\n    className=\"px-3 py-1 text-white transition rounded bg-cyan-600 hover:bg-cyan-700\"\r\n  >\r\n    Action ▼\r\n  </button>\r\n\r\n  {dropdownIndex === item._id && (\r\n    <div\r\n      className=\"absolute right-0 z-50 mt-2 bg-white border border-gray-200 rounded-md shadow-lg w-36 animate-fade-in\"\r\n    >\r\n       {hasPermissionFor(\"Purchases\",\"Delete\") && (\r\n        <button\r\n        className=\"flex items-center w-full px-3 py-2 text-red-600 hover:bg-gray-100\"\r\n        onClick={() => handledelete(item._id)}\r\n      >\r\n        <FaTrash className=\"mr-2\" /> Delete\r\n      </button>\r\n      )}\r\n    </div>\r\n  )}\r\n</td>\r\n\r\n        </tr>\r\n      ))\r\n    : (\r\n      <tr>\r\n        <td colSpan=\"10\" className=\"py-4 font-semibold text-center border\">No Data Available</td>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      <div className=\"flex items-center justify-between mt-6 text-gray-700\">\r\n        <span>Showing 1 to {currentEntries.length} of {entriesPerPage} entries</span>\r\n        <div className=\"flex gap-2\">\r\n          <button className=\"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100\"   onClick={() => handlePageChange(currentPage - 1)} \r\n        disabled={currentPage === 1}>Previous</button>\r\n         {[...Array(totalPages)].map((_, index) => (\r\n        <button \r\n          key={index} \r\n          onClick={() => handlePageChange(index + 1)}\r\n          className={currentPage === index + 1 ? \"active\" : \"\"}\r\n        >\r\n          {index + 1}\r\n        </button>\r\n      ))}\r\n          <button className=\"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100\"  onClick={() => handlePageChange(currentPage + 1)} \r\n        disabled={currentPage === totalPages}>Next</button>\r\n        </div>\r\n      </div>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PurchaseOverview;\r\n"],"names":["LoadingScreen","isSidebarOpen","setSidebarOpen","useState","_jsxs","className","children","_jsx","Navbar","Sidebar","PurchaseOverview","loading","setLoading","warehouse","setWarehouse","show","setShow","searchTerm","setSearchTerm","currentPage","setCurrentPage","entriesPerPage","setEntriesPerPage","purchaseReturn","setPurchaseReturn","invoiceNumber","setInvoiceNumber","totalInvoice","setTotalInvoice","totalPaid","setTotalPaid","localPermissions","setLocalPermissions","hasPermissionFor","module","action","localStorage","getItem","toLowerCase","some","p","actions","map","a","includes","useEffect","stored","JSON","parse","navigate","useNavigate","dropdownIndex","setDropdownIndex","window","innerWidth","fetchPurchaseReturnList","async","token","console","log","response","axios","get","headers","Authorization","data","error","alert","message","newwarehouse","label","warehouseName","value","_id","fetchWarehouses","calculateTotalInvoice","totalGrandTotal","filter","item","_item$warehouse","reduce","sum","grandTotal","calculateTotalPaid","length","_item$warehouse2","_item$payments","payments","amount","calculateTotalInvoiceNumber","filteredList","_item$warehouse3","filteredData","_item$purchaseCode","purchaseCode","referenceNo","indexOfLastEntry","indexOfFirstEntry","currentEntries","slice","totalPages","Math","ceil","handlePageChange","pageNumber","Link","to","FaTachometerAlt","ShoppingBagIcon","FaDollarSign","FontAwesomeIcon","icon","faMoneyBill","CashIcon","faBuilding","onChange","e","target","index","onClick","type","placeholder","header","_item$warehouse4","_item$warehouse5","_item$supplier","_item$payments2","_item$payments3","Date","purchaseDate","toLocaleDateString","status","supplier","email","toFixed","paymentNote","creatorName","createdByModel","confirm","fetch","id","method","ok","Error","handledelete","FaTrash","colSpan","disabled","Array","_"],"sourceRoot":""}