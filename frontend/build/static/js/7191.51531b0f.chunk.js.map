{"version":3,"file":"static/js/7191.51531b0f.chunk.js","mappings":"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","sources":["Loading.jsx","components/Stock/AdjustmentList.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nexport default function LoadingScreen() {\n    const[isSidebarOpen,setSidebarOpen]=useState(false)\n    return (\n        <div className='flex flex-col h-screen'>\n        {/* Navbar component with sidebar open state */}\n        <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\n        <div className='flex flex-grow mt-20'>\n          <div>\n            {/* Sidebar component with open state */}\n            <Sidebar isSidebarOpen={isSidebarOpen} />\n          </div>\n  \n          {/* Container for the entire component */}\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm\">\n          <div className=\"flex flex-col items-center\">\n            <div className=\"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin\"></div>\n            <p className=\"mt-3 text-lg font-semibold text-gray-700\">Loading...</p>\n          </div>\n        </div>\n          \n        </div>\n      </div>\n    );\n  }\n  ","import React, { useState, useEffect } from 'react';\r\nimport { BiChevronRight } from 'react-icons/bi';\r\nimport { FaTachometerAlt, FaEdit, FaTrash } from 'react-icons/fa';\r\nimport Navbar from \"../Navbar.jsx\";\r\nimport Sidebar from \"../Sidebar.jsx\";\r\nimport axios from 'axios';\r\nimport { jsPDF } from \"jspdf\";\r\nimport autoTable from 'jspdf-autotable';\r\nimport * as XLSX from 'xlsx';\r\nimport LoadingScreen from '../../Loading.jsx';\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\nconst StockAdjustmentList = () => {\r\n  const navigate=useNavigate()\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [entriesPerPage,setEntriesPerPage] = useState(10);\r\n  const [isSidebarOpen, setSidebarOpen] = useState(true);\r\n  const [selectedAdjustments, setSelectedAdjustments] = useState({});\r\nconst[show,setShow]=useState(\"all\")\r\nconst[loading,setLoading]=useState(false)\r\n  const [adjustments, setAdjustments] = useState([]);\r\nconst[warehouse,setWarehouse]=useState([])\r\nconst[searchTerm,setSearchTerm]=useState(\"\")\r\nconst[dropdownIndex,setDropdownIndex]=useState(null)\r\n useEffect(()=>{\r\n    if(window.innerWidth < 768){\r\n      setSidebarOpen(false)\r\n    }\r\n  },[])\r\n\r\n\r\n  const handleCheckboxChange = (e, index) => {\r\n    const newSelectedAdjustments = { ...selectedAdjustments, [index]: e.target.checked };\r\n    setSelectedAdjustments(newSelectedAdjustments);\r\n  };\r\n\r\n  \r\n \r\n  const fetchExpenses = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const token = localStorage.getItem(\"token\");\r\n      const response = await axios.get(`api/stock-adjustments`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      console.log(response.data);\r\n      setAdjustments(response.data.data);\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    } \r\n    finally{\r\n      setLoading(false)\r\n    }\r\n  };\r\n\r\n  const filteredData = adjustments.filter(item => \r\n    // item.customer.customerName.toLowerCase().includes(searchTerm.toLowerCase()) || \r\n    item._id.toLowerCase().includes(searchTerm.toLowerCase()) &&\r\n   (  show===\"\" || show===\"all\"  || show===item.warehouse._id)\r\n  );\r\n  const indexOfLastItem = currentPage * entriesPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - entriesPerPage;\r\n  const totalPages = Math.ceil(filteredData.length / entriesPerPage);\r\n  const currentUsers = filteredData.slice((currentPage-1)*entriesPerPage, currentPage* entriesPerPage);\r\n  \r\n  const handlePageChange = (newPage) =>  {\r\n    if(newPage >=1 && newPage <=totalPages )\r\n    setCurrentPage(newPage);\r\n  }\r\n  const handleEntriesChange=(e)=>{\r\n    setEntriesPerPage(Number(e.target.value))\r\n    setCurrentPage(1)\r\n  }\r\n  \r\n\r\n\r\n  \r\n  const fetchWareHouse = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const token = localStorage.getItem(\"token\");\r\n      const response = await axios.get(\"api/warehouses\", {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      console.log(response.data);\r\n      const newWarehouse = response.data.data.map((wh) => ({\r\n        label: wh.warehouseName,\r\n        value: wh._id,\r\n      }));\r\n      setWarehouse(newWarehouse);\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    } \r\n    finally{\r\n      setLoading(false)\r\n    }\r\n  };\r\n\r\n\r\n const handleCopy = () => {\r\n    const data = filteredData.map(adjustment => `${new Date(adjustment.adjustmentDate).toDateString()},${adjustment.referenceNo},${adjustment.createdBy}`).join('\\n');\r\n    navigator.clipboard.writeText(data);\r\n    alert(\"Data copied to clipboard!\");\r\n  };\r\n\r\n  const handleExcelDownload = () => {\r\n    const ws = XLSX.utils.json_to_sheet(filteredData);\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, \"adjustmentlist list\");\r\n    XLSX.writeFile(wb, \"adjustmentlist.xlsx\");\r\n  };\r\n\r\n  const handleCsvDownload = () => {\r\n    const csvContent = \"data:text/csv;charset=utf-8,\" + filteredData.map(user => Object.values(user).join(\",\")).join(\"\\n\");\r\n    const encodedUri = encodeURI(csvContent);\r\n    const link = document.createElement(\"a\");\r\n    link.setAttribute(\"href\", encodedUri);\r\n    link.setAttribute(\"download\", \"stockAdjustmentlist.csv\");\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n\r\n  const handlePrint = () => {\r\n    window.print();\r\n  };\r\n\r\n\r\n const handlePdfDownload = () => {\r\n    const doc = new jsPDF();\r\n    doc.text(\"Customer List\", 20, 20);\r\n    const tableData = filteredData.map(adjustment => [\r\n      new Date(adjustment.adjustmentDate).toDateString(),\r\n      adjustment.referenceNo,\r\n      adjustment.createdBy\r\n    ]);\r\n\r\n    autoTable(doc, {\r\n      head: [['Adjustment Date','Refernce No','Created By']],\r\n      body: tableData,\r\n    });\r\n\r\n    doc.save(\"advance_list.pdf\");\r\n  };\r\n  \r\n \r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        await fetchExpenses();\r\n        await fetchWareHouse();\r\n      } catch (error) {\r\n        console.log(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n  \r\n    fetchData();\r\n  }, []);\r\n\r\n const handledelete = async (id) => {\r\n  const conf = window.confirm(\"Do you want to delete this ?\");\r\n  if (!conf) return;\r\n  \r\n  try {\r\n      const response = await fetch(`api/stock-adjustments/${id}`, {\r\n          method: \"DELETE\",\r\n          headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n      });\r\n\r\n      if (!response.ok) {\r\n          throw new Error(\"Failed to delete \");\r\n      }\r\n  \r\n      console.log(\"Stock adjustment deleted successfully!\");\r\n      fetchExpenses();\r\n    } catch (error) {\r\n      console.error(\"Error deleting stock adjustment:\", error.message);\r\n    }\r\n  };\r\n\r\n   \r\n  return (\r\n    <div className=\"flex flex-col h-screen\">\r\n      {/* Navbar */}\r\n      <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\r\n      {/* Main Content */}\r\n      <div className=\"flex flex-grow md:flex-row\">\r\n        {/* Sidebar */}\r\n        <Sidebar isSidebarOpen={isSidebarOpen} />\r\n        {/* Content */}\r\n        <div className={`flex-grow  flex flex-col p-2 md:p-2 min-h-screen w-full`}>\r\n          <header className=\"flex items-center justify-between p-4 mb-2 bg-gray-100 rounded-md shadow sm:flex-row\">\r\n            <div className=\"flex flex-col items-center gap-1 text-center sm:flex-row sm:text-left\">\r\n              <h1 className=\"text-lg font-semibold truncate sm:text-xl\">Stock Adjustment List</h1>\r\n              <span className=\"text-xs text-gray-600 sm:text-sm\">View/Search Stock Adjustments</span>\r\n            </div>\r\n            <nav className=\"flex flex-wrap items-center justify-center mt-2 text-xs text-gray-500 sm:justify-start sm:text-sm sm:mt-0\">\r\n              <a href=\"/dashboard\" className=\"flex items-center text-gray-700 no-underline hover:text-cyan-600\">\r\n                <FaTachometerAlt className=\"mr-2 text-gray-500 hover:text-cyan-600\" /> Home\r\n              </a>\r\n              <BiChevronRight className=\"hidden mx-1 sm:mx-2 sm:inline\" />\r\n              {/* Use /stock-adjustment as the list route */}\r\n              <a href=\"/stock-adjustment\" className=\"text-gray-700 no-underline hover:text-cyan-600\">\r\n                Stock Adjustment\r\n              </a>\r\n            </nav>\r\n          </header>\r\n\r\n          <div className=\"flex flex-wrap-reverse items-center justify-between gap-2 p-4 mb-4 border-t-4 rounded-lg border-cyan-500\">\r\n            <div className=\"mr-4\">\r\n              <select className=\"p-2 border border-gray-300 rounded\" onChange={(e)=>setShow(e.target.value)}>\r\n                <option value=\"all\">-All Warehouses-</option>\r\n                {warehouse.map((wh, index) => (\r\n                  <option key={index} value={wh.value}>\r\n                    {wh.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div>\r\n            <Link\r\n                to=\"/stock-adjustment\"\r\n                className=\"flex items-center justify-center w-full px-2 text-white no-underline rounded-md bg-cyan-500 md:w-auto\"\r\n              >\r\n                <button className=\"w-full px-2 text-white rounded-md bg-cyan-500 md:w-auto\">\r\n                  + New Stock Adjustment\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n\r\n      <div className=\"flex flex-col justify-between mb-4 space-y-2 md:flex-row md:space-y-0 md:items-center\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <span className=\"text-sm\">Show</span>\r\n          <select className=\"p-2 text-sm border border-gray-300\" onChange={handleEntriesChange}>\r\n            <option>10</option>\r\n            <option>20</option>\r\n            <option>50</option>\r\n          </select>\r\n          <span className=\"text-sm\">Entries</span>\r\n        </div>\r\n        <div className=\"flex flex-wrap gap-0.5 \">\r\n        \r\n          <button className=\"px-4 py-2 text-sm text-white bg-cyan-500\"onClick={handleCopy}>Copy</button>\r\n          <button className=\"px-4 py-2 text-sm text-white bg-cyan-500\"onClick={handleExcelDownload}>Excel</button>\r\n          <button className=\"px-4 py-2 text-sm text-white bg-cyan-500\"onClick={handlePdfDownload}>PDF</button>\r\n          <button className=\"px-4 py-2 text-sm text-white bg-cyan-500\"onClick={handlePrint}>Print</button>\r\n          <button className=\"px-4 py-2 text-sm text-white bg-cyan-500\"onClick={handleCsvDownload}>CSV</button>\r\n          {/* <button className=\"px-4 py-2 text-sm text-white bg-cyan-500\">Columns</button> */}\r\n          <input\r\n            type=\"text\"\r\n            value={searchTerm}\r\n            onChange={(e)=>setSearchTerm(e.target.value)}\r\n            placeholder=\"Search\"\r\n            className=\"w-full p-2 text-sm border border-gray-300 md:w-auto\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"min-w-full bg-white border border-gray-300\">\r\n          <thead>\r\n            <tr className=\"bg-gray-200\">\r\n              <th className=\"px-4 py-2 text-sm border md:text-base\">Select</th>\r\n              <th className=\"px-4 py-2 text-sm border md:text-base\">Adjustment Date</th>\r\n              <th className=\"px-4 py-2 text-sm border md:text-base\">Reference No.</th>\r\n              <th className=\"px-4 py-2 text-sm border md:text-base\">Created by</th>\r\n              <th className=\"px-4 py-2 text-sm border md:text-base\">Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n           \r\n            {currentUsers.length>0?\r\n      currentUsers.map((adjustment,index) => (\r\n        <tr key={adjustment._id} className=\"hover:bg-gray-100\">\r\n        <td className=\"px-4 py-2 border\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={!!selectedAdjustments[index]}\r\n            onChange={(e) => handleCheckboxChange(e, index)}\r\n            className=\"text-cyan-500\"\r\n          />\r\n        </td>\r\n        <td className=\"px-4 py-2 text-sm border md:text-base\">{new Date(adjustment.adjustmentDate).toDateString()}</td>\r\n        <td className=\"px-4 py-2 text-sm border md:text-base\">{adjustment.referenceNo}</td>\r\n        <td className=\"px-4 py-2 text-sm border md:text-base\">{adjustment.createdBy}</td>\r\n        <td className=\"relative flex justify-center p-2 border\">\r\n    <button\r\n      onClick={() => {\r\n        setDropdownIndex(dropdownIndex === adjustment._id ? null : adjustment._id);\r\n      }}\r\n      className=\"px-3 py-1 text-white transition rounded bg-cyan-600 hover:bg-cyan-700\"\r\n    >\r\n      Action ▼\r\n    </button>\r\n\r\n    {dropdownIndex === adjustment._id && (\r\n      <div\r\n        // ref={dropdownRef}\r\n        className=\"absolute right-0 z-50 mt-2 bg-white border border-gray-200 rounded-md shadow-lg w-36 animate-fade-in\"\r\n      >\r\n        <button\r\n          className=\"flex items-center w-full px-3 py-2 text-gray-700 hover:bg-gray-100\"\r\n          onClick={() => navigate(`/stock-adjustment?id=${adjustment._id}`)}\r\n        >\r\n          <FaEdit className=\"mr-2\" /> Edit\r\n        </button>\r\n        <button\r\n          className=\"flex items-center w-full px-3 py-2 text-red-600 hover:bg-gray-100\"\r\n          onClick={() => handledelete(adjustment._id)}\r\n        >\r\n          <FaTrash className=\"mr-2\" /> Delete\r\n        </button>\r\n      </div>\r\n    )}\r\n  </td>\r\n      </tr>\r\n      ))\r\n    : (\r\n      <tr>\r\n        <td colSpan=\"10\" className=\"py-4 font-semibold text-center border\">No Data Available</td>\r\n      </tr>\r\n    )\r\n  }\r\n          </tbody>\r\n        </table>\r\n        <div className=\"flex flex-col items-center justify-between mt-4 md:flex-row\">\r\n              <p className=\"text-sm\">Showing {(currentPage - 1) * entriesPerPage + 1} to {Math.min(currentPage * entriesPerPage, adjustments.length)} of {adjustments.length} entries</p>\r\n              <div className=\"flex gap-1\">\r\n                <button\r\n                  className={`px-2 py-1 rounded ${currentPage === 1 ? \"bg-gray-300 cursor-not-allowed\" : \"bg-blue-500 text-white\"}`}\r\n                  disabled={currentPage === 1}\r\n                  onClick={() => setCurrentPage(currentPage - 1)}\r\n                >\r\n                  Previous\r\n                </button>\r\n                {/* <span className=\"px-3 py-1 text-white bg-blue-500 rounded\">{currentPage}</span> */}\r\n                <button\r\n                  className={`px-2 py-1 rounded ${currentPage === totalPages ? \"bg-gray-300 cursor-not-allowed\" : \"bg-blue-500 text-white\"}`}\r\n                  disabled={currentPage === totalPages}\r\n                  onClick={() => setCurrentPage(currentPage + 1)}\r\n                >\r\n                  Next\r\n                </button>\r\n              </div>\r\n            </div>\r\n      </div>\r\n\r\n     \r\n    </div>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default StockAdjustmentList;\r\n"],"names":["LoadingScreen","isSidebarOpen","setSidebarOpen","useState","_jsxs","className","children","_jsx","Navbar","Sidebar","StockAdjustmentList","navigate","useNavigate","currentPage","setCurrentPage","entriesPerPage","setEntriesPerPage","selectedAdjustments","setSelectedAdjustments","show","setShow","loading","setLoading","adjustments","setAdjustments","warehouse","setWarehouse","searchTerm","setSearchTerm","dropdownIndex","setDropdownIndex","useEffect","window","innerWidth","fetchExpenses","async","token","localStorage","getItem","response","axios","get","headers","Authorization","console","log","data","err","message","filteredData","filter","item","_id","toLowerCase","includes","totalPages","Math","ceil","length","currentUsers","slice","newWarehouse","map","wh","label","warehouseName","value","fetchWareHouse","error","fetchData","href","FaTachometerAlt","BiChevronRight","onChange","e","target","index","Link","to","Number","onClick","handleCopy","adjustment","Date","adjustmentDate","toDateString","referenceNo","createdBy","join","navigator","clipboard","writeText","alert","handleExcelDownload","ws","XLSX","json_to_sheet","wb","book_new","book_append_sheet","handlePdfDownload","doc","jsPDF","text","tableData","autoTable","head","body","save","handlePrint","print","handleCsvDownload","csvContent","user","Object","values","encodedUri","encodeURI","link","document","createElement","setAttribute","appendChild","click","removeChild","type","placeholder","checked","handleCheckboxChange","newSelectedAdjustments","FaEdit","confirm","fetch","id","method","ok","Error","handledelete","FaTrash","colSpan","min","disabled"],"sourceRoot":""}