"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1124],{14840:(e,t,s)=>{s.d(t,{A:()=>n});var l=s(65043),r=s(21197),a=s(59255),i=s(70579);function n(){const[e,t]=(0,l.useState)(!1);return(0,i.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,i.jsx)(r.A,{isSidebarOpen:e,setSidebarOpen:t}),(0,i.jsxs)("div",{className:"flex flex-grow mt-20",children:[(0,i.jsx)("div",{children:(0,i.jsx)(a.A,{isSidebarOpen:e})}),(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin"}),(0,i.jsx)("p",{className:"mt-3 text-lg font-semibold text-gray-700",children:"Loading..."})]})})]})]})}},42569:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var l=s(65043),r=s(60184),a=s(21197),i=s(59255),n=s(86213),o=s(14840),d=s(66727),c=s(26873),x=s(80775),m=s(70579);const h=()=>{var e;const[t,s]=(0,l.useState)(!0),[h,p]=(0,l.useState)(""),[u,b]=(0,l.useState)(10),[f,g]=(0,l.useState)(1),[j,y]=(0,l.useState)(!1),v=(0,d.Zp)(),[N,w]=(0,l.useState)(!1),[S,k]=(0,l.useState)([]),[C,A]=(0,l.useState)([]),[I,L]=(0,l.useState)([]),[P,E]=(0,l.useState)([]),[D,M]=(0,l.useState)("All"),[B,O]=(0,l.useState)(""),[W,$]=(0,l.useState)(null);(0,l.useEffect)((()=>{window.innerWidth<768&&s(!1)}),[window.innerWidth]);const z=async()=>{try{y(!0);const e=await n.A.get("api/marketing-item/all",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log(e.data),console.log(e.data.data.trending),L(e.data.data||[]),E(e.data.data.trending||[]);const t=Object.keys(e.data.data).map((e=>({label:e.toUpperCase(),value:e})));O(t)}catch(e){console.error("Error fetching advance payments:",e.message)}finally{y(!1)}};(0,l.useEffect)((()=>{z()}),[]),(0,l.useEffect)((()=>{E(I[D])}),[D]);let _=null===P||void 0===P?void 0:P.filter((e=>{var t;return null===(t=e.item)||void 0===t?void 0:t.itemName.toLowerCase().includes(h.toLowerCase())}));(0,l.useEffect)((()=>{_=null===P||void 0===P?void 0:P.filter((e=>{var t;return null===(t=e.item)||void 0===t?void 0:t.itemName.toLowerCase().includes(h.toLowerCase())})),console.log(_)}),[D]);const T=f*u,V=T-u,F=Math.ceil(10/u),H=null===(e=_)||void 0===e?void 0:e.slice(V,T),R=e=>{e>=1&&e<=F&&g(e)};return j?(0,m.jsx)(o.A,{}):(0,m.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,m.jsx)(a.A,{isSidebarOpen:t,setSidebarOpen:s}),(0,m.jsxs)("div",{className:"box-border flex",children:[(0,m.jsx)("div",{className:"w-auto",children:(0,m.jsx)(i.A,{isSidebarOpen:t})}),(0,m.jsxs)("div",{className:"overflow-x-auto  flex flex-col p-2 md:p-2 min-h-screen w-full",children:[(0,m.jsxs)("header",{className:"flex flex-col items-start justify-between p-0 mb-6 md:flex-row md:items-center",children:[(0,m.jsx)("h2",{className:"text-lg font-bold md:text-xl",children:"Marketing Item List"}),(0,m.jsxs)("nav",{className:"flex flex-wrap gap-2 mt-2 text-sm text-gray-600 md:mt-0",children:[(0,m.jsxs)(d.k2,{to:"/dashboard",className:"flex items-center text-gray-700 no-underline hover:text-cyan-600",children:[(0,m.jsx)(r.$BV,{className:"mr-2 text-gray-500 hover:text-cyan-600"})," Home"]}),(0,m.jsx)(d.k2,{to:"/marketingitem/view",className:"flex items-center text-gray-700 no-underline hover:text-cyan-600",children:"> Marketing Item List"})]})]}),N&&(0,m.jsx)(x.A,{setView:w,data:S}),(0,m.jsxs)("div",{className:"p-4 mb-4 bg-white border-t-4 rounded shadow border-cyan-500",children:[(0,m.jsxs)("div",{className:"flex flex-col items-center justify-between mb-4 md:flex-row md:items-center",children:[(0,m.jsx)("h3",{className:"text-lg font-semibold",children:"Marketing Item List"}),(0,m.jsx)("button",{className:"px-4 py-1 mt-2 text-white rounded bg-cyan-400 hover:bg-cyan-600 md:mt-0",onClick:()=>v("/marketingitem/add"),children:"+ Create Marketing Item"})]}),(0,m.jsxs)("div",{className:"flex flex-col justify-between mt-4 mb-4 space-y-2 md:flex-row md:space-y-0 md:items-center",children:[(0,m.jsx)("div",{className:"w-full md:w-1/2",children:(0,m.jsxs)("div",{className:"w-full",children:[(0,m.jsx)("label",{htmlFor:"",children:"Type"}),(0,m.jsx)(c.Ay,{className:"w-full",options:B,onChange:e=>M(e.value)})]})}),(0,m.jsxs)("div",{className:"flex flex-col items-baseline gap-2 md:flex-row",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)("span",{className:"text-sm",children:"Show"}),(0,m.jsxs)("select",{className:"p-2 text-sm border border-gray-300 rounded-md",value:u,onChange:e=>{b(Number(e.target.value)),g(1)},children:[(0,m.jsx)("option",{children:"10"}),(0,m.jsx)("option",{children:"20"}),(0,m.jsx)("option",{children:"50"})]}),(0,m.jsx)("span",{className:"text-sm",children:"Entries"})]}),(0,m.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between flex-1 gap-2",children:[(0,m.jsx)("button",{className:"px-3 py-2 text-sm text-white bg-cyan-500",children:"Copy"}),(0,m.jsx)("button",{className:"px-3 py-2 text-sm text-white bg-cyan-500",children:"Excel"}),(0,m.jsx)("button",{className:"px-3 py-2 text-sm text-white bg-cyan-500",children:"PDF"}),(0,m.jsx)("button",{className:"px-3 py-2 text-sm text-white bg-cyan-500",children:"Print"}),(0,m.jsx)("button",{className:"px-3 py-2 text-sm text-white bg-cyan-500",children:"CSV"})]}),(0,m.jsx)("input",{type:"text",placeholder:"Search",className:"w-full p-2 text-sm border border-gray-300 ",onChange:e=>p(e.target.value)})]})]})]}),(0,m.jsx)("div",{className:"w-full overflow-x-auto",children:(0,m.jsxs)("table",{className:"w-full bg-white border-collapse rounded-md shadow-lg",children:[(0,m.jsx)("thead",{className:"text-sm bg-gray-100",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"px-4 py-2 border",children:"ID"}),(0,m.jsx)("th",{className:"px-4 py-2 border",children:"Date"}),(0,m.jsx)("th",{className:"px-4 py-2 border",children:"Type"}),(0,m.jsx)("th",{className:"px-4 py-2 border",children:"ItemName"}),(0,m.jsx)("th",{className:"px-4 py-2 border",children:"Total Sold"}),(0,m.jsx)("th",{className:"px-4 py-2 border",children:"Purchase Price "}),(0,m.jsx)("th",{className:"px-4 py-2 border",children:"Price Without Tax"}),(0,m.jsx)("th",{className:"px-4 py-2 border",children:"SalesPrice"}),(0,m.jsx)("th",{className:"px-4 py-2 border",children:"Action"})]})}),(0,m.jsx)("tbody",{children:0===H.length?(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:"7",className:"py-4 text-sm text-center text-gray-500",children:"No data available in table"})}):H.map((e=>{var t,s,l,a;return(0,m.jsxs)("tr",{className:"border-t",children:[(0,m.jsx)("td",{className:"px-4 py-2 border",children:e._id}),(0,m.jsx)("td",{className:"px-4 py-2 border",children:new Date(e.createdAt).toDateString()}),(0,m.jsx)("td",{className:"px-4 py-2 border",children:e.type}),(0,m.jsx)("td",{className:"px-4 py-2 border",children:(null===(t=e.item)||void 0===t?void 0:t.itemName)||"NA"}),(0,m.jsx)("td",{className:"px-4 py-2 border",children:e.totalSold||"NA"}),(0,m.jsx)("td",{className:"px-4 py-2 border",children:(null===(s=e.item)||void 0===s?void 0:s.purchasePrice)||"NA"}),(0,m.jsx)("td",{className:"px-4 py-2 border",children:(null===(l=e.item)||void 0===l?void 0:l.purchasePrice)||"NA"}),(0,m.jsx)("td",{className:"px-4 py-2 border",children:(null===(a=e.item)||void 0===a?void 0:a.purchasePrice)||"NA"}),(0,m.jsxs)("td",{className:"relative px-4 py-2 border",children:[(0,m.jsxs)("button",{className:"flex items-center gap-1 px-4 py-1.5 text-sm font-medium text-white bg-cyan-600 rounded hover:bg-cyan-700 transition-colors",onClick:()=>{return t=e._id,void $(W===t?null:t);var t},children:["Action ",(0,m.jsx)("span",{className:"text-xs",children:"\u25bc"})]}),W===e._id&&(0,m.jsxs)("div",{className:"absolute right-0 z-20 mt-2 bg-white border border-gray-200 shadow-lg w-44 rounded-xl animate-fadeIn",children:[(0,m.jsxs)("button",{className:"flex items-center w-full gap-2 px-4 py-2 text-sm text-blue-600 transition-colors rounded-t-xl hover:bg-blue-50",onClick:()=>{v(`/marketingitem/add?id=${e._id}`)},children:[(0,m.jsx)(r.Ny1,{}),"Edit"]}),(0,m.jsxs)("button",{className:"flex items-center w-full gap-2 px-4 py-2 text-sm text-red-600 transition-colors rounded-b-xl hover:bg-red-50",onClick:()=>(async e=>{if(window.confirm("Do you want to delete this ?")){y(!0);try{await n.A.delete(`api/marketing-item/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),alert("Deleted Successfully")}catch(t){console.error("Error deleting advance payment:",t.message)}finally{z(),y(!1)}}})(e._id),children:[(0,m.jsx)(r.qbC,{}),"Delete"]})]})]})]},e._id)}))})]})}),(0,m.jsxs)("div",{className:"flex flex-col items-start justify-between gap-2 p-2 md:justify-between md:flex-row",children:[(0,m.jsxs)("span",{children:["                    ",(0,m.jsxs)("span",{children:["Showing ",u*(f-1)+1," to ",Math.min(u*f,_.length)," of ",_.length," entries"]}),"              "]}),(0,m.jsxs)("div",{className:"flex justify-between w-full md:w-auto md:gap-2",children:[(0,m.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-200 shadow-md \n    "+(1===f?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white cursor-pointer"),onClick:()=>R(f-1),disabled:1===f,children:[(0,m.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Previous"]}),(0,m.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-200 shadow-md \n    "+(f===F?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white cursor-pointer"),onClick:()=>R(f+1),disabled:f===F,children:["Next",(0,m.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]})]})]})]})]})}},80775:(e,t,s)=>{s.d(t,{A:()=>r});s(65043);var l=s(70579);const r=e=>{let{setView:t,data:s}=e;return(0,l.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,l.jsxs)("div",{style:{backgroundColor:"#fff",padding:"30px",borderRadius:"12px",maxHeight:"80%",width:"80%",overflowY:"auto",boxShadow:"0 4px 20px rgba(0,0,0,0.3)",position:"relative"},children:[(0,l.jsx)("button",{onClick:()=>t(!1),style:{position:"absolute",top:"15px",right:"20px",background:"none",border:"none",fontSize:"26px",fontWeight:"bold",color:"#444",cursor:"pointer"},title:"Close",children:"\u2716"}),s.length>0?s.map(((e,t)=>(0,l.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,l.jsx)("h3",{style:{textAlign:"center",marginBottom:"20px",color:"#333"},children:e.item.itemName||"Unnamed Item"}),e.images&&e.images.length>0?(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"15px",justifyItems:"center"},children:e.images.map(((e,t)=>(0,l.jsx)("div",{style:{position:"relative",borderRadius:"10px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",width:"100%",maxWidth:"150px"},children:(0,l.jsx)("img",{src:`uploads/${e}`,alt:`Preview ${t+1}`,style:{width:"100%",height:"150px",objectFit:"cover",display:"block"}})},t)))}):(0,l.jsx)("p",{style:{textAlign:"center",color:"#666"},children:"No images selected for this item"})]},t))):(0,l.jsx)("p",{style:{textAlign:"center",color:"#666"},children:"No items available"})]})})}},82284:(e,t,s)=>{function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}s.d(t,{A:()=>l})}}]);
//# sourceMappingURL=1124.6f3f7170.chunk.js.map