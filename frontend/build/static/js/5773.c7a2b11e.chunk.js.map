{"version":3,"file":"static/js/5773.c7a2b11e.chunk.js","mappings":"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","sources":["Loading.jsx","components/Settings/AddTax.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nexport default function LoadingScreen() {\n    const[isSidebarOpen,setSidebarOpen]=useState(false)\n    return (\n        <div className='flex flex-col h-screen'>\n        {/* Navbar component with sidebar open state */}\n        <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\n        <div className='flex flex-grow mt-20'>\n          <div>\n            {/* Sidebar component with open state */}\n            <Sidebar isSidebarOpen={isSidebarOpen} />\n          </div>\n  \n          {/* Container for the entire component */}\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm\">\n          <div className=\"flex flex-col items-center\">\n            <div className=\"w-12 h-12 border-4 rounded-full border-cyan-500 border-t-transparent animate-spin\"></div>\n            <p className=\"mt-3 text-lg font-semibold text-gray-700\">Loading...</p>\n          </div>\n        </div>\n          \n        </div>\n      </div>\n    );\n  }\n  ","import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Navbar from \"../Navbar.jsx\";\r\nimport Sidebar from \"../Sidebar.jsx\";\r\nimport LoadingScreen from \"../../Loading\";\r\nimport { FaTachometerAlt } from \"react-icons/fa\";\r\n\r\nconst AddTax = () => {\r\n  const { taxId } = useParams(); // if present, we're in edit mode\r\n  const navigate = useNavigate();\r\n  const [isSidebarOpen, setSidebarOpen] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  const [taxData, setTaxData] = useState({\r\n    taxName: \"\",\r\n    taxPercentage: 0,\r\n    status: \"active\",\r\n  });\r\n useEffect(()=>{\r\n    if(window.innerWidth < 768){\r\n      setSidebarOpen(false)\r\n    }\r\n  },[])\r\n  // Fetch tax details if editing\r\n  useEffect(() => {\r\n    if (taxId) {\r\n      const fetchTax = async () => {\r\n        setLoading(true);\r\n        try {\r\n          const token = localStorage.getItem(\"token\");\r\n          const res = await axios.get(`api/taxes/${taxId}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          });\r\n          setTaxData({\r\n            taxName: res.data.data.taxName || \"\",\r\n            taxPercentage: res.data.data.taxPercentage || 0,\r\n            status: res.data.data.status || \"active\",\r\n          });\r\n        } catch (error) {\r\n          console.error(\"Error fetching tax:\", error.message);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      fetchTax();\r\n    }\r\n  }, [taxId]);\r\n\r\n  const handleChange = (e) => {\r\n    setTaxData({ ...taxData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (taxId) {\r\n        // Update tax\r\n        await axios.put(`api/taxes/${taxId}`, taxData, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        alert(\"Tax updated successfully!\");\r\n      } else {\r\n        // Create new tax\r\n        await axios.post(\"api/taxes\", taxData, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        alert(\"Tax created successfully!\");\r\n      }\r\n      navigate(\"/tax-list\"); // Navigate back to the tax list\r\n    } catch (error) {\r\n      console.error(\"Error submitting tax:\", error.message);\r\n      alert(\"Error submitting tax\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <LoadingScreen />;\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-screen bg-gray-100\">\r\n      {/* Navbar */}\r\n      <Navbar isSidebarOpen={isSidebarOpen} setSidebarOpen={setSidebarOpen} />\r\n      {/* Main Layout: Sidebar & Content */}\r\n      <div className=\"flex flex-grow\">\r\n        <Sidebar isSidebarOpen={isSidebarOpen} />\r\n        <div className={`flex-grow  flex flex-col p-4 md:p-6 `}>\r\n          {/* Header */}\r\n          <header className=\"flex flex-col items-center justify-between p-4 mb-2 bg-white rounded-md shadow sm:flex-row\">\r\n            <div className=\"flex items-baseline gap-2 sm:flex-row\">\r\n              <h1 className=\"text-xl font-semibold\">{taxId ? \"Edit Tax\" : \"Add Tax\"}</h1>\r\n              <span className=\"text-sm text-gray-600\">\r\n                {taxId ? \"Update Tax\" : \"Create Tax\"}\r\n              </span>\r\n            </div>\r\n            <nav className=\"flex items-center text-sm text-gray-500\">\r\n              <a href=\"/dashboard\" className=\"flex items-center text-gray-700 no-underline hover:text-cyan-600\">\r\n                <FaTachometerAlt className=\"mr-2\" /> Home\r\n              </a>\r\n              <span className=\"mx-2\">/</span>\r\n              <a href=\"/tax-list\" className=\"text-gray-700 no-underline hover:text-cyan-600\">\r\n                Tax List\r\n              </a>\r\n            </nav>\r\n          </header>\r\n\r\n          {/* Form */}\r\n          <div className=\"p-6 bg-white rounded shadow-md\">\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-2 font-semibold\">Tax Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"taxName\"\r\n                  value={taxData.taxName}\r\n                  onChange={handleChange}\r\n                  className=\"w-full p-2 border border-gray-300 rounded\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-2 font-semibold\">Tax Percentage (%)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"taxPercentage\"\r\n                  value={taxData.taxPercentage}\r\n                  onChange={handleChange}\r\n                  className=\"w-full p-2 border border-gray-300 rounded\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-2 font-semibold\">Status</label>\r\n                <select\r\n                  name=\"status\"\r\n                  value={taxData.status}\r\n                  onChange={handleChange}\r\n                  className=\"w-full p-2 border border-gray-300 rounded\"\r\n                >\r\n                  <option value=\"active\">Active</option>\r\n                  <option value=\"inactive\">Inactive</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"flex justify-end space-x-2\">\r\n                <button type=\"submit\" className=\"px-4 py-2 font-semibold text-white bg-green-500 rounded hover:bg-green-600\">\r\n                  {taxId ? \"Update Tax\" : \"Save Tax\"}\r\n                </button>\r\n                <button type=\"button\" onClick={() => navigate(\"/tax-list\")} className=\"px-4 py-2 font-semibold text-white bg-orange-500 rounded hover:bg-orange-600\">\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddTax;\r\n"],"names":["LoadingScreen","isSidebarOpen","setSidebarOpen","useState","_jsxs","className","children","_jsx","Navbar","Sidebar","AddTax","taxId","useParams","navigate","useNavigate","loading","setLoading","taxData","setTaxData","taxName","taxPercentage","status","useEffect","window","innerWidth","async","token","localStorage","getItem","res","axios","get","headers","Authorization","data","error","console","message","fetchTax","handleChange","e","target","name","value","href","FaTachometerAlt","onSubmit","preventDefault","put","alert","post","type","onChange","required","onClick"],"sourceRoot":""}