"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4965],{34965:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var n=t(65043),o=t(66727),a=t(86213),r=t(70579);const l=()=>{const[e,s]=(0,n.useState)({email:"",password:""}),t=(0,o.Zp)(),[l,i]=(0,n.useState)(!1),d=t=>{s({...e,[t.target.name]:t.target.value})};return(0,r.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,r.jsxs)("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-lg",children:[(0,r.jsx)("h2",{className:"mb-6 text-2xl font-semibold text-center text-gray-700",children:"Admin Login"}),(0,r.jsxs)("form",{onSubmit:async s=>{s.preventDefault();try{i(!0);const s=await a.A.post("auth/login",e,{withCredentials:!0});console.log(s),localStorage.setItem("token",s.data.token),localStorage.setItem("role",s.data.role);const n=["manageUsers","viewStores","viewReports","sendMessages","addStore","editStore","VIEW_ROLES"];localStorage.setItem("permissions",JSON.stringify(s.data.permissions||("admin"===s.data.role?n:[]))),alert("Login successful!"),t("/dashboard")}catch(n){alert("Login failed. Check your credentials.")}finally{i(!1)}},children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("input",{type:"email",name:"email",placeholder:"Email",onChange:d,required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:d,required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,r.jsx)("button",{type:"submit",className:"w-full py-3 font-semibold text-white bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:l?"Logging...":"Login"})]}),(0,r.jsxs)("div",{className:"mt-4 text-center",children:[(0,r.jsx)("br",{}),(0,r.jsx)("button",{onClick:()=>t("/user-login"),className:"text-blue-500 hover:text-blue-700 focus:outline-none",children:"Login As a User"}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{onClick:()=>t("/audit-login"),className:"text-blue-500 hover:text-blue-700 focus:outline-none",children:"Login As a Auditor"})]})]})})}}}]);
//# sourceMappingURL=4965.75e634b7.chunk.js.map